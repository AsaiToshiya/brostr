<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="relays" content="" />
    <meta name="usage" content="" />
    <meta name="wikilink-prefix" content="" />
    <title>Wiki Article</title>
    <script type="module" crossorigin>var ai=Object.defineProperty;var li=(e,o,p)=>o in e?ai(e,o,{enumerable:!0,configurable:!0,writable:!0,value:p}):e[o]=p;var St=(e,o,p)=>li(e,typeof o!="symbol"?o+"":o,p);(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const D of document.querySelectorAll('link[rel="modulepreload"]'))J(D);new MutationObserver(D=>{for(const he of D)if(he.type==="childList")for(const se of he.addedNodes)se.tagName==="LINK"&&se.rel==="modulepreload"&&J(se)}).observe(document,{childList:!0,subtree:!0});function p(D){const he={};return D.integrity&&(he.integrity=D.integrity),D.referrerPolicy&&(he.referrerPolicy=D.referrerPolicy),D.crossOrigin==="use-credentials"?he.credentials="include":D.crossOrigin==="anonymous"?he.credentials="omit":he.credentials="same-origin",he}function J(D){if(D.ep)return;D.ep=!0;const he=p(D);fetch(D.href,he)}})();function ui(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ci(e){if(e.__esModule)return e;var o=e.default;if(typeof o=="function"){var p=function J(){return this instanceof J?Reflect.construct(o,arguments,this.constructor):o.apply(this,arguments)};p.prototype=o.prototype}else p={};return Object.defineProperty(p,"__esModule",{value:!0}),Object.keys(e).forEach(function(J){var D=Object.getOwnPropertyDescriptor(e,J);Object.defineProperty(p,J,D.get?D:{enumerable:!0,get:function(){return e[J]}})}),p}/**
 * @license Asciidoctor.js 3.0.4 | MIT | https://github.com/asciidoctor/asciidoctor.js
 */(function(e){var o;if(typeof globalThis<"u"?e=globalThis:typeof global<"u"?e=global:typeof window<"u"&&(e=window),e.console==null&&(e.console={}),typeof e.console=="object"?o=e.console:o={},"log"in o||(o.log=function(){}),"warn"in o||(o.warn=o.log),typeof e.Opal<"u")return o.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),e.Opal;var p,J,D,he,se,le,ne,F=e.Opal={};F.global=e,F.config={missing_require_severity:"error",unsupported_features_severity:"warning",experimental_features_severity:"warning",enable_stack_trace:!0};var Se=Function.prototype.call,ge=Function.prototype.bind,qe=Object.hasOwn||Se.bind(Object.prototype.hasOwnProperty),Pe=Object.setPrototypeOf,je=Se.bind(Array.prototype.slice),ye=Se.bind(Array.prototype.splice),Q=4,Ae=Q;function We(){return Ae+=2,Ae}F.uid=We,F.id=function(_){return _.$$is_number?_*2+1:(_.$$id==null&&ce(_,"$$id",We()),_.$$id)};var Fe=F.gvars={};F.exit=function(_){Fe.DEBUG&&o.log("Exited with status "+_)},F.exceptions=[],F.pop_exception=function(){var _=F.exceptions.pop();_?(Fe["!"]=_,Fe["@"]=_.$backtrace()):Fe["!"]=Fe["@"]=p};function ze(_,k){if(_||(_=F.Exception||Error),ne&&ne.$raise)arguments.length>2?ne.$raise(_.$new.apply(_,je(arguments,1))):ne.$raise(_,k);else throw _.$new?_.$new(k):new _(k)}function ce(_,k,re){typeof _=="string"?_[k]=re:Object.defineProperty(_,k,{value:re,enumerable:!1,configurable:!0,writable:!0})}F.prop=ce,F.defineProperty=F.prop,F.slice=je;var be=F.truthy=function(_){return _!==!1&&p!==_&&_!==void 0&&_!==null&&(!(_ instanceof Boolean)||_.valueOf()===!0)};F.falsy=function(_){return!be(_)},F.type_error=function(_,k,re,ke){_=_.$$class,ke&&re?(ke=ke.$$class,ze(F.TypeError,"can't convert "+_+" into "+k+" ("+_+"#"+re+" gives "+ke+")")):ze(F.TypeError,"no implicit conversion of "+_+" into "+k)},F.coerce_to=function(_,k,re,ke){var Ye;return re==="to_int"&&k===F.Integer&&_.$$is_number?_<0?Math.ceil(_):Math.floor(_):re==="to_str"&&k===F.String&&_.$$is_string||F.is_a(_,k)?_:_["$respond_to?"].$$pristine&&_.$method_missing.$$pristine?(Ye=_[_t(re)],(Ye==null||Ye.$$stub)&&F.type_error(_,k),Ye.apply(_,ke)):(_["$respond_to?"](re)||F.type_error(_,k),ke==null&&(ke=[]),F.send(_,re,ke))},F.respond_to=function(_,k,re){if(_==null||!_.$$class)return!1;re=!!re;var ke=_[k];if(_["$respond_to?"].$$pristine){if(typeof ke=="function"&&!ke.$$stub)return!0;if(!_["$respond_to_missing?"].$$pristine)return F.send(_,_["$respond_to_missing?"],[k.substr(1),re])}else return F.send(_,_["$respond_to?"],[k.substr(1),re])},F.trace_class=!1,F.tracers_for_class=[];function ue(_){var k,re,ke;for(k=0,re=F.tracers_for_class.length;k<re;k++)ke=F.tracers_for_class[k],ke.trace_object=_,ke.block.$call(ke)}function Le(_,k){if(_.$$autoload[k].loaded){if(_.$$autoload[k].loaded&&!_.$$autoload[k].required&&_.$$autoload[k].exception)throw _.$$autoload[k].exception}else{_.$$autoload[k].loaded=!0;try{F.Kernel.$require(_.$$autoload[k].path)}catch(re){throw _.$$autoload[k].exception=re,re}if(_.$$autoload[k].required=!0,_.$$const[k]!=null)return _.$$autoload[k].success=!0,_.$$const[k]}}function ae(_,k){if(_){if(_.$$const[k]!=null)return _.$$const[k];if(_.$$autoload&&_.$$autoload[k])return Le(_,k)}}function xe(_,k){var re,ke,Ye;if(_.length!==0)for(re=0,ke=_.length;re<ke;re++){if(Ye=_[re].$$const[k],Ye!=null)return Ye;if(_[re].$$autoload&&_[re].$$autoload[k])return Le(_[re],k)}}function ee(_,k){var re,ke,Ye;if(_!=null)for(Ye=Oe(_),re=0,ke=Ye.length;re<ke;re++){if(Ye[re].$$const&&qe(Ye[re].$$const,k))return Ye[re].$$const[k];if(Ye[re].$$autoload&&Ye[re].$$autoload[k])return Le(Ye[re],k)}}function m(_,k){if(_==null||_.$$is_module)return ee(D,k)}function _e(_,k){return(_||D).$const_missing(k)}F.const_get_local=function(_,k,re){var ke;if(_!=null)return _==="::"&&(_=D),!_.$$is_module&&!_.$$is_class&&ze(F.TypeError,_.toString()+" is not a class/module"),ke=ae(_,k),ke!=null||re?ke:_e(_,k)},F.const_get_qualified=function(_,k,re){var ke,Ye,nt,t=F.const_cache_version;if(k==null)return ke=ae(D,_),ke??F.const_get_qualified(D,_,re);if(_!=null)return _==="::"&&(_=D),!_.$$is_module&&!_.$$is_class&&ze(F.TypeError,_.toString()+" is not a class/module"),(Ye=_.$$const_cache)==null&&(ce(_,"$$const_cache",Object.create(null)),Ye=_.$$const_cache),nt=Ye[k],nt==null||nt[0]!==t?((ke=ae(_,k))!=null||(ke=ee(_,k))!=null,Ye[k]=[t,ke]):ke=nt[1],ke!=null||re?ke:_e(_,k)},F.const_cache_version=1,F.const_get_relative=function(_,k,re){var ke=_[0],Ye,nt=F.const_cache_version,t,W;return(t=_.$$const_cache)==null&&(ce(_,"$$const_cache",Object.create(null)),t=_.$$const_cache),W=t[k],W==null||W[0]!==nt?((Ye=ae(ke,k))!=null||(Ye=xe(_,k))!=null||(Ye=ee(ke,k))!=null||(Ye=m(ke,k))!=null,t[k]=[nt,Ye]):Ye=W[1],Ye!=null||re?Ye:_e(ke,k)};function z(_,k,re){var ke=!0;return(_==null||_==="::")&&(_=D),re.$$is_a_module&&((re.$$name==null||re.$$name===p)&&(re.$$name=k),re.$$base_module==null&&(re.$$base_module=_)),_.$$const=_.$$const||Object.create(null),(k in _.$$const||"$$autoload"in _&&k in _.$$autoload)&&(ke=!1),_.$$const[k]=re,_.$$=_.$$const,F.const_cache_version++,_===D&&(F[k]=re),ce(_,k,re),ke&&_.$const_added&&!_.$const_added.$$pristine&&_.$const_added(k),re}F.const_set=z,F.constants=function(_,k){k==null&&(k=!0);var re,ke=[_],Ye,nt,t={},W;for(k&&(ke=ke.concat(Oe(_))),k&&_.$$is_module&&(ke=ke.concat([F.Object]).concat(Oe(F.Object))),Ye=0,nt=ke.length;Ye<nt&&(re=ke[Ye],!(_!==D&&re==D));Ye++){for(W in re.$$const)t[W]=!0;if(re.$$autoload)for(W in re.$$autoload)t[W]=!0}return Object.keys(t)},F.const_remove=function(_,k){if(F.const_cache_version++,_.$$const[k]!=null){var re=_.$$const[k];return delete _.$$const[k],re}if(_.$$autoload&&_.$$autoload[k])return delete _.$$autoload[k],p;ze(F.NameError,"constant "+_+"::"+_.$name()+" not defined")},F.const_get_relative_factory=function(_){return function(k,re){return F.$$(_,k,re)}},F.$$=F.const_get_relative,F.$$$=F.const_get_qualified,F.$r=F.const_get_relative_factory;function K(_,k,re){var ke;if(k!=null&&k.$$bridge?ke=function(){var W=je(arguments),H=new(ge.apply(k.$$constructor,[null].concat(W)));return Pe(H,ke.$$prototype),H}:ke=function(){},_&&_!==p&&ce(ke,"displayName","::"+_),ce(ke,"$$name",_),ce(ke,"$$constructor",ke),ce(ke,"$$prototype",ke.prototype),ce(ke,"$$const",{}),ce(ke,"$$is_class",!0),ce(ke,"$$is_a_module",!0),ce(ke,"$$super",k),ce(ke,"$$cvars",{}),ce(ke,"$$own_included_modules",[]),ce(ke,"$$own_prepended_modules",[]),ce(ke,"$$ancestors",[]),ce(ke,"$$ancestors_cache_version",null),ce(ke,"$$subclasses",[]),ce(ke.$$prototype,"$$class",ke),F.Class&&Pe(ke,F.Class.prototype),k!=null){if(Pe(ke.$$prototype,k.$$prototype),re!==!0)if(typeof WeakRef<"u"){var Ye,nt,t=[];for(Ye=0;Ye<k.$$subclasses.length;Ye++)nt=k.$$subclasses[Ye],nt.deref()!==void 0&&t.push(nt);t.push(new WeakRef(ke)),k.$$subclasses=t}else k.$$subclasses.push(ke);k.$$meta&&F.build_class_singleton_class(ke)}return ke}F.allocate_class=K;function C(_,k){var re=ae(_,k);if(re)return re.$$is_class||ze(F.TypeError,k+" is not a class"),re}function Te(_,k){_.$$super!==k&&ze(F.TypeError,"superclass mismatch for class "+_.$$name)}F.klass=function(_,k,re){var ke;_==null||_=="::"?_=D:!_.$$is_class&&!_.$$is_module&&(_=_.$$class),k!=null&&(!k.hasOwnProperty||k.hasOwnProperty&&!k.hasOwnProperty("$$is_class"))&&(k.constructor&&k.constructor.name=="Function"?(ke=k,k=D):ze(F.TypeError,"superclass must be a Class ("+(k.constructor&&(k.constructor.name||k.constructor.$$name)||typeof k)+" given)"));var Ye=C(_,re);return Ye!=null?k&&Te(Ye,k):(k==null&&(k=D),Ye=K(re,k),z(_,re,Ye),k.$inherited&&k.$inherited(Ye),ke&&F.bridge(ke,Ye)),F.trace_class&&ue(Ye),Ye};function ie(_){var k=function(){},re=k;return _&&ce(k,"displayName",_+".constructor"),ce(re,"$$name",_),ce(re,"$$prototype",k.prototype),ce(re,"$$const",{}),ce(re,"$$is_module",!0),ce(re,"$$is_a_module",!0),ce(re,"$$cvars",{}),ce(re,"$$iclasses",[]),ce(re,"$$own_included_modules",[]),ce(re,"$$own_prepended_modules",[]),ce(re,"$$ancestors",[re]),ce(re,"$$ancestors_cache_version",null),Pe(re,F.Module.prototype),re}F.allocate_module=ie;function M(_,k){var re=ae(_,k);return re==null&&_===D&&(re=ee(D,k)),re&&!re.$$is_module&&re!==D&&ze(F.TypeError,k+" is not a module"),re}F.module=function(_,k){var re;return _==null||_=="::"?_=D:!_.$$is_class&&!_.$$is_module&&(_=_.$$class),re=M(_,k),re==null&&(re=ie(k),z(_,k,re)),F.trace_class&&ue(re),re},F.get_singleton_class=function(_){return _.$$is_number&&ze(F.TypeError,"can't define singleton"),_.$$meta?_.$$meta:_.hasOwnProperty("$$is_class")?F.build_class_singleton_class(_):_.hasOwnProperty("$$is_module")?F.build_module_singleton_class(_):F.build_object_singleton_class(_)};function d(_,k){_.hasOwnProperty("$$meta")?_.$$meta=k:ce(_,"$$meta",k),_.$$frozen?_.$$meta.$freeze():Pe(_,k.$$prototype)}F.build_class_singleton_class=function(_){if(_.$$meta)return _.$$meta;var k=_===J?se:F.get_singleton_class(_.$$super),re=K(null,k,!0);return ce(re,"$$is_singleton",!0),ce(re,"$$singleton_of",_),d(_,re),ce(_,"$$class",F.Class),re},F.build_module_singleton_class=function(_){if(_.$$meta)return _.$$meta;var k=K(null,F.Module,!0);return ce(k,"$$is_singleton",!0),ce(k,"$$singleton_of",_),d(_,k),ce(_,"$$class",F.Module),k},F.build_object_singleton_class=function(_){var k=_.$$class,re=K(p,k,!0);return ce(re,"$$is_singleton",!0),ce(re,"$$singleton_of",_),delete re.$$prototype.$$class,d(_,re),re},F.is_method=function(_){return _[0]==="$"&&_[1]!=="$"},F.instance_methods=function(_){for(var k=[],re=[],ke=Oe(_),Ye=0,nt=ke.length;Ye<nt;Ye++){var t=ke[Ye],W=t.$$prototype;W.hasOwnProperty("$$dummy")&&(W=W.$$define_methods_on);for(var H=Object.getOwnPropertyNames(W),T=0,O=H.length;T<O;T++){var c=H[T];if(F.is_method(c)){var N=c.slice(1),Ne=W[c];Ne.$$stub&&k.indexOf(N)===-1&&k.push(N),!Ne.$$stub&&re.indexOf(N)===-1&&k.indexOf(N)===-1&&re.push(N)}}}return re},F.own_instance_methods=function(_){var k=[],re=_.$$prototype;re.hasOwnProperty("$$dummy")&&(re=re.$$define_methods_on);for(var ke=Object.getOwnPropertyNames(re),Ye=0,nt=ke.length;Ye<nt;Ye++){var t=ke[Ye];if(F.is_method(t)){var W=re[t];if(!W.$$stub){var H=t.slice(1);k.push(H)}}}return k},F.methods=function(_){return F.instance_methods(_.$$meta||_.$$class)},F.own_methods=function(_){return _.$$meta?F.own_instance_methods(_.$$meta):[]},F.receiver_methods=function(_){var k=F.get_singleton_class(_),re=F.own_instance_methods(k),ke=F.own_instance_methods(k.$$super);return re.concat(ke)},F.class_variables=function(_){var k=Oe(_),re,ke=k.length,Ye={};for(re=ke-1;re>=0;re--){var nt=k[re];for(var t in nt.$$cvars)Ye[t]=nt.$$cvars[t]}return Ye},F.class_variable_set=function(_,k,re){var ke=Oe(_),Ye,nt=ke.length;for(Ye=nt-2;Ye>=0;Ye--){var t=ke[Ye];if(qe(t.$$cvars,k))return t.$$cvars[k]=re,re}return _.$$cvars[k]=re,re},F.class_variable_get=function(_,k,re){if(qe(_.$$cvars,k))return _.$$cvars[k];var ke=Oe(_),Ye,nt=ke.length;for(Ye=0;Ye<nt;Ye++){var t=ke[Ye];if(qe(t.$$cvars,k))return t.$$cvars[k]}return re||ze(F.NameError,"uninitialized class variable "+k+" in "+_.$name()),p};function s(_){return _.hasOwnProperty("$$iclass")&&_.hasOwnProperty("$$root")}function n(_){for(var k=[],re,ke=Object.getPrototypeOf(_.$$prototype);ke&&!ke.hasOwnProperty("$$class");)re=Y(ke),re&&k.push(re),ke=Object.getPrototypeOf(ke);return k}function i(_){var k=[],re,ke=Object.getPrototypeOf(_.$$prototype);if(_.$$prototype.hasOwnProperty("$$dummy"))for(;ke&&ke!==_.$$prototype.$$define_methods_on;)re=Y(ke),re&&k.push(re),ke=Object.getPrototypeOf(ke);return k}F.append_features=function(_,k){var re=Oe(_),ke=[];re.indexOf(k)!==-1&&ze(F.ArgumentError,"cyclic include detected");for(var Ye=0,nt=re.length;Ye<nt;Ye++){var t=re[Ye],W=a(t);ce(W,"$$included",!0),ke.push(W)}var H=Oe(k),T=w(ke),O,c;if(H.indexOf(_)===-1)O=k.$$prototype,c=Object.getPrototypeOf(k.$$prototype);else{for(var N=k.$$prototype,Ne=Object.getPrototypeOf(N);Ne!=null&&!(Ne.$$module===_&&s(Ne));)N=Ne,Ne=Object.getPrototypeOf(Ne);if(Ne){for(var L=Object.getPrototypeOf(Ne);L.hasOwnProperty("$$iclass")&&!s(L);)L=Object.getPrototypeOf(L);O=N,c=L}else O=k.$$prototype,c=Object.getPrototypeOf(k.$$prototype)}Pe(O,T.first),Pe(T.last,c),k.$$own_included_modules=n(k),F.const_cache_version++},F.prepend_features=function(_,k){var re=Oe(_),ke=[];re.indexOf(k)!==-1&&ze(F.ArgumentError,"cyclic prepend detected");for(var Ye=0,nt=re.length;Ye<nt;Ye++){var t=re[Ye],W=a(t);ce(W,"$$prepended",!0),ke.push(W)}var H=w(ke),T=k.$$prototype,O=Object.getPrototypeOf(T),c,N,Ne;T.hasOwnProperty("$$dummy")?c=T.$$define_methods_on:(c=b(k),$(k),ce(T,"$$dummy",!0),ce(T,"$$define_methods_on",c),Pe(T,c),Pe(c,O));var L=Oe(k);if(L.indexOf(_)===-1)for(N=T,Ne=Object.getPrototypeOf(T);Ne!=null&&!(Ne.hasOwnProperty("$$root")||Ne===c||!Ne.hasOwnProperty("$$iclass"));)Ne=Object.getPrototypeOf(Ne);else ze(F.RuntimeError,"Prepending a module multiple times is not supported");Pe(N,H.first),Pe(H.last,Ne),k.$$own_prepended_modules=i(k),F.const_cache_version++};function $(_){for(var k=_.$$prototype,re=Object.getOwnPropertyNames(k),ke=0;ke<re.length;ke++){var Ye=re[ke];F.is_method(Ye)&&delete k[Ye]}}function a(_){var k=b(_);return _.$$is_module&&_.$$iclasses.push(k),k}function b(_){var k={},re=_.$$prototype;re.hasOwnProperty("$$dummy")&&(re=re.$$define_methods_on);var ke=Object.getOwnPropertyNames(re),Ye=ke.length,nt;for(nt=0;nt<Ye;nt++){var t=ke[nt];ce(k,t,re[t])}return ce(k,"$$iclass",!0),ce(k,"$$module",_),k}function w(_){var k=_.length,re=_[0];if(ce(re,"$$root",!0),k===1)return{first:re,last:re};for(var ke=re,Ye=1;Ye<k;Ye++){var nt=_[Ye];Pe(ke,nt),ke=nt}return{first:_[0],last:_[k-1]}}F.bridge=function(_,k){_.hasOwnProperty("$$bridge")&&ze(F.ArgumentError,"already bridged"),ce(_,"$$bridge",k),Pe(_.prototype,(k.$$super||F.Object).$$prototype),ce(k,"$$prototype",_.prototype),ce(k.$$prototype,"$$class",k),ce(k,"$$constructor",_),ce(k,"$$bridge",!0)};function Y(_){if(!_.hasOwnProperty("$$dummy")){if(_.hasOwnProperty("$$iclass"))return _.$$module;if(_.hasOwnProperty("$$class"))return _.$$class}}function Ce(_){return _.$$own_prepended_modules.concat([_]).concat(_.$$own_included_modules)}function Oe(_){if(!_)return[];if(_.$$ancestors_cache_version===F.const_cache_version)return _.$$ancestors;var k=[],re,ke,Ye;for(re=0,ke=Ce(_),Ye=ke.length;re<Ye;re++)k.push(ke[re]);if(_.$$super)for(re=0,ke=Oe(_.$$super),Ye=ke.length;re<Ye;re++)k.push(ke[re]);return _.$$ancestors_cache_version=F.const_cache_version,_.$$ancestors=k,k}F.ancestors=Oe,F.included_modules=function(_){for(var k=[],re=null,ke=Object.getPrototypeOf(_.$$prototype);ke&&Object.getPrototypeOf(ke);ke=Object.getPrototypeOf(ke))re=Y(ke),re&&re.$$is_module&&ke.$$iclass&&ke.$$included&&k.push(re);return k},F.add_stubs=function(_){var k=F.BasicObject.$$prototype,re,ke;_=_.split(",");for(var Ye=0,nt=_.length;Ye<nt;Ye++)re=_t(_[Ye]),ke=k[re],(ke==null||ke.$$stub)&&F.add_stub_for(k,re)},F.add_stub_for=function(_,k){ce(_,k,F.stub_for(k))},F.stub_for=function(_){function k(){this.$method_missing.$$p=k.$$p,k.$$p=null;for(var re=new Array(arguments.length),ke=0,Ye=re.length;ke<Ye;ke++)re[ke]=arguments[ke];return this.$method_missing.apply(this,[_.slice(1)].concat(re))}return k.$$stub=!0,k},F.ac=function(_,k,re,ke){var Ye="";re.$$is_a_module?Ye+=re.$$name+".":Ye+=re.$$class.$$name+"#",Ye+=ke,ze(F.ArgumentError,"["+Ye+"] wrong number of arguments (given "+_+", expected "+k+")")},F.block_ac=function(_,k,re){var ke="`block in "+re+"'";ze(F.ArgumentError,ke+": wrong number of arguments (given "+_+", expected "+k+")")};function ot(_){return _.hasOwnProperty("$$meta")&&_.$$meta!==null?Oe(_.$$meta):Oe(_.$$class)}F.find_super=function(_,k,re,ke,Ye){var nt=_t(k),t,W;t=ot(_);for(var H=t.indexOf(re.$$owner),T=H+1;T<t.length;T++){var O=t[T],c=O.$$prototype;if(c.hasOwnProperty("$$dummy")&&(c=c.$$define_methods_on),c.hasOwnProperty(nt)){W=c[nt];break}}return!ke&&W&&W.$$stub&&_.$method_missing.$$pristine&&ze(F.NoMethodError,"super: no superclass method `"+k+"' for "+_,k),W.$$stub&&!Ye?null:W},F.find_block_super=function(_,k,re,ke,Ye){var nt=k;return re||ze(F.RuntimeError,"super called outside of method"),Ye&&re.$$define_meth&&ze(F.RuntimeError,"implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly"),re.$$def&&(nt=re.$$jsid),F.find_super(_,nt,re,ke)},F.find_super_dispatcher=F.find_super,F.find_iter_super_dispatcher=F.find_block_super,F.yield1=function(_,k){typeof _!="function"&&ze(F.LocalJumpError,"no block given");var re=_.$$has_top_level_mlhs_arg,ke=_.$$has_trailing_comma_in_args;return(_.length>1||(re||ke)&&_.length===1)&&(k=F.to_ary(k)),(_.length>1||ke&&_.length===1)&&k.$$is_array?_.apply(null,k):_(k)},F.yieldX=function(_,k){if(typeof _!="function"&&ze(F.LocalJumpError,"no block given"),_.length>1&&k.length===1&&k[0].$$is_array)return _.apply(null,k[0]);if(!k.$$is_array){for(var re=new Array(k.length),ke=0,Ye=re.length;ke<Ye;ke++)re[ke]=k[ke];return _.apply(null,re)}return _.apply(null,k)},F.rescue=function(_,k){for(var re=0;re<k.length;re++){var ke=k[re];if(ke.$$is_array){var Ye=F.rescue(_,ke);if(Ye)return Ye}else if(ke===F.JS.Error||ke["$==="](_))return ke}return null},F.is_a=function(_,k){if(k!=null&&_.$$meta===k||_.$$class===k)return!0;if(_.$$is_number&&k.$$is_number_class)return k.$$is_integer_class?_%1===0:!0;var re=Oe(_.$$is_class?F.get_singleton_class(_):_.$$meta||_.$$class);return re.indexOf(k)!==-1},F.to_hash=function(_){if(_.$$is_hash)return _;if(_["$respond_to?"]("to_hash",!0)){var k=_.$to_hash();if(k.$$is_hash)return k;ze(F.TypeError,"Can't convert "+_.$$class+" to Hash ("+_.$$class+"#to_hash gives "+k.$$class+")")}else ze(F.TypeError,"no implicit conversion of "+_.$$class+" into Hash")},F.to_ary=function(_){if(_.$$is_array)return _;if(_["$respond_to?"]("to_ary",!0)){var k=_.$to_ary();if(k===p)return[_];if(k.$$is_array)return k;ze(F.TypeError,"Can't convert "+_.$$class+" to Array ("+_.$$class+"#to_ary gives "+k.$$class+")")}else return[_]},F.to_a=function(_){if(_.$$is_array)return _.slice();if(_["$respond_to?"]("to_a",!0)){var k=_.$to_a();if(k===p)return[_];if(k.$$is_array)return k;ze(F.TypeError,"Can't convert "+_.$$class+" to Array ("+_.$$class+"#to_a gives "+k.$$class+")")}else return[_]},F.extract_kwargs=function(_){var k=_[_.length-1];if(k!=null&&F.respond_to(k,"$to_hash",!0))return ye(_,_.length-1),k},F.kwrestargs=function(_,k){var re=[],ke={},Ye,nt=_.$$smap;for(Ye in nt)k[Ye]||(re.push(Ye),ke[Ye]=nt[Ye]);return F.hash2(re,ke)};function lt(_,k){typeof k=="number"?_.$$arity=k:typeof k=="object"&&Object.assign(_,k)}var gt={};function _t(_){return gt[_]||(gt[_]="$"+_)}F.jsid=_t,F.send=function(_,k,re,ke,Ye){var nt;return typeof k=="function"?(nt=k,k=null):typeof k=="string"?nt=_[_t(k)]:ze(F.NameError,"Passed method should be a string or a function"),F.send2(_,nt,k,re,ke,Ye)},F.send2=function(_,k,re,ke,Ye,nt){return k==null&&re!=null&&_.$method_missing&&(k=_.$method_missing,ke=[re].concat(ke)),lt(Ye,nt),typeof Ye=="function"&&(k.$$p=Ye),k.apply(_,ke)},F.refined_send=function(_,k,re,ke,Ye,nt){var t,W,H,T,O,c,N,Ne,L,ve;for(T=ot(k),t=0;t<T.length;t++)for(O=F.id(T[t]),W=0;W<_.length;W++)for(c=_[W],H=c.length-1;H>=0;H--)if(N=c[H],!(typeof N.$$refine_modules>"u")&&(Ne=N.$$refine_modules,!(typeof Ne[O]>"u")&&(L=Ne[O],typeof L.$$prototype[_t(re)]<"u")))return ve=L.$$prototype[_t(re)],F.send2(k,ve,re,ke,Ye,nt);return F.send(k,re,ke,Ye,nt)},F.lambda=function(_,k){return _.$$is_lambda=!0,lt(_,k),_},F.def=function(_,k,re,ke){return lt(re,ke),_===F.top?F.defn(F.Object,k,re):!_.$$eval&&_.$$is_a_module?F.defn(_,k,re):F.defs(_,k,re)},F.defn=function(_,k,re){bt(_),re.displayName=k,re.$$owner=_;var ke=k.substr(1),Ye=_.$$prototype;if(Ye.hasOwnProperty("$$dummy")&&(Ye=Ye.$$define_methods_on),ce(Ye,k,re),_.$$is_module){_.$$module_function&&F.defs(_,k,re);for(var nt=0,t=_.$$iclasses,W=t.length;nt<W;nt++){var H=t[nt];ce(H,k,re)}}var T=_.$$singleton_of;return _.$method_added&&!_.$method_added.$$stub&&!T?_.$method_added(ke):T&&T.$singleton_method_added&&!T.$singleton_method_added.$$stub&&T.$singleton_method_added(ke),ke},F.defs=function(_,k,re,ke){return lt(re,ke),(_.$$is_string||_.$$is_number)&&ze(F.TypeError,"can't define singleton"),F.defn(F.get_singleton_class(_),k,re)},F.rdef=function(_,k){qe(_.$$prototype,k)||ze(F.NameError,"method '"+k.substr(1)+"' not defined in "+_.$name()),delete _.$$prototype[k],_.$$is_singleton?_.$$prototype.$singleton_method_removed&&!_.$$prototype.$singleton_method_removed.$$stub&&_.$$prototype.$singleton_method_removed(k.substr(1)):_.$method_removed&&!_.$method_removed.$$stub&&_.$method_removed(k.substr(1))},F.udef=function(_,k){(!_.$$prototype[k]||_.$$prototype[k].$$stub)&&ze(F.NameError,"method '"+k.substr(1)+"' not defined in "+_.$name()),F.add_stub_for(_.$$prototype,k),_.$$is_singleton?_.$$prototype.$singleton_method_undefined&&!_.$$prototype.$singleton_method_undefined.$$stub&&_.$$prototype.$singleton_method_undefined(k.substr(1)):_.$method_undefined&&!_.$method_undefined.$$stub&&_.$method_undefined(k.substr(1))};function mt(_){return typeof _=="function"&&!_.$$stub}F.alias=function(_,k,re){var ke=_t(k),Ye=_t(re),nt,t;if(typeof _.$$prototype>"u"&&(_=F.Object),nt=_.$$prototype[Ye],_.$$eval)return F.alias(F.get_singleton_class(_),k,re);if(!mt(nt)){for(var W=_.$$super;typeof nt!="function"&&W;)nt=W[Ye],W=W.$$super;!mt(nt)&&_.$$is_module&&(nt=F.Object.$$prototype[Ye]),mt(nt)||ze(F.NameError,"undefined method `"+re+"' for class `"+_.$name()+"'")}nt.$$alias_of&&(nt=nt.$$alias_of),t=function(){var H=t.$$p,T,O,c;for(T=new Array(arguments.length),O=0,c=arguments.length;O<c;O++)T[O]=arguments[O];return t.$$p=null,F.send(this,nt,T,H)};try{Object.defineProperty(t,"length",{value:nt.length})}catch{}return t.displayName=k,t.$$arity=nt.$$arity==null?nt.length:nt.$$arity,t.$$parameters=nt.$$parameters,t.$$source_location=nt.$$source_location,t.$$alias_of=nt,t.$$alias_name=k,F.defn(_,ke,t),_},F.alias_gvar=function(_,k){return Object.defineProperty(Fe,_,{configurable:!0,enumerable:!0,get:function(){return Fe[k]},set:function(re){Fe[k]=re}}),p},F.alias_native=function(_,k,re){var ke=_t(k),Ye=_.$$prototype[re];return(typeof Ye!="function"||Ye.$$stub)&&ze(F.NameError,"undefined native method `"+re+"' for class `"+_.$name()+"'"),F.defn(_,ke,Ye),_},F.hash_init=function(_){_.$$smap=Object.create(null),_.$$map=Object.create(null),_.$$keys=[]},F.hash_clone=function(_,k){k.$$none=_.$$none,k.$$proc=_.$$proc;for(var re=0,ke=_.$$keys,Ye=_.$$smap,nt=ke.length,t,W;re<nt;re++)t=ke[re],t.$$is_string?W=Ye[t]:(W=t.value,t=t.key),F.hash_put(k,t,W)},F.hash_put=function(_,k,re){if(k.$$is_string){qe(_.$$smap,k)||_.$$keys.push(k),_.$$smap[k]=re;return}var ke,Ye,nt;if(ke=_.$$by_identity?F.id(k):k.$hash(),!qe(_.$$map,ke)){Ye={key:k,key_hash:ke,value:re},_.$$keys.push(Ye),_.$$map[ke]=Ye;return}for(Ye=_.$$map[ke];Ye;){if(k===Ye.key||k["$eql?"](Ye.key)){nt=void 0,Ye.value=re;break}nt=Ye,Ye=Ye.next}nt&&(Ye={key:k,key_hash:ke,value:re},_.$$keys.push(Ye),nt.next=Ye)},F.hash_get=function(_,k){if(k.$$is_string)return qe(_.$$smap,k)?_.$$smap[k]:void 0;var re,ke;if(re=_.$$by_identity?F.id(k):k.$hash(),qe(_.$$map,re))for(ke=_.$$map[re];ke;){if(k===ke.key||k["$eql?"](ke.key))return ke.value;ke=ke.next}},F.hash_delete=function(_,k){var re,ke=_.$$keys,Ye=ke.length,nt,t;if(k.$$is_string){if(typeof k!="string"&&(k=k.valueOf()),!qe(_.$$smap,k))return;for(re=0;re<Ye;re++)if(t=ke[re],t.$$is_string&&typeof t!="string"&&(t=t.valueOf()),t===k){ke.splice(re,1);break}return nt=_.$$smap[k],delete _.$$smap[k],nt}var W=k.$hash();if(qe(_.$$map,W))for(var H=_.$$map[W],T;H;){if(k===H.key||k["$eql?"](H.key)){for(nt=H.value,re=0;re<Ye;re++)if(ke[re]===H){ke.splice(re,1);break}return T&&H.next?T.next=H.next:T?delete T.next:H.next?_.$$map[W]=H.next:delete _.$$map[W],nt}T=H,H=H.next}},F.hash_rehash=function(_){for(var k=0,re=_.$$keys.length,ke,Ye,nt;k<re;k++)if(!_.$$keys[k].$$is_string&&(ke=_.$$keys[k].key.$hash(),ke!==_.$$keys[k].key_hash)){for(Ye=_.$$map[_.$$keys[k].key_hash],nt=void 0;Ye;){if(Ye===_.$$keys[k]){nt&&Ye.next?nt.next=Ye.next:nt?delete nt.next:Ye.next?_.$$map[_.$$keys[k].key_hash]=Ye.next:delete _.$$map[_.$$keys[k].key_hash];break}nt=Ye,Ye=Ye.next}if(_.$$keys[k].key_hash=ke,!qe(_.$$map,ke)){_.$$map[ke]=_.$$keys[k];continue}for(Ye=_.$$map[ke],nt=void 0;Ye;){if(Ye===_.$$keys[k]){nt=void 0;break}nt=Ye,Ye=Ye.next}nt&&(nt.next=_.$$keys[k])}},F.hash=function(){var _=arguments.length,k,re,ke,Ye,nt,t;if(_===1&&arguments[0].$$is_hash)return arguments[0];if(re=new F.Hash,F.hash_init(re),_===1)if(k=arguments[0],arguments[0].$$is_array){for(Ye=k.length,ke=0;ke<Ye;ke++)k[ke].length!==2&&ze(F.ArgumentError,"value not of length 2: "+k[ke].$inspect()),nt=k[ke][0],t=k[ke][1],F.hash_put(re,nt,t);return re}else{k=arguments[0];for(nt in k)qe(k,nt)&&(t=k[nt],F.hash_put(re,nt,t));return re}for(_%2!==0&&ze(F.ArgumentError,"odd number of arguments for Hash"),ke=0;ke<_;ke+=2)nt=arguments[ke],t=arguments[ke+1],F.hash_put(re,nt,t);return re},F.hash2=function(_,k){var re=new F.Hash;return re.$$smap=k,re.$$map=Object.create(null),re.$$keys=_,re},F.range=function(_,k,re){var ke=new F.Range;return ke.begin=_,ke.end=k,ke.excl=re,ke};var dt=["constructor","displayName","__count__","__noSuchMethod__","__parent__","__proto__","hasOwnProperty","valueOf"];F.ivar=function(_){return dt.indexOf(_)!==-1&&(_+="$"),_};function bt(_){_.$$frozen&&ze(F.FrozenError,"can't modify frozen "+_.$class()+": "+_,F.hash2(["receiver"],{receiver:_}))}F.deny_frozen_access=bt,F.freeze=function(_){return ce(_,"$$frozen",!0),_.hasOwnProperty("$$id")||ce(_,"$$id",We()),_.hasOwnProperty("$$meta")?_.$$meta.$freeze():ce(_,"$$meta",null),_.hasOwnProperty("$$comparable")||ce(_,"$$comparable",null),Object.seal(_),_},F.freeze_props=function(_){var k,re,ke;for(k in _)re=typeof k,!((re==="string"||re==="object")&&k[0]==="$")&&(ke=Object.getOwnPropertyDescriptor(_,k),ke&&ke.enumerable&&ke.writable&&function(){var Ye=_[k];Object.defineProperty(_,k,{get:function(){return Ye},set:function(nt){bt(_)},enumerable:!0})}())},F.escape_regexp=function(_){return _.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")},F.global_regexp=function(_){return _.global?_:(_.$$g==null?_.$$g=new RegExp(_.source,(_.multiline?"gm":"g")+(_.ignoreCase?"i":"")):_.$$g.lastIndex=null,_.$$g)},F.global_multiline_regexp=function(_){var k,re;return _.global&&_.multiline?_:(re="gm"+(_.ignoreCase?"i":""),_.multiline?(_.$$g==null&&(_.$$g=new RegExp(_.source,re)),k=_.$$g):(_.$$gm==null&&(_.$$gm=new RegExp(_.source,re)),k=_.$$gm),k.lastIndex=null,k)},F.regexp=function(_,k){for(var re,ke=typeof k<"u"&&k&&k.indexOf("i")>=0,Ye=0,nt=_.length;Ye<nt;Ye++)re=_[Ye],re instanceof RegExp&&(re.ignoreCase!==ke&&F.Kernel.$warn("ignore case doesn't match for "+re.source.$inspect(),F.hash({uplevel:1})),re=re.source),re===""&&(re="(?:"+re+")"),_[Ye]=re;return k?new RegExp(_.join(""),k):new RegExp(_.join(""))},F.modules={},F.loaded_features=["corelib/runtime"],F.current_dir=".",F.require_table={"corelib/runtime":!0},F.normalize=function(_){var k,re,ke=[],Ye="/";F.current_dir!=="."&&(_=F.current_dir.replace(/\/*$/,"/")+_),_=_.replace(/^\.\//,""),_=_.replace(/\.(rb|opal|js)$/,""),k=_.split(Ye);for(var nt=0,t=k.length;nt<t;nt++)re=k[nt],re!==""&&(re===".."?ke.pop():ke.push(re));return ke.join(Ye)},F.loaded=function(_){var k,re,ke;for(k=0,re=_.length;k<re;k++)ke=F.normalize(_[k]),!F.require_table[ke]&&(F.loaded_features.push(ke),F.require_table[ke]=!0)},F.load_normalized=function(_){F.loaded([_]);var k=F.modules[_];if(k){var re=k(F);if(typeof Promise<"u"&&re instanceof Promise)return re.then(Re(!0))}else{var ke=F.config.missing_require_severity,Ye="cannot load such file -- "+_;ke==="error"?ze(F.LoadError,Ye):ke==="warning"&&o.warn("WARNING: LoadError: "+Ye)}return!0},F.load=function(_){return _=F.normalize(_),F.load_normalized(_)},F.require=function(_){return _=F.normalize(_),F.require_table[_]?!1:F.load_normalized(_)},F.encodings=Object.create(null),F.set_encoding=function(_,k,re){typeof re>"u"&&(re="encoding"),(typeof _=="string"||_.$$frozen===!0)&&ze(F.FrozenError,"can't modify frozen String");var ke=F.find_encoding(k);return ke===_[re]||(_[re]=ke),_},F.find_encoding=function(_){var k=F.encodings,re=k[_]||k[_.toUpperCase()];return re||ze(F.ArgumentError,"unknown encoding name - "+_),re},F.enc=function(_,k){var re=new String(_);return re=F.set_encoding(re,k),re.internal_encoding=re.encoding,re},F.binary=function(_){var k=new String(_);return F.set_encoding(k,"binary","internal_encoding")},F.last_promise=null,F.promise_unhandled_exception=!1,F.queue=function(_){if(F.last_promise)return F.last_promise=F.last_promise.then(function(){if(!F.promise_unhandled_exception)return _(F)}).catch(function(re){F.respond_to(re,"$full_message")&&(re=re.$full_message()),o.error(re),F.promise_unhandled_exception=!0,F.exit(1)}),F.last_promise;var k=_(F);return typeof Promise=="function"&&typeof k=="object"&&k instanceof Promise&&(F.last_promise=k),k};function vt(_,k){return typeof _=="number"&&typeof k=="number"}F.rb_plus=function(_,k){return vt(_,k)?_+k:_["$+"](k)},F.rb_minus=function(_,k){return vt(_,k)?_-k:_["$-"](k)},F.rb_times=function(_,k){return vt(_,k)?_*k:_["$*"](k)},F.rb_divide=function(_,k){return vt(_,k)?_/k:_["$/"](k)},F.rb_lt=function(_,k){return vt(_,k)?_<k:_["$<"](k)},F.rb_gt=function(_,k){return vt(_,k)?_>k:_["$>"](k)},F.rb_le=function(_,k){return vt(_,k)?_<=k:_["$<="](k)},F.rb_ge=function(_,k){return vt(_,k)?_>=k:_["$>="](k)};function Qe(_,k){return typeof _=="number"&&typeof k=="number"||typeof _=="string"&&typeof k=="string"}function pe(_,k){return Qe(_,k)?_===k:be(_["$=="](k))}F.eqeq=pe,F.eqeqeq=function(_,k){return Qe(_,k)?_===k:be(_["$==="](k))},F.neqeq=function(_,k){return Qe(_,k)?_!==k:be(_["$!="](k))},F.not=function(_){return _==null||_===!1||p===_?!0:_===!0||_["$!"].$$pristine?!1:be(_["$!"]())};function Re(_){return function(){return _}}F.return_val=Re,F.return_self=function(){return this},F.return_ivar=function(_){return function(){return this[_]==null?p:this[_]}},F.assign_ivar=function(_){return function(k){return bt(this),this[_]=k}},F.assign_ivar_val=function(_,k){return function(){return bt(this),this[_]=k}},F.ensure_kwargs=function(_){if(_==null)return F.hash2([],{});if(_.$$is_hash)return _;ze(F.ArgumentError,"expected kwargs")},F.get_kwarg=function(_,k){return qe(_.$$smap,k)||ze(F.ArgumentError,"missing keyword: "+k),_.$$smap[k]},F.large_array_unpack=function(_){var k=_.split(","),re=k.length,ke;for(ke=0;ke<re;ke++)switch(k[ke][0]){case void 0:k[ke]=p;break;case"-":case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":k[ke]=+k[ke]}return k},F.BasicObject=J=K("BasicObject",null),F.Object=D=K("Object",F.BasicObject),F.Module=he=K("Module",F.Object),F.Class=se=K("Class",F.Module),F.Opal=le=ie("Opal"),F.Kernel=ne=ie("Kernel"),Pe(F.BasicObject,F.Class.$$prototype),Pe(F.Object,F.Class.$$prototype),Pe(F.Module,F.Class.$$prototype),Pe(F.Class,F.Class.$$prototype),J.$$const.BasicObject=J,z(D,"BasicObject",J),z(D,"Object",D),z(D,"Module",he),z(D,"Class",se),z(D,"Opal",le),z(D,"Kernel",ne),J.$$class=se,D.$$class=se,he.$$class=se,se.$$class=se,le.$$class=he,ne.$$class=he,ce(D.$$prototype,"toString",function(){var _=this.$to_s();return _.$$is_string&&typeof _=="object"?_.valueOf():_}),ce(D.$$prototype,"$require",F.require),F.top=new D,F.top.$to_s=F.top.$inspect=Re("main"),F.top.$define_method=He;function He(){var _=je(arguments),k=He.$$p;return He.$$p=null,F.send(D,"define_method",_,k)}F.NilClass=K("NilClass",F.Object),z(D,"NilClass",F.NilClass),p=F.nil=new F.NilClass,p.$$id=Q,p.call=p.apply=function(){ze(F.LocalJumpError,"no block given")},p.$$frozen=!0,p.$$comparable=!1,Object.seal(p),F.thrower=function(_){var k=new Error("unexpected "+_);return k.$thrower_type=_,k.$throw=function(re){throw re==null&&(re=p),k.$v=re,k},k},F.t_eval_return=F.thrower("return"),TypeError.$$super=Error,F.file_sources={}}).call(void 0);Opal.loaded(["corelib/runtime.js"]);Opal.modules["corelib/helpers"]=function(e){var o=e.type_error,p=e.coerce_to,J=e.module,D=e.defs,he=e.slice,se=e.eqeqeq,le=e.Kernel,ne=e.truthy,F=e.Opal,Se=e.nil,ge=e.$$$;return e.add_stubs("===,raise,respond_to?,nil?,__send__,<=>,class,coerce_to!,new,to_s,__id__"),function(qe){var Pe=J(qe,"Opal");D(Pe,"$bridge",function(Q,Ae){return e.bridge(Q,Ae)}),D(Pe,"$coerce_to!",function(Q,Ae,We,Fe){var ze,ce,be=Se;return ze=he(arguments,3),ce=ze,be=p(Q,Ae,We,ce),se(Ae,be)||le.$raise(o(Q,Ae,We,be)),be},-4),D(Pe,"$coerce_to?",function(Q,Ae,We,Fe){var ze,ce,be=Se;return ze=he(arguments,3),ce=ze,!ne(Q["$respond_to?"](We))||(be=p(Q,Ae,We,ce),ne(be["$nil?"]()))?Se:(se(Ae,be)||le.$raise(o(Q,Ae,We,be)),be)},-4),D(Pe,"$try_convert",function(Q,Ae,We){return se(Ae,Q)?Q:ne(Q["$respond_to?"](We))?Q.$__send__(We):Se}),D(Pe,"$compare",function(Q,Ae){var We=Se;return We=Q["$<=>"](Ae),ne(We===Se)&&le.$raise(ge("ArgumentError"),"comparison of "+Q.$class()+" with "+Ae.$class()+" failed"),We}),D(Pe,"$destructure",function(Q){if(Q.length==1)return Q[0];if(Q.$$is_array)return Q;for(var Ae=new Array(Q.length),We=0,Fe=Ae.length;We<Fe;We++)Ae[We]=Q[We];return Ae}),D(Pe,"$respond_to?",function(Q,Ae,We){return We==null&&(We=!1),Q==null||!Q.$$class?!1:Q["$respond_to?"](Ae,We)},-3),D(Pe,"$instance_variable_name!",function(Q){return Q=F["$coerce_to!"](Q,ge("String"),"to_str"),ne(/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(Q))||le.$raise(ge("NameError").$new("'"+Q+"' is not allowed as an instance variable name",Q)),Q}),D(Pe,"$class_variable_name!",function(Q){return Q=F["$coerce_to!"](Q,ge("String"),"to_str"),ne(Q.length<3||Q.slice(0,2)!=="@@")&&le.$raise(ge("NameError").$new("`"+Q+"' is not allowed as a class variable name",Q)),Q}),D(Pe,"$const_name?",function(Q){return typeof Q!="string"&&(Q=F["$coerce_to!"](Q,ge("String"),"to_str")),Q[0]===Q[0].toUpperCase()}),D(Pe,"$const_name!",function(Q){var Ae=this;return ne(ge("::","String","skip_raise")?"constant":Se)&&(Q=F["$coerce_to!"](Q,ge("String"),"to_str")),(!Q||Q[0]!=Q[0].toUpperCase())&&Ae.$raise(ge("NameError"),"wrong constant name "+Q),Q}),D(Pe,"$pristine",function(Q,Ae){var We,Fe;We=he(arguments,1),Fe=We;for(var ze,ce,be=Fe.length-1;be>=0;be--)ze=Fe[be],ce=Q.$$prototype[e.jsid(ze)],ce&&!ce.$$stub&&(ce.$$pristine=!0);return Se},-2);var je=[];return D(Pe,"$inspect",function(Q){var Ae=Se,We=!1;return function(){try{try{return Q===null?"null":Q===void 0?"undefined":typeof Q.$$class>"u"?Object.prototype.toString.apply(Q):typeof Q.$inspect!="function"||Q.$inspect.$$stub||je.indexOf(Q.$__id__())!==-1?"#<"+Q.$$class+":0x"+Q.$__id__().$to_s(16)+">":(je.push(Q.$__id__()),We=!0,Q.$inspect())}catch(Fe){if(e.rescue(Fe,[ge("Exception")])){Ae=Fe;try{return"#<"+Q.$$class+":0x"+Q.$__id__().$to_s(16)+">"}finally{e.pop_exception()}}else throw Fe}}finally{We&&je.pop()}}()},-1)}("::")};Opal.modules["corelib/module"]=function(e){var o=e.truthy,p=e.coerce_to,J=e.const_set,D=e.Object,he=e.return_ivar,se=e.assign_ivar,le=e.ivar,ne=e.deny_frozen_access,F=e.freeze,Se=e.prop,ge=e.jsid,qe=e.klass,Pe=e.defs,je=e.send,ye=e.def,Q=e.eqeqeq,Ae=e.Module,We=e.Kernel,Fe=e.rb_lt,ze=e.rb_gt,ce=e.slice,be=e.to_a,ue=e.hash2,Le=e.Opal,ae=e.return_val,xe=e.eqeq,ee=e.lambda,m=e.range,_e=e.send2,z=e.find_super,K=e.alias,C=[],Te=e.nil,ie=e.$$$;return e.add_stubs("module_eval,to_proc,===,raise,equal?,<,>,nil?,attr_reader,attr_writer,warn,attr_accessor,const_name?,class_variable_name!,pristine,const_name!,=~,new,inject,split,const_get,==,start_with?,!~,bind,call,class,frozen?,name,append_features,included,cover?,size,merge,compile,proc,any?,prepend_features,prepended,to_s,__id__,constants,include?,copy_class_variables,copy_constants,class_exec,module_exec,inspect"),function(M,d,s){var n=qe(M,d,"Module"),i=[n].concat(s),$=e.$r(i);return Pe(n,"$allocate",function(){var b=this,w=e.allocate_module(Te,function(){});return b!==e.Module&&Object.setPrototypeOf(w,b.$$prototype),w}),ye(n,"$initialize",function a(){var b=a.$$p||Te,w=this;return a.$$p=null,b!==Te?je(w,"module_eval",[],b.$to_proc()):Te}),ye(n,"$===",function(b){var w=this;return o(b==null)?!1:e.is_a(b,w)}),ye(n,"$<",function(b){var w=this;Q(Ae,b)||We.$raise(ie("TypeError"),"compared with non class/module");var Y=w,Ce,Oe,ot;if(Y===b)return!1;for(Oe=0,Ce=e.ancestors(w),ot=Ce.length;Oe<ot;Oe++)if(Ce[Oe]===b)return!0;for(Oe=0,Ce=e.ancestors(b),ot=Ce.length;Oe<ot;Oe++)if(Ce[Oe]===w)return!1;return Te}),ye(n,"$<=",function(b){var w=this,Y=Te;return o(Y=w["$equal?"](b))?Y:Fe(w,b)}),ye(n,"$>",function(b){var w=this;return Q(Ae,b)||We.$raise(ie("TypeError"),"compared with non class/module"),Fe(b,w)}),ye(n,"$>=",function(b){var w=this,Y=Te;return o(Y=w["$equal?"](b))?Y:ze(w,b)}),ye(n,"$<=>",function(b){var w=this,Y=Te;return w===b?0:!Q(Ae,b)||(Y=Fe(w,b),o(Y["$nil?"]()))?Te:o(Y)?-1:1}),ye(n,"$alias_method",function(b,w){var Y=this;return ne(Y),b=p(b,ie("String"),"to_str"),w=p(w,ie("String"),"to_str"),e.alias(Y,b,w),Y}),ye(n,"$alias_native",function(b,w){var Y=this;return w==null&&(w=b),ne(Y),e.alias_native(Y,b,w),Y},-2),ye(n,"$ancestors",function(){var b=this;return e.ancestors(b)}),ye(n,"$append_features",function(b){var w=this;return ne(b),e.append_features(w,b),w}),ye(n,"$attr_accessor",function(b){var w,Y,Ce=this;return w=ce(arguments),Y=w,je(Ce,"attr_reader",be(Y)),je(Ce,"attr_writer",be(Y))},-1),ye(n,"$attr",function(b){var w,Y,Ce=this;return w=ce(arguments),Y=w,Y.length==2&&(Y[1]===!0||Y[1]===!1)?(Ce.$warn("optional boolean argument is obsoleted",ue(["uplevel"],{uplevel:1})),Y[1]?Ce.$attr_accessor(Y[0]):Ce.$attr_reader(Y[0]),Te):je(Ce,"attr_reader",be(Y))},-1),ye(n,"$attr_reader",function(b){var w,Y,Ce=this;w=ce(arguments),Y=w,ne(Ce);for(var Oe=Ce.$$prototype,ot=Y.length-1;ot>=0;ot--){var lt=Y[ot],gt=ge(lt),_t=le(lt),mt=he(_t);e.prop(Oe,_t,Te),mt.$$parameters=[],mt.$$arity=0,e.defn(Ce,gt,mt)}return Te},-1),ye(n,"$attr_writer",function(b){var w,Y,Ce=this;w=ce(arguments),Y=w,ne(Ce);for(var Oe=Ce.$$prototype,ot=Y.length-1;ot>=0;ot--){var lt=Y[ot],gt=ge(lt+"="),_t=le(lt),mt=se(_t);mt.$$parameters=[["req"]],mt.$$arity=1,e.prop(Oe,_t,Te),e.defn(Ce,gt,mt)}return Te},-1),ye(n,"$autoload",function(b,w){var Y=this;return ne(Y),$("Opal")["$const_name?"](b)||We.$raise(ie("NameError"),"autoload must be constant name: "+b),w==""&&We.$raise(ie("ArgumentError"),"empty file name"),Y.$$const.hasOwnProperty(b)||(Y.$$autoload||(Y.$$autoload={}),e.const_cache_version++,Y.$$autoload[b]={path:w,loaded:!1,required:!1,success:!1,exception:!1},Y.$const_added&&!Y.$const_added.$$pristine&&Y.$const_added(b)),Te}),ye(n,"$autoload?",function(b){var w=this;if(w.$$autoload&&w.$$autoload[b]&&!w.$$autoload[b].required&&!w.$$autoload[b].success)return w.$$autoload[b].path;for(var Y=w.$ancestors(),Ce=0,Oe=Y.length;Ce<Oe;Ce++)if(Y[Ce].$$autoload&&Y[Ce].$$autoload[b]&&!Y[Ce].$$autoload[b].required&&!Y[Ce].$$autoload[b].success)return Y[Ce].$$autoload[b].path;return Te}),ye(n,"$class_variables",function(){var b=this;return Object.keys(e.class_variables(b))}),ye(n,"$class_variable_get",function(b){var w=this;return b=Le["$class_variable_name!"](b),e.class_variable_get(w,b,!1)}),ye(n,"$class_variable_set",function(b,w){var Y=this;return ne(Y),b=Le["$class_variable_name!"](b),e.class_variable_set(Y,b,w)}),ye(n,"$class_variable_defined?",function(b){var w=this;return b=Le["$class_variable_name!"](b),e.class_variables(w).hasOwnProperty(b)}),ye(n,"$const_added",ae(Te)),Le.$pristine(n,"const_added"),ye(n,"$remove_class_variable",function(b){var w=this;if(ne(w),b=Le["$class_variable_name!"](b),e.hasOwnProperty.call(w.$$cvars,b)){var Y=w.$$cvars[b];return delete w.$$cvars[b],Y}else We.$raise(ie("NameError"),"cannot remove "+b+" for "+w)}),ye(n,"$constants",function(b){var w=this;return b==null&&(b=!0),e.constants(w,b)},-1),Pe(n,"$constants",function(b){var w=this;if(b==null){var Y=(w.$$nesting||[]).concat(D),Ce,Oe={},ot,lt;for(ot=0,lt=Y.length;ot<lt;ot++)for(Ce in Y[ot].$$const)Oe[Ce]=!0;return Object.keys(Oe)}else return e.constants(w,b)},-1),Pe(n,"$nesting",function(){var b=this;return b.$$nesting||[]}),ye(n,"$const_defined?",function(b,w){var Y=this;w==null&&(w=!0),b=$("Opal")["$const_name!"](b),o(b["$=~"](ie(Le,"CONST_NAME_REGEXP")))||We.$raise(ie("NameError").$new("wrong constant name "+b,b));var Ce,Oe=[Y],ot,lt;for(w&&(Oe=Oe.concat(e.ancestors(Y)),Y.$$is_module&&(Oe=Oe.concat([D]).concat(e.ancestors(D)))),ot=0,lt=Oe.length;ot<lt;ot++)if(Ce=Oe[ot],Ce.$$const[b]!=null||Ce.$$autoload&&Ce.$$autoload[b]&&!Ce.$$autoload[b].required&&!Ce.$$autoload[b].success)return!0;return!1},-2),ye(n,"$const_get",function(b,w){var Y=this;return w==null&&(w=!0),b=$("Opal")["$const_name!"](b),b.indexOf("::")===0&&b!=="::"&&(b=b.slice(2)),o(b.indexOf("::")!=-1&&b!="::")?je(b.$split("::"),"inject",[Y],function(Oe,ot){return Oe==null&&(Oe=Te),ot==null&&(ot=Te),Oe.$const_get(ot)}):(o(b["$=~"](ie(Le,"CONST_NAME_REGEXP")))||We.$raise(ie("NameError").$new("wrong constant name "+b,b)),w?e.$$([Y],b):e.const_get_local(Y,b))},-2),ye(n,"$const_missing",function(b){var w=this,Y=Te;return Y=xe(w,D)?b:""+w+"::"+b,We.$raise(ie("NameError").$new("uninitialized constant "+Y,b))}),ye(n,"$const_set",function(b,w){var Y=this;return ne(Y),b=Le["$const_name!"](b),(o(b["$!~"](ie(Le,"CONST_NAME_REGEXP")))||o(b["$start_with?"]("::")))&&We.$raise(ie("NameError").$new("wrong constant name "+b,b)),J(Y,b,w),w}),ye(n,"$public_constant",ae(Te)),ye(n,"$define_method",function a(b,w){var Y=a.$$p||Te,Ce=this,Oe=Te,ot=Te;return a.$$p=null,ne(Ce),w===void 0&&Y===Te&&We.$raise(ie("ArgumentError"),"tried to create a Proc object without a block"),Y=o(Oe=Y)?Oe:Q(ie("Proc"),ot=w)?w:Q(ie("Method"),ot)?w.$to_proc().$$unbound:Q(ie("UnboundMethod"),ot)?ee(function lt(gt){var _t,mt,dt=lt.$$s==null?this:lt.$$s,bt=Te;return _t=ce(arguments),mt=_t,bt=w.$bind(dt),je(bt,"call",be(mt))},{$$arity:-1,$$s:Ce}):We.$raise(ie("TypeError"),"wrong argument type "+Y.$class()+" (expected Proc/Method)"),typeof Proxy<"u"&&(Y.$$proxy_target=Y,Y=new Proxy(Y,{apply:function(lt,gt,_t){var mt=lt.$$jsid;lt.$$jsid=b;try{return lt.apply(gt,_t)}catch(dt){if(dt===lt.$$brk||dt===lt.$$ret)return dt.$v;throw dt}finally{lt.$$jsid=mt}}})),Y.$$jsid=b,Y.$$s=null,Y.$$def=Y,Y.$$define_meth=!0,e.defn(Ce,ge(b),Y)},-2),ye(n,"$freeze",function(){var b=this;return o(b["$frozen?"]())?b:(b.hasOwnProperty("$$base_module")||Se(b,"$$base_module",null),F(b))}),ye(n,"$remove_method",function(b){var w,Y,Ce=this;w=ce(arguments),Y=w;for(var Oe=0;Oe<Y.length;Oe++){var ot=Y[Oe];typeof ot=="string"||ot.$$is_string||Ce.$raise(ie("TypeError"),""+Ce.$name()+" is not a symbol nor a string"),ne(Ce),e.rdef(Ce,"$"+ot)}return Ce},-1),ye(n,"$singleton_class?",function(){var b=this;return!!b.$$is_singleton}),ye(n,"$include",function(b){var w,Y,Ce=this;w=ce(arguments),Y=w;for(var Oe=Y.length-1;Oe>=0;Oe--){var ot=Y[Oe];ot.$$is_module||We.$raise(ie("TypeError"),"wrong argument type "+ot.$class()+" (expected Module)"),ot.$append_features(Ce),ot.$included(Ce)}return Ce},-1),ye(n,"$included_modules",function(){var b=this;return e.included_modules(b)}),ye(n,"$include?",function(b){var w=this;b.$$is_module||We.$raise(ie("TypeError"),"wrong argument type "+b.$class()+" (expected Module)");var Y,Ce,Oe,ot=e.ancestors(w);for(Y=0,Ce=ot.length;Y<Ce;Y++)if(Oe=ot[Y],Oe===b&&Oe!==w)return!0;return!1}),ye(n,"$instance_method",function(b){var w=this,Y=w.$$prototype[ge(b)];return(!Y||Y.$$stub)&&We.$raise(ie("NameError").$new("undefined method `"+b+"' for class `"+w.$name()+"'",b)),ie("UnboundMethod").$new(w,Y.$$owner||w,Y,b)}),ye(n,"$instance_methods",function(b){var w=this;return b==null&&(b=!0),o(b)?e.instance_methods(w):e.own_instance_methods(w)},-1),ye(n,"$included",ae(Te)),ye(n,"$extended",ae(Te)),ye(n,"$extend_object",function(b){return ne(b),Te}),ye(n,"$method_added",function(b){return ce(arguments),Te},-1),ye(n,"$method_removed",function(b){return ce(arguments),Te},-1),ye(n,"$method_undefined",function(b){return ce(arguments),Te},-1),ye(n,"$module_eval",function a(b){var w=a.$$p||Te,Y,Ce,Oe,ot=this,lt=Te,gt=Te,_t=Te,mt=Te,dt=Te,bt=Te;a.$$p=null,Y=ce(arguments),Ce=Y,o(w["$nil?"]())&&o(!!e.compile)?(o(m(1,3,!1)["$cover?"](Ce.$size()))||We.$raise(ie("ArgumentError"),"wrong number of arguments (0 for 1..3)"),Oe=[].concat(be(Ce)),lt=Oe[0]==null?Te:Oe[0],gt=Oe[1]==null?Te:Oe[1],Oe[2]==null||Oe[2],_t=ue(["file","eval"],{file:o(mt=gt)?mt:"(eval)",eval:!0}),dt=e.hash({arity_check:!1}).$merge(_t),bt=Le.$compile(lt,dt),w=je(We,"proc",[],function pe(){var Re=pe.$$s==null?this:pe.$$s;return new Function("Opal,self","return "+bt)(e,Re)},{$$s:ot})):o(Ce["$any?"]())&&We.$raise(ie("ArgumentError"),"wrong number of arguments ("+Ce.$size()+` for 0)

  NOTE:If you want to enable passing a String argument please add "require 'opal-parser'" to your script
`);var vt=w.$$s,Qe;return w.$$s=null,Qe=w.apply(ot,[ot]),w.$$s=vt,Qe},-1),ye(n,"$module_exec",function a(b){var w=a.$$p||Te,Y,Ce,Oe=this;a.$$p=null,Y=ce(arguments),Ce=Y,w===Te&&We.$raise(ie("LocalJumpError"),"no block given");var ot=w.$$s,lt;return w.$$s=null,lt=w.apply(Oe,Ce),w.$$s=ot,lt},-1),ye(n,"$method_defined?",function(b){var w=this,Y=w.$$prototype[ge(b)];return!!Y&&!Y.$$stub}),ye(n,"$module_function",function(b){var w,Y,Ce=this;if(w=ce(arguments),Y=w,ne(Ce),Y.length===0)return Ce.$$module_function=!0,Te;for(var Oe=0,ot=Y.length;Oe<ot;Oe++){var lt=Y[Oe],gt=ge(lt),_t=Ce.$$prototype[gt];e.defs(Ce,gt,_t)}return Y.length===1?Y[0]:Y},-1),ye(n,"$name",function(){var b=this;if(b.$$full_name)return b.$$full_name;for(var w=[],Y=b;Y;){if(Y.$$name===Te||Y.$$name==null)return Te;if(w.unshift(Y.$$name),Y=Y.$$base_module,Y===D)break}return w.length===0?Te:b.$$full_name=w.join("::")}),ye(n,"$prepend",function(b){var w,Y,Ce=this;w=ce(arguments),Y=w,Y.length===0&&We.$raise(ie("ArgumentError"),"wrong number of arguments (given 0, expected 1+)");for(var Oe=Y.length-1;Oe>=0;Oe--){var ot=Y[Oe];ot.$$is_module||We.$raise(ie("TypeError"),"wrong argument type "+ot.$class()+" (expected Module)"),ot.$prepend_features(Ce),ot.$prepended(Ce)}return Ce},-1),ye(n,"$prepend_features",function(b){var w=this;return ne(b),w.$$is_module||We.$raise(ie("TypeError"),"wrong argument type "+w.$class()+" (expected Module)"),e.prepend_features(w,b),w}),ye(n,"$prepended",ae(Te)),ye(n,"$remove_const",function(b){var w=this;return ne(w),e.const_remove(w,b)}),ye(n,"$to_s",function(){var b=this,w=Te;return o(w=e.Module.$name.call(b))?w:"#<"+(b.$$is_module?"Module":"Class")+":0x"+b.$__id__().$to_s(16)+">"}),ye(n,"$undef_method",function(b){var w,Y,Ce=this;w=ce(arguments),Y=w;for(var Oe=0;Oe<Y.length;Oe++){var ot=Y[Oe];typeof ot=="string"||ot.$$is_string||Ce.$raise(ie("TypeError"),""+Ce.$name()+" is not a symbol nor a string"),ne(Ce),e.udef(Ce,"$"+Y[Oe])}return Ce},-1),ye(n,"$instance_variables",function(){var b=this,w=Te;w=(e.Module.$$nesting=i,b.$constants());var Y=[];for(var Ce in b)b.hasOwnProperty(Ce)&&Ce.charAt(0)!=="$"&&Ce!=="constructor"&&!w["$include?"](Ce)&&Y.push("@"+Ce);return Y}),ye(n,"$dup",function a(){var b=a.$$p||Te,w=this,Y=Te;return a.$$p=null,Y=_e(w,z(w,"dup",a,!1,!0),"dup",[],b),Y.$copy_class_variables(w),Y.$copy_constants(w),Y}),ye(n,"$copy_class_variables",function(b){var w=this;for(var Y in b.$$cvars)w.$$cvars[Y]=b.$$cvars[Y]}),ye(n,"$copy_constants",function(b){var w=this,Y,Ce=b.$$const;for(Y in Ce)J(w,Y,Ce[Y])}),ye(n,"$refine",function a(b){var w=a.$$p||Te,Y,Ce=this,Oe=Te,ot=Te,lt=Te;return a.$$p=null,Y=[Ce,Te,Te],Oe=Y[0],ot=Y[1],lt=Y[2],lt=e.id(b),typeof Ce.$$refine_modules>"u"&&(Ce.$$refine_modules=Object.create(null)),typeof Ce.$$refine_modules[lt]>"u"?ot=Ce.$$refine_modules[lt]=ie("Refinement").$new():ot=Ce.$$refine_modules[lt],ot.refinement_module=Oe,ot.refined_class=b,je(ot,"class_exec",[],w.$to_proc()),ot}),ye(n,"$refinements",function(){var b=this,w=b.$$refine_modules,Y=ue([],{});if(typeof w>"u")return Y;for(var Ce in w)Y["$[]="](w[Ce].refined_class,w[Ce]);return Y}),ye(n,"$using",function(b){return We.$raise("Module#using is not permitted in methods")}),K(n,"class_eval","module_eval"),K(n,"class_exec","module_exec"),K(n,"inspect","to_s")}("::",null,C),function(M,d){var s=qe(M,d,"Refinement"),n=s.$$prototype;return n.refinement_module=n.refined_class=Te,s.$attr_reader("refined_class"),ye(s,"$inspect",function i(){var $=i.$$p||Te,a=this;return i.$$p=null,o(a.refinement_module)?"#<refinement:"+a.refined_class.$inspect()+"@"+a.refinement_module.$inspect()+">":_e(a,z(a,"inspect",i,!1,!0),"inspect",[],$)})}("::",Ae)};Opal.modules["corelib/class"]=function(e){var o=e.klass,p=e.send,J=e.defs,D=e.def,he=e.rb_plus,se=e.return_val,le=e.slice,ne=e.send2,F=e.find_super,Se=e.Kernel,ge=e.alias,qe=e.top,Pe=[],je=e.nil,ye=e.$$$;return e.add_stubs("require,class_eval,to_proc,+,subclasses,flatten,map,initialize_copy,allocate,name,to_s,raise"),qe.$require("corelib/module"),function(Q,Ae,We){var Fe=o(Q,Ae,"Class"),ze=[Fe].concat(We),ce=e.$r(ze);return J(Fe,"$new",function be(ue){var Le=be.$$p||je;if(be.$$p=null,ue==null&&(ue=ce("Object")),!ue.$$is_class)throw e.TypeError.$new("superclass must be a Class");var ae=e.allocate_class(je,ue);return ue.$inherited(ae),Le!==je&&p(ae,"class_eval",[],Le.$to_proc()),ae},-1),D(Fe,"$allocate",function(){var ue=this,Le=new ue.$$constructor;return Le.$$id=e.uid(),Le}),D(Fe,"$descendants",function(){var ue=this;return he(ue.$subclasses(),p(ue.$subclasses(),"map",[],"descendants".$to_proc()).$flatten())}),D(Fe,"$inherited",se(je)),D(Fe,"$initialize_dup",function(ue){var Le=this;Le.$initialize_copy(ue),Le.$$name=null,Le.$$full_name=null}),D(Fe,"$new",function be(ue){var Le=be.$$p||je,ae,xe,ee=this;be.$$p=null,ae=le(arguments),xe=ae;var m=ee.$allocate();return e.send(m,m.$initialize,xe,Le),m},-1),D(Fe,"$subclasses",function(){var ue=this;if(typeof WeakRef<"u"){var Le,ae,xe=[];for(Le=0;Le<ue.$$subclasses.length;Le++)ae=ue.$$subclasses[Le].deref(),ae!==void 0&&xe.push(ae);return xe}else return ue.$$subclasses}),D(Fe,"$superclass",function(){var ue=this;return ue.$$super||je}),D(Fe,"$to_s",function be(){be.$$p;var ue=this;be.$$p=null;var Le=ue.$$singleton_of;return Le&&Le.$$is_a_module?"#<Class:"+Le.$name()+">":Le?"#<Class:#<"+Le.$$class.$name()+":0x"+e.id(Le).$to_s(16)+">>":ne(ue,F(ue,"to_s",be,!1,!0),"to_s",[],null)}),D(Fe,"$attached_object",function(){var ue=this;if(ue.$$singleton_of!=null)return ue.$$singleton_of;Se.$raise(ye("TypeError"),"`"+ue+"' is not a singleton class")}),ge(Fe,"inspect","to_s")}("::",null,Pe)};Opal.modules["corelib/basic_object"]=function(e){var o=e.klass,p=e.slice,J=e.def,D=e.alias,he=e.return_val,se=e.Opal,le=e.truthy,ne=e.range,F=e.Kernel,Se=e.to_a,ge=e.hash2,qe=e.send,Pe=e.eqeq,je=e.rb_ge,ye=e.nil,Q=e.$$$;return e.add_stubs("==,raise,inspect,pristine,!,nil?,cover?,size,merge,compile,proc,[],first,>=,length,instance_variable_get,any?,new,caller"),function(Ae,We){var Fe=o(Ae,We,"BasicObject");return J(Fe,"$initialize",function(ce){return p(arguments),ye},-1),J(Fe,"$==",function(ce){var be=this;return be===ce}),J(Fe,"$eql?",function(ce){var be=this;return be["$=="](ce)}),D(Fe,"equal?","=="),J(Fe,"$__id__",function(){var ce=this;return ce.$$id!=null||e.prop(ce,"$$id",e.uid()),ce.$$id}),J(Fe,"$__send__",function ze(ce,be){var ue=ze.$$p||ye,Le,ae,xe=this;ze.$$p=null,Le=p(arguments,1),ae=Le,ce.$$is_string||xe.$raise(Q("TypeError"),""+xe.$inspect()+" is not a symbol nor a string");var ee=xe[e.jsid(ce)];return ee?(ue!==ye&&(ee.$$p=ue),ee.apply(xe,ae)):(ue!==ye&&(xe.$method_missing.$$p=ue),xe.$method_missing.apply(xe,[ce].concat(ae)))},-2),J(Fe,"$!",he(!1)),se.$pristine("!"),J(Fe,"$!=",function(ce){var be=this;return be["$=="](ce)["$!"]()}),J(Fe,"$instance_eval",function ze(ce){var be=ze.$$p||ye,ue,Le,ae,xe=this,ee=ye,m=ye,_e=ye,z=ye,K=ye,C=ye;if(ze.$$p=null,ue=p(arguments),Le=ue,le(be["$nil?"]())&&le(!!e.compile))le(ne(1,3,!1)["$cover?"](Le.$size()))||F.$raise(Q("ArgumentError"),"wrong number of arguments (0 for 1..3)"),ae=[].concat(Se(Le)),ee=ae[0]==null?ye:ae[0],m=ae[1]==null?ye:ae[1],ae[2]==null||ae[2],_e=ge(["file","eval"],{file:le(z=m)?z:"(eval)",eval:!0}),K=e.hash({arity_check:!1}).$merge(_e),C=se.$compile(ee,K),be=qe(F,"proc",[],function M(){var d=M.$$s==null?this:M.$$s;return new Function("Opal,self","return "+C)(e,d)},{$$s:xe});else{if(le(be["$nil?"]())&&le(je(Le.$length(),1))&&Pe(Le.$first()["$[]"](0),"@"))return xe.$instance_variable_get(Le.$first());le(Le["$any?"]())&&F.$raise(Q("ArgumentError"),"wrong number of arguments ("+Le.$size()+" for 0)")}var Te=be.$$s,ie;if(be.$$s=null,xe.$$is_a_module){xe.$$eval=!0;try{ie=be.call(xe,xe)}finally{xe.$$eval=!1}}else ie=be.call(xe,xe);return be.$$s=Te,ie},-1),J(Fe,"$instance_exec",function ze(ce){var be=ze.$$p||ye,ue,Le,ae=this;ze.$$p=null,ue=p(arguments),Le=ue,le(be)||F.$raise(Q("ArgumentError"),"no block given");var xe=be.$$s,ee;if(be.$$s=null,ae.$$is_a_module){ae.$$eval=!0;try{ee=be.apply(ae,Le)}finally{ae.$$eval=!1}}else ee=be.apply(ae,Le);return be.$$s=xe,ee},-1),J(Fe,"$singleton_method_added",function(ce){return p(arguments),ye},-1),J(Fe,"$singleton_method_removed",function(ce){return p(arguments),ye},-1),J(Fe,"$singleton_method_undefined",function(ce){return p(arguments),ye},-1),J(Fe,"$method_missing",function ze(ce,be){ze.$$p;var ue,Le,ae=this,xe=ye;return ze.$$p=null,ue=p(arguments,1),Le=ue,xe=se.$inspect(ae),F.$raise(Q("NoMethodError").$new("undefined method `"+ce+"' for "+xe,ce,Le),ye,F.$caller(1))},-2),se.$pristine(Fe,"method_missing"),J(Fe,"$respond_to_missing?",function(ce,be){return!1},-2)}("::",null)};Opal.modules["corelib/kernel"]=function(e){var o=e.truthy,p=e.coerce_to,J=e.respond_to,D=e.Opal,he=e.deny_frozen_access,se=e.freeze,le=e.freeze_props,ne=e.jsid,F=e.module,Se=e.return_val,ge=e.def,qe=e.Kernel,Pe=e.gvars,je=e.slice,ye=e.send,Q=e.to_a,Ae=e.ensure_kwargs,We=e.eqeq,Fe=e.hash2,ze=e.rb_plus,ce=e.eqeqeq,be=e.return_self,ue=e.rb_le,Le=e.extract_kwargs,ae=e.rb_lt,xe=e.Object,ee=e.alias,m=e.klass,_e=[],z=e.nil,K=e.$$$;return e.add_stubs("!,=~,==,object_id,raise,new,class,coerce_to?,<<,map,caller,nil?,allocate,copy_instance_variables,copy_singleton_methods,initialize_clone,frozen?,freeze,initialize_copy,define_method,singleton_class,to_proc,initialize_dup,for,empty?,pop,call,append_features,extend_object,extended,gets,__id__,include?,each,instance_variables,instance_variable_get,inspect,+,to_s,instance_variable_name!,respond_to?,to_int,coerce_to!,Integer,===,enum_for,result,any?,print,format,puts,<=,length,[],readline,<,first,split,to_str,exception,backtrace,rand,respond_to_missing?,pristine,try_convert!,expand_path,join,start_with?,new_seed,srand,tag,value,open,is_a?,__send__,yield_self,include"),function(C,Te){var ie=F(C,"Kernel"),M=[ie].concat(Te),d=e.$r(M);ge(ie,"$=~",Se(!1)),ge(ie,"$!~",function(i){var $=this;return $["$=~"](i)["$!"]()}),ge(ie,"$===",function(i){var $=this,a=z;return o(a=$.$object_id()["$=="](i.$object_id()))?a:$["$=="](i)}),ge(ie,"$<=>",function(i){var $=this;$.$$comparable=!0;var a=$["$=="](i);return a&&a!==z?0:z}),ge(ie,"$method",function(i){var $=this,a=$[ne(i)];return(!a||a.$$stub)&&qe.$raise(K("NameError").$new("undefined method `"+i+"' for class `"+$.$class()+"'",i)),K("Method").$new($,a.$$owner||$.$class(),a,i)}),ge(ie,"$methods",function(i){var $=this;return i==null&&(i=!0),o(i)?e.methods($):e.own_methods($)},-1),ge(ie,"$public_methods",function(i){var $=this;return i==null&&(i=!0),o(i)?e.methods($):e.receiver_methods($)},-1),ge(ie,"$Array",function(i){var $;return i===z?[]:i.$$is_array?i:($=D["$coerce_to?"](i,K("Array"),"to_ary"),$!==z||($=D["$coerce_to?"](i,K("Array"),"to_a"),$!==z)?$:[i])}),ge(ie,"$at_exit",function n(){var i=n.$$p||z,$=z;return Pe.__at_exit__==null&&(Pe.__at_exit__=z),n.$$p=null,Pe.__at_exit__=o($=Pe.__at_exit__)?$:[],Pe.__at_exit__["$<<"](i),i}),ge(ie,"$caller",function(i,$){i==null&&(i=1),$==null&&($=z);var a,b;a=new Error().$backtrace(),b=[];for(var w=i+1,Y=a.length;w<Y;w++)a[w].match(/runtime\.js/)||b.push(a[w]);return $!=z&&(b=b.slice(0,$)),b},-1),ge(ie,"$caller_locations",function(i){var $,a,b=this;return $=je(arguments),a=$,ye(ye(b,"caller",Q(a)),"map",[],function(Y){return Y==null&&(Y=z),K(K(K("Thread"),"Backtrace"),"Location").$new(Y)})},-1),ge(ie,"$class",function(){var i=this;return i.$$class}),ge(ie,"$copy_instance_variables",function(i){var $=this,a=Object.keys(i),b,w,Y;for(b=0,w=a.length;b<w;b++)Y=a[b],Y.charAt(0)!=="$"&&i.hasOwnProperty(Y)&&($[Y]=i[Y])}),ge(ie,"$copy_singleton_methods",function(i){var $=this,a,b,w,Y;if(i.hasOwnProperty("$$meta")&&i.$$meta!==null){var Ce=e.get_singleton_class(i),Oe=e.get_singleton_class($);for(w=Object.getOwnPropertyNames(Ce.$$prototype),a=0,Y=w.length;a<Y;a++)b=w[a],e.is_method(b)&&(Oe.$$prototype[b]=Ce.$$prototype[b]);Oe.$$const=Object.assign({},Ce.$$const),Object.setPrototypeOf(Oe.$$prototype,Object.getPrototypeOf(Ce.$$prototype))}for(a=0,w=Object.getOwnPropertyNames(i),Y=w.length;a<Y;a++)b=w[a],b.charAt(0)==="$"&&b.charAt(1)!=="$"&&i.hasOwnProperty(b)&&($[b]=i[b])}),ge(ie,"$clone",function(i){var $,a=this,b=z;return i=Ae(i),$=i.$$smap.freeze,$==null&&($=z),o($["$nil?"]())||We($,!0)||We($,!1)||a.$raise(d("ArgumentError"),"unexpected value for freeze: "+$.$class()),b=a.$class().$allocate(),b.$copy_instance_variables(a),b.$copy_singleton_methods(a),b.$initialize_clone(a,Fe(["freeze"],{freeze:$})),(We($,!0)||o($["$nil?"]())&&o(a["$frozen?"]()))&&b.$freeze(),b},-1),ge(ie,"$initialize_clone",function(i,$){var a=this;return $=Ae($),$.$$smap.freeze,a.$initialize_copy(i),a},-2),ge(ie,"$define_singleton_method",function n(i,$){var a=n.$$p||z,b=this;return n.$$p=null,ye(b.$singleton_class(),"define_method",[i,$],a.$to_proc())},-2),ge(ie,"$dup",function(){var i=this,$=z;return $=i.$class().$allocate(),$.$copy_instance_variables(i),$.$initialize_dup(i),$}),ge(ie,"$initialize_dup",function(i){var $=this;return $.$initialize_copy(i)}),ge(ie,"$enum_for",function n(i,$){var a=n.$$p||z,b,w,Y,Ce=this;return n.$$p=null,b=je(arguments),b.length>0&&(w=b.shift()),w==null&&(w="each"),Y=b,ye(K("Enumerator"),"for",[Ce,w].concat(Q(Y)),a.$to_proc())},-1),ge(ie,"$equal?",function(i){var $=this;return $===i}),ge(ie,"$exit",function(i){var $=z,a=z;for(Pe.__at_exit__==null&&(Pe.__at_exit__=z),i==null&&(i=!0),Pe.__at_exit__=o($=Pe.__at_exit__)?$:[];!o(Pe.__at_exit__["$empty?"]());)a=Pe.__at_exit__.$pop(),a.$call();return i.$$is_boolean?i=i?0:1:i=p(i,K("Integer"),"to_int"),e.exit(i),z},-1),ge(ie,"$extend",function(i){var $,a,b=this;$=je(arguments),a=$,a.length==0&&b.$raise(K("ArgumentError"),"wrong number of arguments (given 0, expected 1+)"),he(b);for(var w=b.$singleton_class(),Y=a.length-1;Y>=0;Y--){var Ce=a[Y];Ce.$$is_module||qe.$raise(K("TypeError"),"wrong argument type "+Ce.$class()+" (expected Module)"),Ce.$append_features(w),Ce.$extend_object(b),Ce.$extended(b)}return b},-1),ge(ie,"$freeze",function(){var i=this;return o(i["$frozen?"]())?i:typeof i=="object"?(le(i),se(i)):i}),ge(ie,"$frozen?",function(){var i=this;switch(typeof i){case"string":case"symbol":case"number":case"boolean":return!0;case"object":return i.$$frozen||!1;default:return!1}}),ge(ie,"$gets",function(i){var $,a;return Pe.stdin==null&&(Pe.stdin=z),$=je(arguments),a=$,ye(Pe.stdin,"gets",Q(a))},-1),ge(ie,"$hash",function(){var i=this;return i.$__id__()}),ge(ie,"$initialize_copy",Se(z));var s=[];return ge(ie,"$inspect",function(){var i=this,$=z,a=z,b=z,w=z;return function(){try{try{return $="",a=i.$__id__(),o(s["$include?"](a))?$=" ...":(s["$<<"](a),b=!0,ye(i.$instance_variables(),"each",[],function Y(Ce){var Oe=Y.$$s==null?this:Y.$$s,ot=z,lt=z;return Ce==null&&(Ce=z),ot=Oe.$instance_variable_get(Ce),lt=d("Opal").$inspect(ot),$=ze($," "+Ce+"="+lt)},{$$s:i})),"#<"+i.$class()+":0x"+a.$to_s(16)+$+">"}catch(Y){if(e.rescue(Y,[d("StandardError")])){w=Y;try{return"#<"+i.$class()+":0x"+a.$to_s(16)+">"}finally{e.pop_exception()}}else throw Y}}finally{o(b)&&s.$pop()}}()}),ge(ie,"$instance_of?",function(i){var $=this;return!i.$$is_class&&!i.$$is_module&&qe.$raise(K("TypeError"),"class or module required"),$.$$class===i}),ge(ie,"$instance_variable_defined?",function(i){var $=this;return i=D["$instance_variable_name!"](i),e.hasOwnProperty.call($,i.substr(1))}),ge(ie,"$instance_variable_get",function(i){var $=this;i=D["$instance_variable_name!"](i);var a=$[e.ivar(i.substr(1))];return a??z}),ge(ie,"$instance_variable_set",function(i,$){var a=this;return he(a),i=D["$instance_variable_name!"](i),a[e.ivar(i.substr(1))]=$}),ge(ie,"$remove_instance_variable",function(i){var $=this;i=D["$instance_variable_name!"](i);var a=e.ivar(i.substr(1)),b;return $.hasOwnProperty(a)?(b=$[a],delete $[a],b):qe.$raise(K("NameError"),"instance variable "+i+" not defined")}),ge(ie,"$instance_variables",function(){var i=this,$=[],a;for(var b in i)i.hasOwnProperty(b)&&b.charAt(0)!=="$"&&(b.substr(-1)==="$"?a=b.slice(0,b.length-1):a=b,$.push("@"+a));return $}),ge(ie,"$Integer",function(i,$){var a,b,w;return i.$$is_string?i==="0"?0:($===void 0?$=0:($=p($,K("Integer"),"to_int"),($===1||$<0||$>36)&&qe.$raise(K("ArgumentError"),"invalid radix "+$)),b=i.toLowerCase(),b=b.replace(/(\d)_(?=\d)/g,"$1"),b=b.replace(/^(\s*[+-]?)(0[bodx]?)/,function(Y,Ce,Oe){switch(Oe){case"0b":if($===0||$===2)return $=2,Ce;case"0":case"0o":if($===0||$===8)return $=8,Ce;case"0d":if($===0||$===10)return $=10,Ce;case"0x":if($===0||$===16)return $=16,Ce}qe.$raise(K("ArgumentError"),'invalid value for Integer(): "'+i+'"')}),$=$===0?10:$,w="0-"+($<=10?$-1:"9a-"+String.fromCharCode(97+($-11))),new RegExp("^\\s*[+-]?["+w+"]+\\s*$").test(b)||qe.$raise(K("ArgumentError"),'invalid value for Integer(): "'+i+'"'),a=parseInt(b,$),isNaN(a)&&qe.$raise(K("ArgumentError"),'invalid value for Integer(): "'+i+'"'),a):($!==void 0&&qe.$raise(K("ArgumentError"),"base specified for non string value"),i===z&&qe.$raise(K("TypeError"),"can't convert nil into Integer"),i.$$is_number?((i===1/0||i===-1/0||isNaN(i))&&qe.$raise(K("FloatDomainError"),i),Math.floor(i)):i["$respond_to?"]("to_int")&&(a=i.$to_int(),a!==z)?a:D["$coerce_to!"](i,K("Integer"),"to_i"))},-2),ge(ie,"$Float",function(i){var $;return i===z&&qe.$raise(K("TypeError"),"can't convert nil into Float"),i.$$is_string?($=i.toString(),$=$.replace(/(\d)_(?=\d)/g,"$1"),/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test($)?qe.$Integer($):(/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test($)||qe.$raise(K("ArgumentError"),'invalid value for Float(): "'+i+'"'),parseFloat($))):D["$coerce_to!"](i,K("Float"),"to_f")}),ge(ie,"$Hash",function(i){return o(i["$nil?"]())||We(i,[])?Fe([],{}):ce(K("Hash"),i)?i:D["$coerce_to!"](i,K("Hash"),"to_hash")}),ge(ie,"$is_a?",function(i){var $=this;return!i.$$is_class&&!i.$$is_module&&qe.$raise(K("TypeError"),"class or module required"),e.is_a($,i)}),ge(ie,"$itself",be),ge(ie,"$lambda",function n(){var i=n.$$p||z;return n.$$p=null,e.lambda(i)}),ge(ie,"$load",function(i){return i=D["$coerce_to!"](i,K("String"),"to_str"),e.load(i)}),ge(ie,"$loop",function n(){var i=n.$$p||z,$=this,a=z;if(n.$$p=null,i===z)return ye($,"enum_for",["loop"],function(){return K(K("Float"),"INFINITY")});for(;o(!0);)try{e.yieldX(i,[])}catch(b){if(e.rescue(b,[K("StopIteration")])){a=b;try{return a.$result()}finally{e.pop_exception()}}else throw b}return $}),ge(ie,"$nil?",Se(!1)),ge(ie,"$printf",function(i){var $,a,b=this;return $=je(arguments),a=$,o(a["$any?"]())&&b.$print(ye(b,"format",Q(a))),z},-1),ge(ie,"$proc",function n(){var i=n.$$p||z;return n.$$p=null,o(i)||qe.$raise(K("ArgumentError"),"tried to create Proc object without a block"),i.$$is_lambda=!1,i}),ge(ie,"$puts",function(i){var $,a;return Pe.stdout==null&&(Pe.stdout=z),$=je(arguments),a=$,ye(Pe.stdout,"puts",Q(a))},-1),ge(ie,"$p",function(i){var $,a;return $=je(arguments),a=$,ye(a,"each",[],function(w){return Pe.stdout==null&&(Pe.stdout=z),w==null&&(w=z),Pe.stdout.$puts(w.$inspect())}),o(ue(a.$length(),1))?a["$[]"](0):a},-1),ge(ie,"$print",function(i){var $,a;return Pe.stdout==null&&(Pe.stdout=z),$=je(arguments),a=$,ye(Pe.stdout,"print",Q(a))},-1),ge(ie,"$readline",function(i){var $,a;return Pe.stdin==null&&(Pe.stdin=z),$=je(arguments),a=$,ye(Pe.stdin,"readline",Q(a))},-1),ge(ie,"$warn",function(i,$){var a,b,w,Y,Ce,Oe,ot=this,lt=z;return Pe.VERBOSE==null&&(Pe.VERBOSE=z),Pe.stderr==null&&(Pe.stderr=z),a=je(arguments),b=Le(a),b=Ae(b),w=a,Y=b.$$smap.uplevel,Y==null&&(Y=z),o(Y)&&(Y=D["$coerce_to!"](Y,K("Integer"),"to_str"),o(ae(Y,0))&&qe.$raise(K("ArgumentError"),"negative level ("+Y+")"),lt=(Ce=(Oe=ot.$caller(ze(Y,1),1).$first(),Oe===z||Oe==null?z:Oe.$split(":in `")),Ce===z||Ce==null?z:Ce.$first()),o(lt)&&(lt=""+lt+": "),w=ye(w,"map",[],function(_t){return _t==null&&(_t=z),""+lt+"warning: "+_t})),o(Pe.VERBOSE["$nil?"]())||o(w["$empty?"]())?z:ye(Pe.stderr,"puts",Q(w))},-1),ge(ie,"$raise",function(i,$,a){throw Pe["!"]==null&&(Pe["!"]=z),Pe["@"]==null&&(Pe["@"]=z),$==null&&($=z),a==null&&(a=z),i==null&&Pe["!"]!==z?Pe["!"]:(i==null?i=K("RuntimeError").$new(""):J(i,"$to_str")?i=K("RuntimeError").$new(i.$to_str()):i.$$is_class&&J(i,"$exception")?i=i.$exception($):i.$$is_exception||(i=K("TypeError").$new("exception class/object expected")),a!==z&&i.$set_backtrace(a),Pe["!"]!==z&&e.exceptions.push(Pe["!"]),Pe["!"]=i,Pe["@"]=i.$backtrace(),i)},-1),ge(ie,"$rand",function(i){return i===void 0?K(K("Random"),"DEFAULT").$rand():(i.$$is_number&&(i<0&&(i=Math.abs(i)),i%1!==0&&(i=i.$to_i()),i===0&&(i=void 0)),K(K("Random"),"DEFAULT").$rand(i))},-1),ge(ie,"$respond_to?",function(i,$){var a=this;$==null&&($=!1);var b=a[ne(i)];return typeof b=="function"&&!b.$$stub?!0:a["$respond_to_missing?"].$$pristine===!0?!1:a["$respond_to_missing?"](i,$)},-2),ge(ie,"$respond_to_missing?",function(i,$){return!1},-2),D.$pristine(ie,"respond_to?","respond_to_missing?"),ge(ie,"$require",function(i){return typeof i!="string"&&e.String&&e.Array&&(i=D["$coerce_to!"](i,K("String"),"to_str")),e.require(i)}),ge(ie,"$require_relative",function(i){return D["$try_convert!"](i,K("String"),"to_str"),i=K("File").$expand_path(K("File").$join(e.current_file,"..",i)),e.require(i)}),ge(ie,"$require_tree",function(i,$){var a;$=Ae($),a=$.$$smap.autoload,a==null&&(a=!1);var b=[];i=K("File").$expand_path(i),i=e.normalize(i),i==="."&&(i="");for(var w in e.modules)w["$start_with?"](i)&&(a?b.push([w,!0]):b.push([w,e.require(w)]));return b},-2),ge(ie,"$singleton_class",function(){var i=this;return e.get_singleton_class(i)}),ge(ie,"$sleep",function(i){i==null&&(i=z),i===z&&qe.$raise(K("TypeError"),"can't convert NilClass into time interval"),i.$$is_number||qe.$raise(K("TypeError"),"can't convert "+i.$class()+" into time interval"),i<0&&qe.$raise(K("ArgumentError"),"time interval must be positive");for(var $=e.global.performance?function(){return performance.now()}:function(){return new Date},a=$();$()-a<=i*1e3;);return Math.round(i)},-1),ge(ie,"$srand",function(i){return i==null&&(i=d("Random").$new_seed()),K("Random").$srand(i)},-1),ge(ie,"$String",function(i){var $=z;return o($=D["$coerce_to?"](i,K("String"),"to_str"))?$:D["$coerce_to!"](i,K("String"),"to_s")}),ge(ie,"$tap",function n(){var i=n.$$p||z,$=this;return n.$$p=null,e.yield1(i,$),$}),ge(ie,"$to_proc",be),ge(ie,"$to_s",function(){var i=this;return"#<"+i.$class()+":0x"+i.$__id__().$to_s(16)+">"}),ge(ie,"$catch",function n(i){var $=n.$$p||z,a=z,b=z;n.$$p=null,i==null&&(i=z);try{return i=o(a=i)?a:xe.$new(),e.yield1($,i)}catch(w){if(e.rescue(w,[K("UncaughtThrowError")])){b=w;try{return We(b.$tag(),i)?b.$value():qe.$raise()}finally{e.pop_exception()}}else throw w}},-1),ge(ie,"$throw",function(i,$){return $==null&&($=z),qe.$raise(K("UncaughtThrowError").$new(i,$))},-2),ge(ie,"$open",function n(i){var $=n.$$p||z,a,b;return n.$$p=null,a=je(arguments),b=a,ye(K("File"),"open",Q(b),$.$to_proc())},-1),ge(ie,"$yield_self",function n(){var i=n.$$p||z,$=this;return n.$$p=null,i===z?ye($,"enum_for",["yield_self"],Se(1)):e.yield1(i,$)}),ee(ie,"fail","raise"),ee(ie,"kind_of?","is_a?"),ee(ie,"object_id","__id__"),ee(ie,"public_send","__send__"),ee(ie,"send","__send__"),ee(ie,"then","yield_self"),ee(ie,"to_enum","enum_for")}("::",_e),function(C,Te){var ie=m(C,Te,"Object");return delete xe.$$prototype.$require,ie.$include(qe)}("::",null)};Opal.modules["corelib/main"]=function(e){var o=e.return_val,p=e.def,J=e.Object,D=e.slice,he=e.Kernel,se=e.top;return e.nil,e.add_stubs("include,raise"),function(le,ne){return p(le,"$to_s",o("main")),p(le,"$include",function(Se){return J.$include(Se)}),p(le,"$autoload",function(Se){var ge,qe;return ge=D(arguments),qe=ge,e.Object.$autoload.apply(e.Object,qe)},-1),p(le,"$using",function(Se){return he.$raise("main.using is permitted only at toplevel")})}(e.get_singleton_class(se))};Opal.modules["corelib/error/errno"]=function(e){var o=e.module,p=e.truthy,J=e.rb_plus,D=e.send2,he=e.find_super,se=e.def,le=e.klass,ne=e.nil,F=e.$$$;return e.add_stubs("+,errno,class,attr_reader"),function(Se,ge){var qe=o(Se,"Errno"),Pe=ne,je=ne;Pe=[["EINVAL","Invalid argument",22],["EEXIST","File exists",17],["EISDIR","Is a directory",21],["EMFILE","Too many open files",24],["ESPIPE","Illegal seek",29],["EACCES","Permission denied",13],["EPERM","Operation not permitted",1],["ENOENT","No such file or directory",2],["ENAMETOOLONG","File name too long",36]],je=ne;var ye;for(ye=0;ye<Pe.length;ye++)(function(){var Q=Pe[ye][0],Ae=Pe[ye][1],We=Pe[ye][2];je=e.klass(qe,e.SystemCallError,Q),je.errno=We,function(Fe,ze){return se(Fe,"$new",function ce(be){ce.$$p;var ue=this,Le=ne;return ce.$$p=null,be==null&&(be=ne),Le=Ae,p(be)&&(Le=J(Le," - "+be)),D(ue,he(ue,"new",ce,!1,!0),"new",[Le],null)},-1)}(e.get_singleton_class(je))})()}("::"),function(Se,ge,qe){var Pe=le(Se,ge,"SystemCallError");return se(Pe,"$errno",function(){var ye=this;return ye.$class().$errno()}),function(je,ye){return je.$attr_reader("errno")}(e.get_singleton_class(Pe))}("::",F("StandardError"))};Opal.modules["corelib/error"]=function(e){var o=e.klass,p=e.slice,J=e.gvars,D=e.defs,he=e.send,se=e.to_a,le=e.def,ne=e.truthy,F=e.hash2,Se=e.Kernel,ge=e.not,qe=e.rb_plus,Pe=e.eqeq,je=e.Object,ye=e.ensure_kwargs,Q=e.send2,Ae=e.find_super,We=e.module,Fe=[],ze=e.nil,ce=e.$$$;return e.add_stubs("new,map,backtrace,clone,to_s,merge,tty?,[],include?,raise,dup,empty?,!,caller,shift,+,class,join,cause,full_message,==,reverse,split,autoload,attr_reader,inspect"),function(be,ue,Le){var ae=o(be,ue,"Exception"),xe=[ae].concat(Le),ee=e.$r(xe),m=ae.$$prototype;m.message=ze,e.prop(ae.$$prototype,"$$is_exception",!0);var _e;Error.stackTraceLimit=100,D(ae,"$new",function(C){var Te,ie,M=this;J["!"]==null&&(J["!"]=ze),Te=p(arguments),ie=Te;var d=ie.length>0?ie[0]:ze,s=new M.$$constructor(d);return s.name=M.$$name,s.message=d,s.cause=J["!"],e.send(s,s.$initialize,ie),e.config.enable_stack_trace&&Error.captureStackTrace&&Error.captureStackTrace(s,_e),s},-1),_e=ae.$new,D(ae,"$exception",function(C){var Te,ie,M=this;return Te=p(arguments),ie=Te,he(M,"new",se(ie))},-1),le(ae,"$initialize",function(C){var Te,ie,M=this;return Te=p(arguments),ie=Te,M.message=ie.length>0?ie[0]:ze},-1);function z(K){for(var C=[],Te,ie=0;ie<K.length;ie++){var M=K[ie];!M||!M.$$is_string||((Te=M.match(/^    at (.*?) \((.*?)\)$/))?C.push(Te[2]+":in `"+Te[1]+"'"):(Te=M.match(/^    at (.*?)$/))?C.push(Te[1]+":in `undefined'"):(Te=M.match(/^  from (.*?)$/))?C.push(Te[1]):(Te=M.match(/^(.*?)@(.*?)$/))&&C.push(Te[2]+":in `"+Te[1]+"'"))}return C}return le(ae,"$backtrace",function(){var C=this;if(C.backtrace)return C.backtrace;var Te=C.stack;return typeof Te<"u"&&Te.$$is_string?C.backtrace=z(Te.split(`
`)):Te?C.backtrace=z(Te):[]}),le(ae,"$backtrace_locations",function(){var C,Te=this;return Te.backtrace_locations||(Te.backtrace_locations=(C=Te.$backtrace(),C===ze||C==null?ze:he(C,"map",[],function(M){return M==null&&(M=ze),ce(ce(ce("Thread"),"Backtrace"),"Location").$new(M)}))),Te.backtrace_locations}),le(ae,"$cause",function(){var C=this;return C.cause||ze}),le(ae,"$exception",function(C){var Te=this;if(C==null&&(C=ze),C===ze||Te===C)return Te;var ie=Te.$clone();return ie.message=C,Te.backtrace&&(ie.backtrace=Te.backtrace.$dup()),ie.stack=Te.stack,ie.cause=Te.cause,ie},-1),le(ae,"$message",function(){var C=this;return C.$to_s()}),le(ae,"$full_message",function(C){var Te,ie=this,M=ze,d=ze,s=ze,n=ze,i=ze,$=ze,a=ze,b=ze,w=ze;return J.stderr==null&&(J.stderr=ze),C==null&&(C=ze),ne(ee("Hash","skip_raise")?"constant":ze)?(C=F(["highlight","order"],{highlight:J.stderr["$tty?"](),order:"top"}).$merge(ne(M=C)?M:F([],{})),Te=[C["$[]"]("highlight"),C["$[]"]("order")],d=Te[0],s=Te[1],ne([!0,!1]["$include?"](d))||Se.$raise(ce("ArgumentError"),"expected true or false as highlight: "+d),ne(["top","bottom"]["$include?"](s))||Se.$raise(ce("ArgumentError"),"expected :top or :bottom as order: "+s),ne(d)?(n="\x1B[1;4m",i="\x1B[1m",$="\x1B[m"):n=i=$="",a=ie.$backtrace().$dup(),(ge(a)||ne(a["$empty?"]()))&&(a=ie.$caller()),b=a.$shift(),w=""+b+": ",w=qe(w,""+i+ie.$to_s()+" ("+n+ie.$class()+$+i+")"+$+`
`),w=qe(w,he(a,"map",[],function(Ce){return Ce==null&&(Ce=ze),"	from "+Ce+`
`}).$join()),ne(ie.$cause())&&(w=qe(w,ie.$cause().$full_message(F(["highlight"],{highlight:d})))),Pe(s,"bottom")&&(w=w.$split(`
`).$reverse().$join(`
`),w=qe(""+i+"Traceback"+$+` (most recent call last):
`,w)),w):""+ie.message+`
`+ie.stack},-1),le(ae,"$inspect",function(){var C=this,Te=ze;return Te=C.$to_s(),ne(Te["$empty?"]())?C.$class().$to_s():"#<"+C.$class().$to_s()+": "+C.$to_s()+">"}),le(ae,"$set_backtrace",function(C){var Te=this,ie=!0,M,d;if(C===ze)Te.backtrace=ze,Te.stack="";else if(C.$$is_string)Te.backtrace=[C],Te.stack="  from "+C;else{if(C.$$is_array){for(M=0,d=C.length;M<d;M++)if(!C[M].$$is_string){ie=!1;break}}else ie=!1;ie===!1&&Se.$raise(ce("TypeError"),"backtrace must be Array of String"),Te.backtrace=C,Te.stack=he(C,"map",[],function(n){return n==null&&(n=ze),qe("  from ",n)}).join(`
`)}return C}),le(ae,"$to_s",function(){var C=this,Te=ze,ie=ze;return ne(Te=ne(ie=C.message)?C.message.$to_s():ie)?Te:C.$class().$to_s()})}("::",Error,Fe),o("::",ce("Exception"),"ScriptError"),o("::",ce("ScriptError"),"SyntaxError"),o("::",ce("ScriptError"),"LoadError"),o("::",ce("ScriptError"),"NotImplementedError"),o("::",ce("Exception"),"SystemExit"),o("::",ce("Exception"),"NoMemoryError"),o("::",ce("Exception"),"SignalException"),o("::",ce("SignalException"),"Interrupt"),o("::",ce("Exception"),"SecurityError"),o("::",ce("Exception"),"SystemStackError"),o("::",ce("Exception"),"StandardError"),o("::",ce("StandardError"),"EncodingError"),o("::",ce("StandardError"),"ZeroDivisionError"),o("::",ce("StandardError"),"NameError"),o("::",ce("NameError"),"NoMethodError"),o("::",ce("StandardError"),"RuntimeError"),o("::",ce("RuntimeError"),"FrozenError"),o("::",ce("StandardError"),"LocalJumpError"),o("::",ce("StandardError"),"TypeError"),o("::",ce("StandardError"),"ArgumentError"),o("::",ce("ArgumentError"),"UncaughtThrowError"),o("::",ce("StandardError"),"IndexError"),o("::",ce("IndexError"),"StopIteration"),o("::",ce("StopIteration"),"ClosedQueueError"),o("::",ce("IndexError"),"KeyError"),o("::",ce("StandardError"),"RangeError"),o("::",ce("RangeError"),"FloatDomainError"),o("::",ce("StandardError"),"IOError"),o("::",ce("IOError"),"EOFError"),o("::",ce("StandardError"),"SystemCallError"),o("::",ce("StandardError"),"RegexpError"),o("::",ce("StandardError"),"ThreadError"),o("::",ce("StandardError"),"FiberError"),je.$autoload("Errno","corelib/error/errno"),function(be,ue){var Le=o(be,ue,"FrozenError");return Le.$attr_reader("receiver"),le(Le,"$initialize",function ae(xe,ee){var m;ae.$$p;var _e=this;return ae.$$p=null,ee=ye(ee),m=ee.$$smap.receiver,m==null&&(m=ze),Q(_e,Ae(_e,"initialize",ae,!1,!0),"initialize",[xe],null),_e.receiver=m},-2)}("::",ce("RuntimeError")),function(be,ue){var Le=o(be,ue,"UncaughtThrowError"),ae=Le.$$prototype;return ae.tag=ze,Le.$attr_reader("tag","value"),le(Le,"$initialize",function xe(ee,m){xe.$$p;var _e=this;return xe.$$p=null,m==null&&(m=ze),_e.tag=ee,_e.value=m,Q(_e,Ae(_e,"initialize",xe,!1,!0),"initialize",["uncaught throw "+_e.tag.$inspect()],null)},-2)}("::",ce("ArgumentError")),function(be,ue){var Le=o(be,ue,"NameError");return Le.$attr_reader("name"),le(Le,"$initialize",function ae(xe,ee){ae.$$p;var m=this;return ae.$$p=null,ee==null&&(ee=ze),Q(m,Ae(m,"initialize",ae,!1,!0),"initialize",[xe],null),m.name=ee},-2)}("::",null),function(be,ue){var Le=o(be,ue,"NoMethodError");return Le.$attr_reader("args"),le(Le,"$initialize",function ae(xe,ee,m){ae.$$p;var _e=this;return ae.$$p=null,ee==null&&(ee=ze),m==null&&(m=[]),Q(_e,Ae(_e,"initialize",ae,!1,!0),"initialize",[xe,ee],null),_e.args=m},-2)}("::",null),function(be,ue){var Le=o(be,ue,"StopIteration");return Le.$attr_reader("result")}("::",null),function(be,ue){var Le=o(be,ue,"KeyError"),ae=Le.$$prototype;return ae.receiver=ae.key=ze,le(Le,"$initialize",function xe(ee,m){var _e,z;xe.$$p;var K=this;return xe.$$p=null,m=ye(m),_e=m.$$smap.receiver,_e==null&&(_e=ze),z=m.$$smap.key,z==null&&(z=ze),Q(K,Ae(K,"initialize",xe,!1,!0),"initialize",[ee],null),K.receiver=_e,K.key=z},-2),le(Le,"$receiver",function(){var ee=this,m=ze;return ne(m=ee.receiver)?m:Se.$raise(ce("ArgumentError"),"no receiver is available")}),le(Le,"$key",function(){var ee=this,m=ze;return ne(m=ee.key)?m:Se.$raise(ce("ArgumentError"),"no key is available")})}("::",null),function(be,ue){var Le=We(be,"JS"),ae=[Le].concat(ue);return o(ae[0],null,"Error"),ze}("::",Fe)};Opal.modules["corelib/constants"]=function(e){var o=e.const_set;e.nil;var p=e.$$$;return o("::","RUBY_PLATFORM","opal"),o("::","RUBY_ENGINE","opal"),o("::","RUBY_VERSION","3.2.0"),o("::","RUBY_ENGINE_VERSION","1.7.3"),o("::","RUBY_RELEASE_DATE","2023-03-23"),o("::","RUBY_PATCHLEVEL",0),o("::","RUBY_REVISION","0"),o("::","RUBY_COPYRIGHT","opal - Copyright (C) 2011-2023 Adam Beynon and the Opal contributors"),o("::","RUBY_DESCRIPTION","opal "+p("RUBY_ENGINE_VERSION")+" ("+p("RUBY_RELEASE_DATE")+" revision "+p("RUBY_REVISION")+")")};Opal.modules["opal/base"]=function(e){var o=e.Object;return e.nil,e.add_stubs("require"),o.$require("corelib/runtime"),o.$require("corelib/helpers"),o.$require("corelib/module"),o.$require("corelib/class"),o.$require("corelib/basic_object"),o.$require("corelib/kernel"),o.$require("corelib/main"),o.$require("corelib/error"),o.$require("corelib/constants")};Opal.modules["corelib/nil"]=function(e){var o=e.klass,p=e.Kernel,J=e.def,D=e.return_val,he=e.ensure_kwargs,se=e.NilClass,le=e.slice,ne=e.truthy,F=e.rb_gt,Se=e.alias,ge=e.nil,qe=e.$$$;return e.add_stubs("raise,name,new,>,length,Rational,to_i"),function(Pe,je,ye){var Q=o(Pe,je,"NilClass");return Q.$$prototype.$$meta=Q,function(Ae,We){return J(Ae,"$allocate",function(){var ze=this;return p.$raise(qe("TypeError"),"allocator undefined for "+ze.$name())}),e.udef(Ae,"$new"),ge}(e.get_singleton_class(Q)),J(Q,"$!",D(!0)),J(Q,"$&",D(!1)),J(Q,"$|",function(We){return We!==!1&&We!==ge}),J(Q,"$^",function(We){return We!==!1&&We!==ge}),J(Q,"$==",function(We){return We===ge}),J(Q,"$dup",D(ge)),J(Q,"$clone",function(We){return We=he(We),We.$$smap.freeze,ge},-1),J(Q,"$inspect",D("nil")),J(Q,"$nil?",D(!0)),J(Q,"$singleton_class",function(){return se}),J(Q,"$to_a",function(){return[]}),J(Q,"$to_h",function(){return e.hash()}),J(Q,"$to_i",D(0)),J(Q,"$to_s",D("")),J(Q,"$to_c",function(){return qe("Complex").$new(0,0)}),J(Q,"$rationalize",function(We){var Fe,ze;return Fe=le(arguments),ze=Fe,ne(F(ze.$length(),1))&&p.$raise(qe("ArgumentError")),p.$Rational(0,1)},-1),J(Q,"$to_r",function(){return p.$Rational(0,1)}),J(Q,"$instance_variables",function(){return[]}),Se(Q,"to_f","to_i")}("::",null)};Opal.modules["corelib/boolean"]=function(e){var o=e.klass,p=e.Kernel,J=e.def,D=e.return_self,he=e.ensure_kwargs,se=e.slice,le=e.truthy,ne=e.send2,F=e.find_super,Se=e.to_a,ge=e.alias,qe=e.nil,Pe=e.$$$;return e.add_stubs("raise,name,==,to_s,__id__"),function(je,ye,Q){var Ae=o(je,ye,"Boolean");e.prop(Ae.$$prototype,"$$is_boolean",!0);for(var We=["$$class","$$meta"],Fe=0;Fe<We.length;Fe++)Object.defineProperty(Ae.$$prototype,We[Fe],{configurable:!0,enumerable:!1,get:function(){return this==!0?e.TrueClass:this==!1?e.FalseClass:e.Boolean}});return Object.defineProperty(Ae.$$prototype,"$$id",{configurable:!0,enumerable:!1,get:function(){return this==!0?2:this==!1?0:qe}}),function(ze,ce){return J(ze,"$allocate",function(){var ue=this;return p.$raise(Pe("TypeError"),"allocator undefined for "+ue.$name())}),e.udef(ze,"$new"),qe}(e.get_singleton_class(Ae)),J(Ae,"$__id__",function(){var ce=this;return ce.valueOf()?2:0}),J(Ae,"$!",function(){var ce=this;return ce!=!0}),J(Ae,"$&",function(ce){var be=this;return be==!0?ce!==!1&&ce!==qe:!1}),J(Ae,"$|",function(ce){var be=this;return be==!0?!0:ce!==!1&&ce!==qe}),J(Ae,"$^",function(ce){var be=this;return be==!0?ce===!1||ce===qe:ce!==!1&&ce!==qe}),J(Ae,"$==",function(ce){var be=this;return be==!0===ce.valueOf()}),J(Ae,"$singleton_class",function(){var ce=this;return ce.$$meta}),J(Ae,"$to_s",function(){var ce=this;return ce==!0?"true":"false"}),J(Ae,"$dup",D),J(Ae,"$clone",function(ce){var be=this;return ce=he(ce),ce.$$smap.freeze,be},-1),J(Ae,"$method_missing",function ze(ce,be){var ue=ze.$$p||qe,Le,ae,xe=this;ze.$$p=null,Le=se(arguments,1),ae=Le;var ee=xe.$$class.$$prototype[e.jsid(ce)];return le(typeof ee<"u"&&!ee.$$stub)||ne(xe,F(xe,"method_missing",ze,!1,!0),"method_missing",[ce].concat(Se(ae)),ue),e.send(xe,ee,ae,ue)},-2),J(Ae,"$respond_to_missing?",function(ce,be){var ue=this,Le=ue.$$class.$$prototype[e.jsid(ce)];return typeof Le<"u"&&!Le.$$stub},-2),ge(Ae,"eql?","=="),ge(Ae,"equal?","=="),ge(Ae,"inspect","to_s"),ge(Ae,"object_id","__id__")}("::",Boolean),o("::",Pe("Boolean"),"TrueClass"),o("::",Pe("Boolean"),"FalseClass"),qe};Opal.modules["corelib/comparable"]=function(e){var o=e.truthy,p=e.module,J=e.rb_gt,D=e.rb_lt,he=e.eqeqeq,se=e.Kernel,le=e.def,ne=e.nil,F=e.$$$;return e.add_stubs(">,<,===,raise,class,<=>,equal?"),function(Se){var ge=p(Se,"Comparable"),qe=ne;function Pe(Q){return e.is_a(Q,e.Integer)?Q:J(Q,0)?1:D(Q,0)?-1:0}function je(Q,Ae){var We;he(ne,qe=Ae)||he(!0,qe)||he(!1,qe)||he(F("Integer"),qe)||he(F("Float"),qe)?We=Ae.$inspect():We=Ae.$$class,se.$raise(F("ArgumentError"),"comparison of "+Q.$class()+" with "+We+" failed")}function ye(Q,Ae){var We=Q["$<=>"](Ae);return o(We)||je(Q,Ae),Pe(We)}return le(ge,"$==",function(Ae){var We=this,Fe=ne;return o(We["$equal?"](Ae))?!0:We["$<=>"]==e.Kernel["$<=>"]?!1:We.$$comparable?(We.$$comparable=!1,!1):o(Fe=We["$<=>"](Ae))?Pe(Fe)==0:!1}),le(ge,"$>",function(Ae){var We=this;return ye(We,Ae)>0}),le(ge,"$>=",function(Ae){var We=this;return ye(We,Ae)>=0}),le(ge,"$<",function(Ae){var We=this;return ye(We,Ae)<0}),le(ge,"$<=",function(Ae){var We=this;return ye(We,Ae)<=0}),le(ge,"$between?",function(Ae,We){var Fe=this;return!(D(Fe,Ae)||J(Fe,We))}),le(ge,"$clamp",function(Ae,We){var Fe=this;We==null&&(We=ne);var ze,ce;if(We===ne&&(e.is_a(Ae,e.Range)||se.$raise(F("TypeError"),"wrong argument type "+Ae.$class()+" (expected Range)"),ce=Ae.excl,We=Ae.end,Ae=Ae.begin,We!==ne&&ce&&se.$raise(F("ArgumentError"),"cannot clamp with an exclusive range")),Ae!==ne&&We!==ne&&ye(Ae,We)>0&&se.$raise(F("ArgumentError"),"min argument must be smaller than max argument"),Ae!==ne){if(ze=ye(Fe,Ae),ze==0)return Fe;if(ze<0)return Ae}return We!==ne&&(ze=ye(Fe,We),ze>0)?We:Fe},-2)}("::")};Opal.modules["corelib/regexp"]=function(e){var o=e.coerce_to,p=e.prop,J=e.freeze,D=e.klass,he=e.const_set,se=e.send2,le=e.find_super,ne=e.def,F=e.truthy,Se=e.gvars,ge=e.slice,qe=e.Kernel,Pe=e.Opal,je=e.alias,ye=e.send,Q=e.hash2,Ae=e.rb_plus,We=e.ensure_kwargs,Fe=e.rb_ge,ze=e.to_a,ce=e.eqeqeq,be=e.rb_minus,ue=e.return_ivar,Le=[],ae=e.nil,xe=e.$$$;return e.add_stubs("nil?,[],raise,escape,options,to_str,new,join,coerce_to!,!,match,coerce_to?,begin,frozen?,uniq,map,scan,source,to_proc,transform_values,group_by,each_with_index,+,last,=~,==,attr_reader,>=,length,is_a?,include?,names,regexp,named_captures,===,captures,-,inspect,empty?,each,to_a"),D("::",xe("StandardError"),"RegexpError"),function(ee,m,_e){var z=D(ee,m,"Regexp"),K=[z].concat(_e),C=e.$r(K);return he(z,"IGNORECASE",1),he(z,"EXTENDED",2),he(z,"MULTILINE",4),e.prop(z.$$prototype,"$$is_regexp",!0),function(Te,ie){var M=[Te].concat(ie),d=e.$r(M);return ne(Te,"$allocate",function s(){var n=s.$$p||ae,i=this,$=ae;return s.$$p=null,$=se(i,le(i,"allocate",s,!1,!0),"allocate",[],n),$.uninitialized=!0,$}),ne(Te,"$escape",function(n){return e.escape_regexp(n)}),ne(Te,"$last_match",function(n){return Se["~"]==null&&(Se["~"]=ae),n==null&&(n=ae),F(n["$nil?"]())?Se["~"]:F(Se["~"])?Se["~"]["$[]"](n):ae},-1),ne(Te,"$union",function(n){var i,$,a=this;i=ge(arguments),$=i;var b,w,Y,Ce,Oe;if($.length==0)return/(?!)/;if($.length==1&&$[0].$$is_regexp)return $[0];b=$[0].$$is_array,$.length>1&&b&&qe.$raise(xe("TypeError"),"no implicit conversion of Array into String"),b&&($=$[0]),Ce=void 0,w=[];for(var ot=0;ot<$.length;ot++)Y=$[ot],Y.$$is_string?w.push(a.$escape(Y)):Y.$$is_regexp?(Oe=Y.$options(),Ce!=null&&Ce!=Oe&&qe.$raise(xe("TypeError"),"All expressions must use the same options"),Ce=Oe,w.push("("+Y.source+")")):w.push(a.$escape(Y.$to_str()));return a.$new(w.$join("|"),Ce)},-1),ne(Te,"$new",function(n,i){if(n.$$is_regexp)return new RegExp(n);if(n=Pe["$coerce_to!"](n,xe("String"),"to_str"),n.charAt(n.length-1)==="\\"&&n.charAt(n.length-2)!=="\\"&&qe.$raise(xe("RegexpError"),"too short escape sequence: /"+n+"/"),n=n.replace("\\A","^").replace("\\z","$"),i===void 0||i["$!"]())return new RegExp(n);if(i.$$is_number){var $="";d("IGNORECASE")&i&&($+="i"),d("MULTILINE")&i&&($+="m"),i=$}else i="i";return new RegExp(n,i)},-2),je(Te,"compile","new"),je(Te,"quote","escape")}(e.get_singleton_class(z),K),ne(z,"$==",function(ie){var M=this;return ie instanceof RegExp&&M.toString()===ie.toString()}),ne(z,"$===",function(ie){var M=this;return M.$match(Pe["$coerce_to?"](ie,xe("String"),"to_str"))!==ae}),ne(z,"$=~",function(ie){var M=this,d=ae;return Se["~"]==null&&(Se["~"]=ae),F(d=M.$match(ie))?Se["~"].$begin(0):d}),ne(z,"$freeze",function(){var ie=this;return F(ie["$frozen?"]())?ie:(ie.hasOwnProperty("$$g")||p(ie,"$$g",null),ie.hasOwnProperty("$$gm")||p(ie,"$$gm",null),J(ie))}),ne(z,"$inspect",function(){var ie=this,M=/^\/(.*)\/([^\/]*)$/,d=ie.toString(),s=M.exec(d);if(s){for(var n=s[1],i=s[2],$=n.split(""),a=$.length,b=!1,w="",Y=0;Y<a;Y++){var Ce=$[Y];!b&&Ce=="/"&&(w=w.concat("\\")),w=w.concat(Ce),Ce=="\\"?b?b=!1:b=!0:b=!1}return"/"+w+"/"+i}else return d}),ne(z,"$match",function Te(ie,M){var d=Te.$$p||ae,s=this;if(Se["~"]==null&&(Se["~"]=ae),Te.$$p=null,s.uninitialized&&qe.$raise(xe("TypeError"),"uninitialized Regexp"),M===void 0){if(ie===ae)return Se["~"]=ae;var n=s.exec(o(ie,xe("String"),"to_str"));return n?(Se["~"]=xe("MatchData").$new(s,n),d===ae?Se["~"]:e.yield1(d,Se["~"])):Se["~"]=ae}if(M=o(M,xe("Integer"),"to_int"),ie===ae||(ie=o(ie,xe("String"),"to_str"),M<0&&(M+=ie.length,M<0)))return Se["~"]=ae;for(var i,$=e.global_regexp(s);;){if(i=$.exec(ie),i===null)return Se["~"]=ae;if(i.index>=M)return Se["~"]=xe("MatchData").$new($,i),d===ae?Se["~"]:e.yield1(d,Se["~"]);$.lastIndex=i.index+1}},-2),ne(z,"$match?",function(ie,M){var d=this;if(d.uninitialized&&qe.$raise(xe("TypeError"),"uninitialized Regexp"),M===void 0)return ie===ae?!1:d.test(o(ie,xe("String"),"to_str"));if(M=o(M,xe("Integer"),"to_int"),ie===ae||(ie=o(ie,xe("String"),"to_str"),M<0&&(M+=ie.length,M<0)))return!1;var s,n=e.global_regexp(d);return s=n.exec(ie),!(s===null||s.index<M)},-2),ne(z,"$names",function(){var ie=this;return ye(ie.$source().$scan(/\(?<(\w+)>/,Q(["no_matchdata"],{no_matchdata:!0})),"map",[],"first".$to_proc()).$uniq()}),ne(z,"$named_captures",function(){var ie=this;return ye(ye(ye(ie.$source().$scan(/\(?<(\w+)>/,Q(["no_matchdata"],{no_matchdata:!0})),"map",[],"first".$to_proc()).$each_with_index(),"group_by",[],"first".$to_proc()),"transform_values",[],function(d){return d==null&&(d=ae),ye(d,"map",[],function(n){return n==null&&(n=ae),Ae(n.$last(),1)})})}),ne(z,"$~",function(){var ie=this;return Se._==null&&(Se._=ae),ie["$=~"](Se._)}),ne(z,"$source",function(){var ie=this;return ie.source}),ne(z,"$options",function(){var ie=this;ie.uninitialized&&qe.$raise(xe("TypeError"),"uninitialized Regexp");var M=0;return ie.multiline&&(M|=C("MULTILINE")),ie.ignoreCase&&(M|=C("IGNORECASE")),M}),ne(z,"$casefold?",function(){var ie=this;return ie.ignoreCase}),je(z,"eql?","=="),je(z,"to_s","source")}("::",RegExp,Le),function(ee,m,_e){var z=D(ee,m,"MatchData"),K=[z].concat(_e),C=e.$r(K),Te=z.$$prototype;return Te.matches=ae,z.$attr_reader("post_match","pre_match","regexp","string"),ne(z,"$initialize",function(M,d,s){var n,i=this;s=We(s),n=s.$$smap.no_matchdata,n==null&&(n=!1),F(n)||(Se["~"]=i),i.regexp=M,i.begin=d.index,i.string=d.input,i.pre_match=d.input.slice(0,d.index),i.post_match=d.input.slice(d.index+d[0].length),i.matches=[];for(var $=0,a=d.length;$<a;$++){var b=d[$];b==null?i.matches.push(ae):i.matches.push(b)}},-3),ne(z,"$match",function(M){var d=this,s=ae;return F(s=d["$[]"](M))?s:F(M["$is_a?"](C("Integer")))&&F(Fe(M,d.$length()))?qe.$raise(xe("IndexError"),"index "+M+" out of matches"):ae}),ne(z,"$match_length",function(M){var d,s=this;return d=s.$match(M),d===ae||d==null?ae:d.$length()}),ne(z,"$[]",function(M){var d,s,n=this;return d=ge(arguments),s=d,s[0].$$is_string?(n.$regexp().$names()["$include?"](s["$[]"](0))["$!"]()&&qe.$raise(xe("IndexError"),"undefined group name reference: "+s["$[]"](0)),n.$named_captures()["$[]"](s["$[]"](0))):ye(n.matches,"[]",ze(s))},-1),ne(z,"$offset",function(M){var d=this;return M!==0&&qe.$raise(xe("ArgumentError"),"MatchData#offset only supports 0th element"),[d.begin,d.begin+d.matches[M].length]}),ne(z,"$==",function(M){var d=this,s=ae,n=ae,i=ae,$=ae;return ce(xe("MatchData"),M)?F(s=F(n=F(i=F($=d.string==M.string)?d.regexp.toString()==M.regexp.toString():$)?d.pre_match==M.pre_match:i)?d.post_match==M.post_match:n)?d.begin==M.begin:s:!1}),ne(z,"$begin",function(M){var d=this;return M!==0&&qe.$raise(xe("ArgumentError"),"MatchData#begin only supports 0th element"),d.begin}),ne(z,"$end",function(M){var d=this;return M!==0&&qe.$raise(xe("ArgumentError"),"MatchData#end only supports 0th element"),d.begin+d.matches[M].length}),ne(z,"$captures",function(){var M=this;return M.matches.slice(1)}),ne(z,"$named_captures",function(){var M=this,d=ae;return d=M.$captures(),ye(M.$regexp().$named_captures(),"transform_values",[],function(n){return n==null&&(n=ae),d["$[]"](be(n.$last(),1))})}),ne(z,"$names",function(){var M=this;return M.$regexp().$names()}),ne(z,"$inspect",function(){var M=this,d="#<MatchData "+M.matches[0].$inspect();if(M.$regexp().$names()["$empty?"]())for(var s=1,n=M.matches.length;s<n;s++)d+=" "+s+":"+M.matches[s].$inspect();else ye(M.$named_captures(),"each",[],function($,a){return $==null&&($=ae),a==null&&(a=ae),d+=" "+$+":"+a.$inspect()});return d+">"}),ne(z,"$length",function(){var M=this;return M.matches.length}),ne(z,"$to_a",ue("matches")),ne(z,"$to_s",function(){var M=this;return M.matches[0]}),ne(z,"$values_at",function(M){var d,s,n=this;d=ge(arguments),s=d;var i,$,a,b=[];for(i=0;i<s.length;i++){if(s[i].$$is_range&&($=s[i].$to_a(),$.unshift(i,1),Array.prototype.splice.apply(s,$)),a=Pe["$coerce_to!"](s[i],xe("Integer"),"to_int"),a<0&&(a+=n.matches.length,a<0)){b.push(ae);continue}b.push(n.matches[a])}return b},-1),je(z,"eql?","=="),je(z,"size","length")}(Le[0],null,Le)};Opal.modules["corelib/string"]=function(e){var o=e.coerce_to,p=e.respond_to,J=e.global_multiline_regexp,D=e.prop,he=e.klass,se=e.def,le=e.Opal,ne=e.defs,F=e.slice,Se=e.send,ge=e.to_a,qe=e.extract_kwargs,Pe=e.ensure_kwargs,je=e.eqeqeq,ye=e.Kernel,Q=e.truthy,Ae=e.gvars,We=e.rb_divide,Fe=e.rb_plus,ze=e.eqeq,ce=e.hash2,be=e.alias,ue=e.const_set,Le=e.top,ae=[],xe=e.$r(ae),ee=e.nil,m=e.$$$;return e.add_stubs("require,include,coerce_to?,initialize,===,format,raise,respond_to?,to_s,to_str,<=>,==,=~,new,force_encoding,casecmp,empty?,ljust,ceil,/,+,rjust,floor,coerce_to!,nil?,class,copy_singleton_methods,initialize_clone,initialize_dup,enum_for,chomp,[],to_i,length,each_line,to_proc,to_a,match,match?,captures,proc,succ,escape,include?,upcase,unicode_normalize,dup,__id__,next,intern,pristine"),Le.$require("corelib/comparable"),Le.$require("corelib/regexp"),function(_e,z,K){var C=he(_e,z,"String"),Te=[C].concat(K),ie=e.$r(Te);C.$include(m("Comparable")),e.prop(C.$$prototype,"$$is_string",!0),se(C,"$__id__",function(){var s=this;return s.toString()}),ne(C,"$try_convert",function(s){return le["$coerce_to?"](s,m("String"),"to_str")}),ne(C,"$new",function(s){var n,i,$=this;n=F(arguments),i=n;var a=i[0]||"",b=i[i.length-1];return a=o(a,m("String"),"to_str"),b&&b.$$is_hash&&b.$$smap.encoding&&(a=a.$force_encoding(b.$$smap.encoding)),a=new $.$$constructor(a),a.$initialize.$$pristine||Se(a,"initialize",ge(i)),a},-1),se(C,"$initialize",function(s,n){var i,$;return i=F(arguments),$=qe(i),$=Pe($),i.length>0&&i.shift(),$.$$smap.encoding,$.$$smap.capacity,ee},-1),se(C,"$%",function(s){var n=this;return je(m("Array"),s)?Se(n,"format",[n].concat(ge(s))):n.$format(n,s)}),se(C,"$*",function(s){var n=this;if(s=o(s,m("Integer"),"to_int"),s<0&&ye.$raise(m("ArgumentError"),"negative argument"),s===0)return"";var i="",$=n.toString();for($.length*s>=1<<28&&ye.$raise(m("RangeError"),"multiply count must not overflow maximum string size");(s&1)===1&&(i+=$),s>>>=1,s!==0;)$+=$;return i}),se(C,"$+",function(s){var n=this;if(s=o(s,m("String"),"to_str"),s==""&&n.$$class===e.String)return n;if(n==""&&s.$$class===e.String)return s;var i=n+s;return n.encoding===i.encoding&&s.encoding===i.encoding||n.encoding.name==="UTF-8"||s.encoding.name==="UTF-8"?i:e.enc(i,n.encoding)}),se(C,"$<=>",function(s){var n=this;if(Q(s["$respond_to?"]("to_str")))return s=s.$to_str().$to_s(),n>s?1:n<s?-1:0;var i=s["$<=>"](n);return i===ee?ee:i>0?-1:i<0?1:0}),se(C,"$==",function(s){var n=this;return s.$$is_string?n.toString()===s.toString():p(s,"$to_str")?s["$=="](n):!1}),se(C,"$=~",function(s){var n=this;return s.$$is_string&&ye.$raise(m("TypeError"),"type mismatch: String given"),s["$=~"](n)}),se(C,"$[]",function(s,n){var i=this,$=i.length,a,b;if(s.$$is_range)return a=s.excl,b=s,n=s.end===ee?-1:o(s.end,m("Integer"),"to_int"),s=s.begin===ee?0:o(s.begin,m("Integer"),"to_int"),Math.abs(s)>$?ee:(s<0&&(s+=$),n<0&&(n+=$),(!a||b.end===ee)&&(n+=1),n=n-s,n<0&&(n=0),i.substr(s,n));if(s.$$is_string)return n!=null&&ye.$raise(m("TypeError")),i.indexOf(s)!==-1?s:ee;if(s.$$is_regexp){var w=i.match(s);return w===null?(Ae["~"]=ee,ee):(Ae["~"]=m("MatchData").$new(s,w),n==null?w[0]:(n=o(n,m("Integer"),"to_int"),n<0&&-n<w.length?w[n+=w.length]:n>=0&&n<w.length?w[n]:ee))}return s=o(s,m("Integer"),"to_int"),s<0&&(s+=$),n==null?s>=$||s<0?ee:i.substr(s,1):(n=o(n,m("Integer"),"to_int"),n<0||s>$||s<0?ee:i.substr(s,n))},-2),se(C,"$b",function(){var s=this;return new String(s).$force_encoding("binary")}),se(C,"$capitalize",function(){var s=this;return s.charAt(0).toUpperCase()+s.substr(1).toLowerCase()}),se(C,"$casecmp",function(s){var n=this;if(!Q(s["$respond_to?"]("to_str")))return ee;s=o(s,m("String"),"to_str").$to_s();var i=/^[\x00-\x7F]*$/;return i.test(n)&&i.test(s)&&(n=n.toLowerCase(),s=s.toLowerCase()),n["$<=>"](s)}),se(C,"$casecmp?",function(s){var n=this,i=n.$casecmp(s);return i===ee?ee:i===0}),se(C,"$center",function(s,n){var i=this;if(n==null&&(n=" "),s=o(s,m("Integer"),"to_int"),n=o(n,m("String"),"to_str").$to_s(),Q(n["$empty?"]())&&ye.$raise(m("ArgumentError"),"zero width padding"),Q(s<=i.length))return i;var $=i.$ljust(We(Fe(s,i.length),2).$ceil(),n),a=i.$rjust(We(Fe(s,i.length),2).$floor(),n);return a+$.slice(i.length)},-2),se(C,"$chomp",function(s){var n=this;if(Ae["/"]==null&&(Ae["/"]=ee),s==null&&(s=Ae["/"]),Q(s===ee||n.length===0))return n;s=le["$coerce_to!"](s,m("String"),"to_str").$to_s();var i;if(s===`
`)i=n.replace(/\r?\n?$/,"");else if(s==="")i=n.replace(/(\r?\n)+$/,"");else if(n.length>=s.length){var $=n.substr(n.length-s.length,s.length);$===s&&(i=n.substr(0,n.length-s.length))}return i??n},-1),se(C,"$chop",function(){var s=this,n=s.length,i;return n<=1?i="":s.charAt(n-1)===`
`&&s.charAt(n-2)==="\r"?i=s.substr(0,n-2):i=s.substr(0,n-1),i}),se(C,"$chr",function(){var s=this;return s.charAt(0)}),se(C,"$clone",function(s){var n,i=this,$=ee;return s=Pe(s),n=s.$$smap.freeze,n==null&&(n=ee),Q(n["$nil?"]())||ze(n,!0)||ze(n,!1)||i.$raise(ie("ArgumentError"),"unexpected value for freeze: "+n.$class()),$=new String(i),$.$copy_singleton_methods(i),$.$initialize_clone(i,ce(["freeze"],{freeze:n})),ze(n,!0)?$.$$frozen||($.$$frozen=!0):Q(n["$nil?"]())&&i.$$frozen&&($.$$frozen=!0),$},-1),se(C,"$dup",function(){var s=this,n=ee;return n=new String(s),n.$initialize_dup(s),n}),se(C,"$count",function(s){var n,i,$=this;n=F(arguments),i=n,i.length===0&&ye.$raise(m("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var a=M(i);return a===null?0:$.length-$.replace(new RegExp(a,"g"),"").length},-1),se(C,"$delete",function(s){var n,i,$=this;n=F(arguments),i=n,i.length===0&&ye.$raise(m("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var a=M(i);return a===null?$:$.replace(new RegExp(a,"g"),"")},-1),se(C,"$delete_prefix",function(s){var n=this;return s.$$is_string||(s=o(s,m("String"),"to_str")),n.slice(0,s.length)===s?n.slice(s.length):n}),se(C,"$delete_suffix",function(s){var n=this;return s.$$is_string||(s=o(s,m("String"),"to_str")),n.slice(n.length-s.length)===s?n.slice(0,n.length-s.length):n}),se(C,"$downcase",function(){var s=this;return s.toLowerCase()}),se(C,"$each_line",function d(s,n){var i=d.$$p||ee,$,a,b,w,Y=this;if(Ae["/"]==null&&(Ae["/"]=ee),d.$$p=null,$=F(arguments),a=qe($),a=Pe(a),$.length>0&&(b=$.shift()),b==null&&(b=Ae["/"]),w=a.$$smap.chomp,w==null&&(w=!1),i===ee)return Y.$enum_for("each_line",b,ce(["chomp"],{chomp:w}));if(b===ee)return e.yield1(i,Y),Y;b=o(b,m("String"),"to_str");var Ce,Oe,ot,lt,gt,_t,mt,dt;if(b.length===0){for(Ce=Y.split(/((?:\r?\n){2})(?:(?:\r?\n)*)/),Oe=0,ot=Ce.length;Oe<ot;Oe+=2)(Ce[Oe]||Ce[Oe+1])&&(dt=(Ce[Oe]||"")+(Ce[Oe+1]||""),w&&(dt=dt.$chomp(`
`)),e.yield1(i,dt));return Y}for(gt=Y.$chomp(b),_t=Y.length!=gt.length,mt=gt.split(b),Oe=0,lt=mt.length;Oe<lt;Oe++)dt=mt[Oe],(Oe<lt-1||_t)&&(dt+=b),w&&(dt=dt.$chomp(b)),e.yield1(i,dt);return Y},-1),se(C,"$empty?",function(){var s=this;return s.length===0}),se(C,"$end_with?",function(s){var n,i,$=this;n=F(arguments),i=n;for(var a=0,b=i.length;a<b;a++){var w=o(i[a],m("String"),"to_str").$to_s();if($.length>=w.length&&$.substr($.length-w.length,w.length)==w)return!0}return!1},-1),se(C,"$gsub",function d(s,n){var i=d.$$p||ee,$=this;if(d.$$p=null,n===void 0&&i===ee)return $.$enum_for("gsub",s);var a="",b=ee,w=0,Y,Ce;s.$$is_regexp?s=J(s):(s=o(s,m("String"),"to_str"),s=new RegExp(s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(var Oe;;){if(Y=s.exec($),Y===null){Ae["~"]=ee,a+=$.slice(w);break}b=m("MatchData").$new(s,Y),n===void 0?(Oe=s.lastIndex,Ce=i(Y[0]),s.lastIndex=Oe):n.$$is_hash?Ce=n["$[]"](Y[0]).$to_s():(n.$$is_string||(n=o(n,m("String"),"to_str")),Ce=n.replace(/([\\]+)([0-9+&`'])/g,function(ot,lt,gt){if(lt.length%2===0)return ot;switch(gt){case"+":for(var _t=Y.length-1;_t>0;_t--)if(Y[_t]!==void 0)return lt.slice(1)+Y[_t];return"";case"&":return lt.slice(1)+Y[0];case"`":return lt.slice(1)+$.slice(0,Y.index);case"'":return lt.slice(1)+$.slice(Y.index+Y[0].length);default:return lt.slice(1)+(Y[gt]||"")}}).replace(/\\\\/g,"\\")),s.lastIndex===Y.index?(a+=$.slice(w,Y.index)+Ce+($[Y.index]||""),s.lastIndex+=1):a+=$.slice(w,Y.index)+Ce,w=s.lastIndex}return Ae["~"]=b,a},-2),se(C,"$hash",function(){var s=this;return s.toString()}),se(C,"$hex",function(){var s=this;return s.$to_i(16)}),se(C,"$include?",function(s){var n=this;return s.$$is_string||(s=o(s,m("String"),"to_str")),n.indexOf(s)!==-1}),se(C,"$index",function(s,n){var i=this,$,a,b;if(n===void 0)n=0;else if(n=o(n,m("Integer"),"to_int"),n<0&&(n+=i.length,n<0))return ee;if(s.$$is_regexp)for(b=J(s);;){if(a=b.exec(i),a===null){Ae["~"]=ee,$=-1;break}if(a.index>=n){Ae["~"]=m("MatchData").$new(b,a),$=a.index;break}b.lastIndex=a.index+1}else s=o(s,m("String"),"to_str"),s.length===0&&n>i.length?$=-1:$=i.indexOf(s,n);return $===-1?ee:$},-2),se(C,"$inspect",function(){var s=this,n=/[\\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i={"\x07":"\\a","\x1B":"\\e","\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\v":"\\v",'"':'\\"',"\\":"\\\\"},$=s.replace(n,function(a){return i[a]?i[a]:(a=a.charCodeAt(0),a<=255&&(s.encoding["$binary?"]()||s.internal_encoding["$binary?"]())?"\\x"+("00"+a.toString(16).toUpperCase()).slice(-2):"\\u"+("0000"+a.toString(16).toUpperCase()).slice(-4))});return'"'+$.replace(/\#[\$\@\{]/g,"\\$&")+'"'}),se(C,"$intern",function(){var s=this;return s.toString()}),se(C,"$length",function(){var s=this;return s.length}),be(C,"size","length"),se(C,"$lines",function d(s,n){var i=d.$$p||ee,$,a,b,w,Y=this,Ce=ee;return Ae["/"]==null&&(Ae["/"]=ee),d.$$p=null,$=F(arguments),a=qe($),a=Pe(a),$.length>0&&(b=$.shift()),b==null&&(b=Ae["/"]),w=a.$$smap.chomp,w==null&&(w=!1),Ce=Se(Y,"each_line",[b,ce(["chomp"],{chomp:w})],i.$to_proc()),Q(i)?Y:Ce.$to_a()},-1),se(C,"$ljust",function(s,n){var i=this;if(n==null&&(n=" "),s=o(s,m("Integer"),"to_int"),n=o(n,m("String"),"to_str").$to_s(),Q(n["$empty?"]())&&ye.$raise(m("ArgumentError"),"zero width padding"),Q(s<=i.length))return i;var $=-1,a="";for(s-=i.length;++$<s;)a+=n;return i+a.slice(0,s)},-2),se(C,"$lstrip",function(){var s=this;return s.replace(/^[\u0000\s]*/,"")}),se(C,"$ascii_only?",function(){var s=this;return s.encoding.ascii?/^[\x00-\x7F]*$/.test(s):!1}),se(C,"$match",function d(s,n){var i=d.$$p||ee,$=this;return d.$$p=null,(je(ie("String"),s)||Q(s["$respond_to?"]("to_str")))&&(s=m("Regexp").$new(s.$to_str())),je(m("Regexp"),s)||ye.$raise(m("TypeError"),"wrong argument type "+s.$class()+" (expected Regexp)"),Se(s,"match",[$,n],i.$to_proc())},-2),se(C,"$match?",function(s,n){var i=this;return(je(ie("String"),s)||Q(s["$respond_to?"]("to_str")))&&(s=m("Regexp").$new(s.$to_str())),je(m("Regexp"),s)||ye.$raise(m("TypeError"),"wrong argument type "+s.$class()+" (expected Regexp)"),s["$match?"](i,n)},-2),se(C,"$next",function(){var s=this,n=s.length;if(n===0)return"";for(var i=s,$=s.search(/[a-zA-Z0-9]/),a=!1,b;n--;){if(b=s.charCodeAt(n),b>=48&&b<=57||b>=65&&b<=90||b>=97&&b<=122)switch(b){case 57:a=!0,b=48;break;case 90:a=!0,b=65;break;case 122:a=!0,b=97;break;default:a=!1,b+=1}else $===-1?b===255?(a=!0,b=0):(a=!1,b+=1):a=!0;if(i=i.slice(0,n)+String.fromCharCode(b)+i.slice(n+1),a&&(n===0||n===$)){switch(b){case 65:break;case 97:break;default:b+=1}n===0?i=String.fromCharCode(b)+i:i=i.slice(0,n)+String.fromCharCode(b)+i.slice(n),a=!1}if(!a)break}return i}),se(C,"$oct",function(){var s=this,n,i=s,$=8;return/^\s*_/.test(i)?0:(i=i.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(a,b,w,Y){switch(Y.charAt(0)){case"+":case"-":return a;case"0":if(Y.charAt(1)==="x"&&w==="0x")return a}switch(w){case"0b":$=2;break;case"0":case"0o":$=8;break;case"0d":$=10;break;case"0x":$=16;break}return b+Y}),n=parseInt(i.replace(/_(?!_)/g,""),$),isNaN(n)?0:n)}),se(C,"$ord",function(){var s=this;return typeof s.codePointAt=="function"?s.codePointAt(0):s.charCodeAt(0)}),se(C,"$partition",function(s){var n=this,i,$;return s.$$is_regexp?($=s.exec(n),$===null?i=-1:(m("MatchData").$new(s,$),s=$[0],i=$.index)):(s=o(s,m("String"),"to_str"),i=n.indexOf(s)),i===-1?[n,"",""]:[n.slice(0,i),n.slice(i,i+s.length),n.slice(i+s.length)]}),se(C,"$reverse",function(){var s=this;return s.split("").reverse().join("")}),se(C,"$rindex",function(s,n){var i=this,$,a,b,w;if(n===void 0)n=i.length;else if(n=o(n,m("Integer"),"to_int"),n<0&&(n+=i.length,n<0))return ee;if(s.$$is_regexp){for(a=null,b=J(s);w=b.exec(i),!(w===null||w.index>n);)a=w,b.lastIndex=a.index+1;a===null?(Ae["~"]=ee,$=-1):(m("MatchData").$new(b,a),$=a.index)}else s=o(s,m("String"),"to_str"),$=i.lastIndexOf(s,n);return $===-1?ee:$},-2),se(C,"$rjust",function(s,n){var i=this;if(n==null&&(n=" "),s=o(s,m("Integer"),"to_int"),n=o(n,m("String"),"to_str").$to_s(),Q(n["$empty?"]())&&ye.$raise(m("ArgumentError"),"zero width padding"),Q(s<=i.length))return i;var $=Math.floor(s-i.length),a=Math.floor($/n.length),b=Array(a+1).join(n),w=$-b.length;return b+n.slice(0,w)+i},-2),se(C,"$rpartition",function(s){var n=this,i,$,a,b;if(s.$$is_regexp){for($=null,a=J(s);b=a.exec(n),b!==null;)$=b,a.lastIndex=$.index+1;$===null?i=-1:(m("MatchData").$new(a,$),s=$[0],i=$.index)}else s=o(s,m("String"),"to_str"),i=n.lastIndexOf(s);return i===-1?["","",n]:[n.slice(0,i),n.slice(i,i+s.length),n.slice(i+s.length)]}),se(C,"$rstrip",function(){var s=this;return s.replace(/[\s\u0000]*$/,"")}),se(C,"$scan",function d(s,n){var i=d.$$p||ee,$,a=this;d.$$p=null,n=Pe(n),$=n.$$smap.no_matchdata,$==null&&($=!1);var b=[],w=ee,Y;for(s.$$is_regexp?s=J(s):(s=o(s,m("String"),"to_str"),s=new RegExp(s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));(Y=s.exec(a))!=null;)w=m("MatchData").$new(s,Y,ce(["no_matchdata"],{no_matchdata:$})),i===ee?Y.length==1?b.push(Y[0]):b.push(w.$captures()):Y.length==1?e.yield1(i,Y[0]):e.yield1(i,w.$captures()),s.lastIndex===Y.index&&(s.lastIndex+=1);return $||(Ae["~"]=w),i!==ee?a:b},-2),se(C,"$singleton_class",function(){var s=this;return e.get_singleton_class(s)}),se(C,"$split",function(s,n){var i=this,$=ee;if(Ae[";"]==null&&(Ae[";"]=ee),i.length===0)return[];if(n===void 0)n=0;else if(n=le["$coerce_to!"](n,m("Integer"),"to_int"),n===1)return[i];(s===void 0||s===ee)&&(s=Q($=Ae[";"])?$:" ");var a=[],b=i.toString(),w=0,Y,Ce,Oe;if(s.$$is_regexp?s=J(s):(s=o(s,m("String"),"to_str").$to_s(),s===" "?(s=/\s+/gm,b=b.replace(/^\s+/,"")):s=new RegExp(s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm")),a=b.split(s),a.length===1&&a[0]===b)return[a[0]];for(;(Ce=a.indexOf(void 0))!==-1;)a.splice(Ce,1);if(n===0){for(;a[a.length-1]==="";)a.length-=1;return a}if(Y=s.exec(b),n<0){if(Y!==null&&Y[0]===""&&s.source.indexOf("(?=")===-1)for(Ce=0,Oe=Y.length;Ce<Oe;Ce++)a.push("");return a}if(Y!==null&&Y[0]==="")return a.splice(n-1,a.length-1,a.slice(n-1).join("")),a;if(n>=a.length)return a;for(Ce=0;Y!==null&&(Ce++,w=s.lastIndex,Ce+1!==n);)Y=s.exec(b);return a.splice(n-1,a.length-1,b.slice(w)),a},-1),se(C,"$squeeze",function(s){var n,i,$=this;if(n=F(arguments),i=n,i.length===0)return $.replace(/(.)\1+/g,"$1");var a=M(i);return a===null?$:$.replace(new RegExp("("+a+")\\1+","g"),"$1")},-1),se(C,"$start_with?",function(s){var n,i,$=this;n=F(arguments),i=n;for(var a=0,b=i.length;a<b;a++)if(i[a].$$is_regexp){var w=i[a],Y=w.exec($);if(Y!=null&&Y.index===0)return Ae["~"]=m("MatchData").$new(w,Y),!0;Ae["~"]=ee}else{var Ce=o(i[a],m("String"),"to_str").$to_s();if($.indexOf(Ce)===0)return!0}return!1},-1),se(C,"$strip",function(){var s=this;return s.replace(/^[\s\u0000]*|[\s\u0000]*$/g,"")}),se(C,"$sub",function d(s,n){var i=d.$$p||ee,$=this;d.$$p=null,s.$$is_regexp||(s=o(s,m("String"),"to_str"),s=new RegExp(s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var a,b=s.exec($);return b===null?(Ae["~"]=ee,a=$.toString()):(m("MatchData").$new(s,b),n===void 0?(i===ee&&ye.$raise(m("ArgumentError"),"wrong number of arguments (1 for 2)"),a=$.slice(0,b.index)+i(b[0])+$.slice(b.index+b[0].length)):n.$$is_hash?a=$.slice(0,b.index)+n["$[]"](b[0]).$to_s()+$.slice(b.index+b[0].length):(n=o(n,m("String"),"to_str"),n=n.replace(/([\\]+)([0-9+&`'])/g,function(w,Y,Ce){if(Y.length%2===0)return w;switch(Ce){case"+":for(var Oe=b.length-1;Oe>0;Oe--)if(b[Oe]!==void 0)return Y.slice(1)+b[Oe];return"";case"&":return Y.slice(1)+b[0];case"`":return Y.slice(1)+$.slice(0,b.index);case"'":return Y.slice(1)+$.slice(b.index+b[0].length);default:return Y.slice(1)+(b[Ce]||"")}}).replace(/\\\\/g,"\\"),a=$.slice(0,b.index)+n+$.slice(b.index+b[0].length))),a},-2),se(C,"$sum",function(s){var n=this;s==null&&(s=16),s=o(s,m("Integer"),"to_int");for(var i=0,$=n.length,a=0;a<$;a++)i+=n.charCodeAt(a);return s<=0?i:i&Math.pow(2,s)-1},-1),se(C,"$swapcase",function(){var s=this,n=s.replace(/([a-z]+)|([A-Z]+)/g,function(i,$,a){return $?i.toUpperCase():i.toLowerCase()});return n}),se(C,"$to_f",function(){var s=this;if(s.charAt(0)==="_")return 0;var n=parseFloat(s.replace(/_/g,""));return isNaN(n)||n==1/0||n==-1/0?0:n}),se(C,"$to_i",function(s){var n=this;s==null&&(s=10);var i,$=n.toLowerCase(),a=o(s,m("Integer"),"to_int");return(a===1||a<0||a>36)&&ye.$raise(m("ArgumentError"),"invalid radix "+a),/^\s*_/.test($)?0:($=$.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(b,w,Y,Ce){switch(Ce.charAt(0)){case"+":case"-":return b;case"0":if(Ce.charAt(1)==="x"&&Y==="0x"&&(a===0||a===16))return b}switch(Y){case"0b":if(a===0||a===2)return a=2,w+Ce;break;case"0":case"0o":if(a===0||a===8)return a=8,w+Ce;break;case"0d":if(a===0||a===10)return a=10,w+Ce;break;case"0x":if(a===0||a===16)return a=16,w+Ce;break}return b}),i=parseInt($.replace(/_(?!_)/g,""),a),isNaN(i)?0:i)},-1),se(C,"$to_proc",function d(){d.$$p;var s=this,n=ee,i=ee,$=ee;return d.$$p=null,n=s.valueOf(),i=e.jsid(n),$=Se(ye,"proc",[],function a(b){var w=a.$$p||ee,Y,Ce;a.$$p=null,Y=F(arguments),Ce=Y,Ce.length===0&&ye.$raise(m("ArgumentError"),"no receiver given");var Oe=Ce[0];Oe==null&&(Oe=ee);var ot=Oe[i];return ot?Ce=Ce.slice(1):(ot=Oe.$method_missing,Ce[0]=n),typeof w=="function"&&(ot.$$p=w),Ce.length===0?ot.call(Oe):ot.apply(Oe,Ce)},-1),$.$$source_location=ee,$}),se(C,"$to_s",function(){var s=this;return s.toString()}),se(C,"$tr",function(s,n){var i=this;if(s=o(s,m("String"),"to_str").$to_s(),n=o(n,m("String"),"to_str").$to_s(),s.length==0||s===n)return i;var $,a,b,w,Y,Ce,Oe,ot={},lt=s.split(""),gt=lt.length,_t=n.split(""),mt=_t.length,dt=!1,bt=null;lt[0]==="^"&&lt.length>1&&(dt=!0,lt.shift(),bt=_t[mt-1],gt-=1);var vt=[],Qe=null;for(a=!1,$=0;$<gt;$++)if(w=lt[$],Qe==null)Qe=w,vt.push(w);else if(w==="-")Qe==="-"?(vt.push("-"),vt.push("-")):$==gt-1?vt.push("-"):a=!0;else if(a){for(Y=Qe.charCodeAt(0),Ce=w.charCodeAt(0),Y>Ce&&ye.$raise(m("ArgumentError"),'invalid range "'+String.fromCharCode(Y)+"-"+String.fromCharCode(Ce)+'" in string transliteration'),b=Y+1;b<Ce;b++)vt.push(String.fromCharCode(b));vt.push(w),a=null,Qe=null}else vt.push(w);if(lt=vt,gt=lt.length,dt)for($=0;$<gt;$++)ot[lt[$]]=!0;else{if(mt>0){var pe=[],Re=null;for(a=!1,$=0;$<mt;$++)if(w=_t[$],Re==null)Re=w,pe.push(w);else if(w==="-")Re==="-"?(pe.push("-"),pe.push("-")):$==mt-1?pe.push("-"):a=!0;else if(a){for(Y=Re.charCodeAt(0),Ce=w.charCodeAt(0),Y>Ce&&ye.$raise(m("ArgumentError"),'invalid range "'+String.fromCharCode(Y)+"-"+String.fromCharCode(Ce)+'" in string transliteration'),b=Y+1;b<Ce;b++)pe.push(String.fromCharCode(b));pe.push(w),a=null,Re=null}else pe.push(w);_t=pe,mt=_t.length}var He=gt-mt;if(He>0){var _=mt>0?_t[mt-1]:"";for($=0;$<He;$++)_t.push(_)}for($=0;$<gt;$++)ot[lt[$]]=_t[$]}var k="";for($=0,Oe=i.length;$<Oe;$++){w=i.charAt($);var re=ot[w];dt?k+=re==null?bt:w:k+=re??w}return k}),se(C,"$tr_s",function(s,n){var i=this;if(s=o(s,m("String"),"to_str").$to_s(),n=o(n,m("String"),"to_str").$to_s(),s.length==0)return i;var $,a,b,w,Y,Ce,Oe,ot={},lt=s.split(""),gt=lt.length,_t=n.split(""),mt=_t.length,dt=!1,bt=null;lt[0]==="^"&&lt.length>1&&(dt=!0,lt.shift(),bt=_t[mt-1],gt-=1);var vt=[],Qe=null;for(a=!1,$=0;$<gt;$++)if(w=lt[$],Qe==null)Qe=w,vt.push(w);else if(w==="-")Qe==="-"?(vt.push("-"),vt.push("-")):$==gt-1?vt.push("-"):a=!0;else if(a){for(Y=Qe.charCodeAt(0),Ce=w.charCodeAt(0),Y>Ce&&ye.$raise(m("ArgumentError"),'invalid range "'+String.fromCharCode(Y)+"-"+String.fromCharCode(Ce)+'" in string transliteration'),b=Y+1;b<Ce;b++)vt.push(String.fromCharCode(b));vt.push(w),a=null,Qe=null}else vt.push(w);if(lt=vt,gt=lt.length,dt)for($=0;$<gt;$++)ot[lt[$]]=!0;else{if(mt>0){var pe=[],Re=null;for(a=!1,$=0;$<mt;$++)if(w=_t[$],Qe==null)Qe=w,pe.push(w);else if(w==="-")Re==="-"?(pe.push("-"),pe.push("-")):$==mt-1?pe.push("-"):a=!0;else if(a){for(Y=Qe.charCodeAt(0),Ce=w.charCodeAt(0),Y>Ce&&ye.$raise(m("ArgumentError"),'invalid range "'+String.fromCharCode(Y)+"-"+String.fromCharCode(Ce)+'" in string transliteration'),b=Y+1;b<Ce;b++)pe.push(String.fromCharCode(b));pe.push(w),a=null,Qe=null}else pe.push(w);_t=pe,mt=_t.length}var He=gt-mt;if(He>0){var _=mt>0?_t[mt-1]:"";for($=0;$<He;$++)_t.push(_)}for($=0;$<gt;$++)ot[lt[$]]=_t[$]}var k="",re=null;for($=0,Oe=i.length;$<Oe;$++){w=i.charAt($);var ke=ot[w];dt?ke==null?re==null&&(k+=bt,re=!0):(k+=w,re=null):ke!=null?(re==null||re!==ke)&&(k+=ke,re=ke):(k+=w,re=null)}return k}),se(C,"$upcase",function(){var s=this;return s.toUpperCase()}),se(C,"$upto",function d(s,n){var i=d.$$p||ee,$=this;if(d.$$p=null,n==null&&(n=!1),i===ee)return $.$enum_for("upto",s,n);var a,b,w=$.toString();if(s=o(s,m("String"),"to_str"),w.length===1&&s.length===1)for(a=w.charCodeAt(0),b=s.charCodeAt(0);a<=b&&!(n&&a===b);)i(String.fromCharCode(a)),a+=1;else if(parseInt(w,10).toString()===w&&parseInt(s,10).toString()===s)for(a=parseInt(w,10),b=parseInt(s,10);a<=b&&!(n&&a===b);)i(a.toString()),a+=1;else for(;w.length<=s.length&&w<=s&&!(n&&w===s);)i(w),w=w.$succ();return $},-2);function M(d){function s(ot){var lt="",gt,_t=ot.length,mt,dt,bt,vt,Qe;for(gt=0;gt<_t;gt++)if(mt=ot.charAt(gt),mt==="-"&&gt>0&&gt<_t-1&&!dt){for(bt=ot.charCodeAt(gt-1),vt=ot.charCodeAt(gt+1),bt>vt&&ye.$raise(m("ArgumentError"),'invalid range "'+bt+"-"+vt+'" in string transliteration'),Qe=bt+1;Qe<vt+1;Qe++)lt+=String.fromCharCode(Qe);dt=!0,gt++}else dt=mt==="\\",lt+=mt;return lt}function n(ot,lt){if(ot.length===0)return lt;var gt="",_t,mt=ot.length,dt;for(_t=0;_t<mt;_t++)dt=ot.charAt(_t),lt.indexOf(dt)!==-1&&(gt+=dt);return gt}var i,$,a,b,w,Y,Ce="",Oe="";for(i=0,$=d.length;i<$;i++)a=o(d[i],m("String"),"to_str"),b=a.charAt(0)==="^"&&a.length>1,a=s(b?a.slice(1):a),b?Oe=n(Oe,a):Ce=n(Ce,a);if(Ce.length>0&&Oe.length>0){for(Y="",i=0,$=Ce.length;i<$;i++)w=Ce.charAt(i),Oe.indexOf(w)===-1&&(Y+=w);Ce=Y,Oe=""}return Ce.length>0?"["+m("Regexp").$escape(Ce)+"]":Oe.length>0?"[^"+m("Regexp").$escape(Oe)+"]":null}return se(C,"$instance_variables",function(){return[]}),ne(C,"$_load",function(s){var n,i,$=this;return n=F(arguments),i=n,Se($,"new",ge(i))},-1),se(C,"$unicode_normalize",function(s){var n=this;return s==null&&(s="nfc"),Q(["nfc","nfd","nfkc","nfkd"]["$include?"](s))||ye.$raise(m("ArgumentError"),"Invalid normalization form "+s),n.normalize(s.$upcase())},-1),se(C,"$unicode_normalized?",function(s){var n=this;return s==null&&(s="nfc"),n.$unicode_normalize(s)["$=="](n)},-1),se(C,"$unpack",function(s){return ye.$raise("To use String#unpack, you must first require 'corelib/string/unpack'.")}),se(C,"$unpack1",function(s){return ye.$raise("To use String#unpack1, you must first require 'corelib/string/unpack'.")}),se(C,"$freeze",function(){var s=this;return typeof s=="string"||D(s,"$$frozen",!0),s}),se(C,"$-@",function(){var s=this;return typeof s=="string"||s.$$frozen?s:s.encoding.name=="UTF-8"&&s.internal_encoding.name=="UTF-8"?s.toString():s.$dup().$freeze()}),se(C,"$frozen?",function(){var s=this;return typeof s=="string"||s.$$frozen===!0}),be(C,"+@","dup"),be(C,"===","=="),be(C,"byteslice","[]"),be(C,"eql?","=="),be(C,"equal?","==="),be(C,"object_id","__id__"),be(C,"slice","[]"),be(C,"succ","next"),be(C,"to_str","to_s"),be(C,"to_sym","intern"),le.$pristine(C,"initialize")}("::",String,ae),ue(ae[0],"Symbol",xe("String"))};Opal.modules["corelib/enumerable"]=function(e){var o=e.truthy,p=e.coerce_to,J=e.yield1,D=e.yieldX,he=e.deny_frozen_access,se=e.module,le=e.send,ne=e.slice,F=e.to_a,Se=e.Opal,ge=e.thrower,qe=e.def,Pe=e.Kernel,je=e.return_val,ye=e.rb_gt,Q=e.rb_times,Ae=e.rb_lt,We=e.eqeq,Fe=e.rb_plus,ze=e.rb_minus,ce=e.rb_divide,be=e.rb_le,ue=e.hash2,Le=e.lambda,ae=e.not,xe=e.alias,ee=[],m=e.nil,_e=e.$$$;return e.add_stubs("each,public_send,destructure,to_enum,enumerator_size,new,yield,raise,slice_when,!,enum_for,flatten,map,to_proc,compact,to_a,warn,proc,==,nil?,respond_to?,coerce_to!,>,*,try_convert,<,+,-,ceil,/,size,select,__send__,length,<=,[],push,<<,[]=,===,inspect,<=>,first,reverse,sort,take,sort_by,compare,call,dup,sort!,map!,include?,-@,key?,values,transform_values,group_by,fetch,to_h,coerce_to?,class,zip,detect,find_all,collect_concat,collect,inject,entries"),function(z,K){var C=se(z,"Enumerable"),Te=[C].concat(K),ie=e.$r(Te);function M(d){return d.length===0&&(d=[m]),d.length>1&&(d=[d]),d}return qe(C,"$all?",function d(s){try{var n=ge("return"),i=d.$$p||m,$=this;return d.$$p=null,o(s!==void 0)?le($,"each",[],function(b){var w,Y,Ce=m;if(w=ne(arguments),Y=w,Ce=M(Y),o(le(s,"public_send",["==="].concat(F(Ce)))))return m;n.$throw(!1)},{$$arity:-1,$$ret:n}):i!==m?le($,"each",[],function(b){var w,Y;if(w=ne(arguments),Y=w,o(e.yieldX(i,F(Y))))return m;n.$throw(!1)},{$$arity:-1,$$ret:n}):le($,"each",[],function(b){var w,Y;if(w=ne(arguments),Y=w,o(Se.$destructure(Y)))return m;n.$throw(!1)},{$$arity:-1,$$ret:n}),!0}catch(a){if(a===n)return a.$v;throw a}},-1),qe(C,"$any?",function d(s){try{var n=ge("return"),i=d.$$p||m,$=this;return d.$$p=null,o(s!==void 0)?le($,"each",[],function(b){var w,Y,Ce=m;if(w=ne(arguments),Y=w,Ce=M(Y),o(le(s,"public_send",["==="].concat(F(Ce)))))n.$throw(!0);else return m},{$$arity:-1,$$ret:n}):i!==m?le($,"each",[],function(b){var w,Y;if(w=ne(arguments),Y=w,o(e.yieldX(i,F(Y))))n.$throw(!0);else return m},{$$arity:-1,$$ret:n}):le($,"each",[],function(b){var w,Y;if(w=ne(arguments),Y=w,o(Se.$destructure(Y)))n.$throw(!0);else return m},{$$arity:-1,$$ret:n}),!1}catch(a){if(a===n)return a.$v;throw a}},-1),qe(C,"$chunk",function d(){var s=d.$$p||m,n=this;return d.$$p=null,s===m?le(n,"to_enum",["chunk"],function i(){var $=i.$$s==null?this:i.$$s;return $.$enumerator_size()},{$$s:n}):le(_e("Enumerator"),"new",[],function i($){var a=i.$$s==null?this:i.$$s;$==null&&($=m);var b=m,w=[];function Y(){w.length>0&&$.$yield(b,w)}a.$each.$$p=function(Ce){var Oe=J(s,Ce);Oe===m?(Y(),w=[],b=m):(b===m||b===Oe?w.push(Ce):(Y(),w=[Ce]),b=Oe)},a.$each(),Y()},{$$s:n})}),qe(C,"$chunk_while",function d(){var s=d.$$p||m,n=this;return d.$$p=null,s===m&&Pe.$raise(_e("ArgumentError"),"no block given"),le(n,"slice_when",[],function($,a){return $==null&&($=m),a==null&&(a=m),e.yieldX(s,[$,a])["$!"]()})}),qe(C,"$collect",function d(){var s=d.$$p||m,n=this;if(d.$$p=null,s===m)return le(n,"enum_for",["collect"],function $(){var a=$.$$s==null?this:$.$$s;return a.$enumerator_size()},{$$s:n});var i=[];return n.$each.$$p=function(){var $=D(s,arguments);i.push($)},n.$each(),i}),qe(C,"$collect_concat",function d(){var s=d.$$p||m,n=this;return d.$$p=null,s===m?le(n,"enum_for",["collect_concat"],function i(){var $=i.$$s==null?this:i.$$s;return $.$enumerator_size()},{$$s:n}):le(n,"map",[],s.$to_proc()).$flatten(1)}),qe(C,"$compact",function(){var s=this;return s.$to_a().$compact()}),qe(C,"$count",function d(s){var n=d.$$p||m,i=this,$=m;return d.$$p=null,$=0,s!=null&&n!==m&&i.$warn("warning: given block not used"),o(s!=null)?n=le(Pe,"proc",[],function(b){var w,Y;return w=ne(arguments),Y=w,Se.$destructure(Y)["$=="](s)},-1):o(n["$nil?"]())&&(n=le(Pe,"proc",[],je(!0))),le(i,"each",[],function(b){var w,Y;return w=ne(arguments),Y=w,o(D(n,Y))?$++:m},-1),$},-1),qe(C,"$cycle",function d(s){var n=d.$$p||m,i=this;if(d.$$p=null,s==null&&(s=m),n===m)return le(i,"enum_for",["cycle",s],function w(){var Y=w.$$s==null?this:w.$$s;return o(s["$nil?"]())?o(Y["$respond_to?"]("size"))?_e(_e("Float"),"INFINITY"):m:(s=Se["$coerce_to!"](s,_e("Integer"),"to_int"),o(ye(s,0))?Q(Y.$enumerator_size(),s):0)},{$$s:i});if(!o(s["$nil?"]())&&(s=Se["$coerce_to!"](s,_e("Integer"),"to_int"),o(s<=0)))return m;var $=[],a,b;if(i.$each.$$p=function(){var w=Se.$destructure(arguments);J(n,w),$.push(w)},i.$each(),$.length===0)return m;if(s===m)for(;;)for(a=0,b=$.length;a<b;a++)J(n,$[a]);else for(;s>1;){for(a=0,b=$.length;a<b;a++)J(n,$[a]);s--}},-1),qe(C,"$detect",function d(s){try{var n=ge("return"),i=d.$$p||m,$=this;return d.$$p=null,i===m?$.$enum_for("detect",s):(le($,"each",[],function(b){var w,Y,Ce=m;if(w=ne(arguments),Y=w,Ce=Se.$destructure(Y),o(e.yield1(i,Ce)))n.$throw(Ce);else return m},{$$arity:-1,$$ret:n}),s!==void 0?typeof s=="function"?s():s:m)}catch(a){if(a===n)return a.$v;throw a}},-1),qe(C,"$drop",function(s){var n=this;s=p(s,_e("Integer"),"to_int"),o(s<0)&&Pe.$raise(_e("ArgumentError"),"attempt to drop negative size");var i=[],$=0;return n.$each.$$p=function(){s<=$&&i.push(Se.$destructure(arguments)),$++},n.$each(),i}),qe(C,"$drop_while",function d(){var s=d.$$p||m,n=this;if(d.$$p=null,s===m)return n.$enum_for("drop_while");var i=[],$=!0;return n.$each.$$p=function(){var a=Se.$destructure(arguments);if($){var b=J(s,a);o(b)||($=!1,i.push(a))}else i.push(a)},n.$each(),i}),qe(C,"$each_cons",function d(s){var n=d.$$p||m,i=this;if(d.$$p=null,o(arguments.length!=1)&&Pe.$raise(_e("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)"),s=Se.$try_convert(s,_e("Integer"),"to_int"),o(s<=0)&&Pe.$raise(_e("ArgumentError"),"invalid size"),n===m)return le(i,"enum_for",["each_cons",s],function a(){var b=a.$$s==null?this:a.$$s,w=m;return w=b.$enumerator_size(),o(w["$nil?"]())?m:We(w,0)||o(Ae(w,s))?0:Fe(ze(w,s),1)},{$$s:i});var $=[];return i.$each.$$p=function(){var a=Se.$destructure(arguments);$.push(a),$.length>s&&$.shift(),$.length==s&&J(n,$.slice(0,s))},i.$each(),i}),qe(C,"$each_entry",function d(s){var n=d.$$p||m,i,$,a=this;return d.$$p=null,i=ne(arguments),$=i,n===m?le(a,"to_enum",["each_entry"].concat(F($)),function b(){var w=b.$$s==null?this:b.$$s;return w.$enumerator_size()},{$$s:a}):(a.$each.$$p=function(){var b=Se.$destructure(arguments);J(n,b)},a.$each.apply(a,$),a)},-1),qe(C,"$each_slice",function d(s){var n=d.$$p||m,i=this;if(d.$$p=null,s=p(s,_e("Integer"),"to_int"),o(s<=0)&&Pe.$raise(_e("ArgumentError"),"invalid slice size"),n===m)return le(i,"enum_for",["each_slice",s],function a(){var b=a.$$s==null?this:a.$$s;return o(b["$respond_to?"]("size"))?ce(b.$size(),s).$ceil():m},{$$s:i});var $=[];return i.$each.$$p=function(){var a=Se.$destructure(arguments);$.push(a),$.length===s&&(J(n,$),$=[])},i.$each(),$.length>0&&J(n,$),i}),qe(C,"$each_with_index",function d(s){var n=d.$$p||m,i,$,a=this;if(d.$$p=null,i=ne(arguments),$=i,n===m)return le(a,"enum_for",["each_with_index"].concat(F($)),function w(){var Y=w.$$s==null?this:w.$$s;return Y.$enumerator_size()},{$$s:a});var b=0;return a.$each.$$p=function(){var w=Se.$destructure(arguments);n(w,b),b++},a.$each.apply(a,$),a},-1),qe(C,"$each_with_object",function d(s){var n=d.$$p||m,i=this;return d.$$p=null,n===m?le(i,"enum_for",["each_with_object",s],function $(){var a=$.$$s==null?this:$.$$s;return a.$enumerator_size()},{$$s:i}):(i.$each.$$p=function(){var $=Se.$destructure(arguments);n($,s)},i.$each(),s)}),qe(C,"$entries",function(s){var n,i,$=this;n=ne(arguments),i=n;var a=[];return $.$each.$$p=function(){a.push(Se.$destructure(arguments))},$.$each.apply($,i),a},-1),qe(C,"$filter_map",function d(){var s=d.$$p||m,n=this;return d.$$p=null,s===m?le(n,"enum_for",["filter_map"],function i(){var $=i.$$s==null?this:i.$$s;return $.$enumerator_size()},{$$s:n}):le(le(n,"map",[],s.$to_proc()),"select",[],"itself".$to_proc())}),qe(C,"$find_all",function d(){var s=d.$$p||m,n=this;if(d.$$p=null,s===m)return le(n,"enum_for",["find_all"],function $(){var a=$.$$s==null?this:$.$$s;return a.$enumerator_size()},{$$s:n});var i=[];return n.$each.$$p=function(){var $=Se.$destructure(arguments),a=J(s,$);o(a)&&i.push($)},n.$each(),i}),qe(C,"$find_index",function d(s){try{var n=ge("return"),i=d.$$p||m,$=this,a=m;return d.$$p=null,o(s===void 0&&i===m)?$.$enum_for("find_index"):(s!=null&&i!==m&&$.$warn("warning: given block not used"),a=0,o(s!=null)?le($,"each",[],function(w){var Y,Ce;return Y=ne(arguments),Ce=Y,We(Se.$destructure(Ce),s)&&n.$throw(a),a+=1},{$$arity:-1,$$ret:n}):le($,"each",[],function(w){var Y,Ce;return Y=ne(arguments),Ce=Y,o(e.yieldX(i,F(Ce)))&&n.$throw(a),a+=1},{$$arity:-1,$$ret:n}),m)}catch(b){if(b===n)return b.$v;throw b}},-1),qe(C,"$first",function(s){try{var n=ge("return"),i=this,$=m,a=m;return o(s===void 0)?le(i,"each",[],function(w){w==null&&(w=m),n.$throw(w)},{$$ret:n}):($=[],s=p(s,_e("Integer"),"to_int"),o(s<0)&&Pe.$raise(_e("ArgumentError"),"attempt to take negative size"),o(s==0)?[]:(a=0,le(i,"each",[],function(w){var Y,Ce;if(Y=ne(arguments),Ce=Y,$.push(Se.$destructure(Ce)),o(s<=++a))n.$throw($);else return m},{$$arity:-1,$$ret:n}),$))}catch(b){if(b===n)return b.$v;throw b}},-1),qe(C,"$grep",function d(s){var n=d.$$p||m,i=this,$=m;return d.$$p=null,$=[],le(i,"each",[],function(b){var w,Y,Ce=m;return w=ne(arguments),Y=w,Ce=M(Y),o(le(s,"__send__",["==="].concat(F(Ce))))?(n!==m?(o(ye(Y.$length(),1))&&(Y=[Y]),Y=e.yieldX(n,F(Y))):o(be(Y.$length(),1))&&(Y=Y["$[]"](0)),$.$push(Y)):m},-1),$}),qe(C,"$grep_v",function d(s){var n=d.$$p||m,i=this,$=m;return d.$$p=null,$=[],le(i,"each",[],function(b){var w,Y,Ce=m;return w=ne(arguments),Y=w,Ce=M(Y),o(le(s,"__send__",["==="].concat(F(Ce))))?m:(n!==m?(o(ye(Y.$length(),1))&&(Y=[Y]),Y=e.yieldX(n,F(Y))):o(be(Y.$length(),1))&&(Y=Y["$[]"](0)),$.$push(Y))},-1),$}),qe(C,"$group_by",function d(){var s=d.$$p||m,n,i=this,$=m,a=m;return d.$$p=null,s===m?le(i,"enum_for",["group_by"],function b(){var w=b.$$s==null?this:b.$$s;return w.$enumerator_size()},{$$s:i}):($=ue([],{}),i.$each.$$p=function(){var b=Se.$destructure(arguments),w=J(s,b);(o(a=$["$[]"](w))?a:(n=[w,[]],le($,"[]=",n),n[n.length-1]))["$<<"](b)},i.$each(),$)}),qe(C,"$include?",function(s){try{var n=ge("return"),i=this;return le(i,"each",[],function(a){var b,w;if(b=ne(arguments),w=b,We(Se.$destructure(w),s))n.$throw(!0);else return m},{$$arity:-1,$$ret:n}),!1}catch($){if($===n)return $.$v;throw $}}),qe(C,"$inject",function d(s,n){var i=d.$$p||m,$=this;d.$$p=null;var a=s;return i!==m&&n===void 0?$.$each.$$p=function(){var b=Se.$destructure(arguments);if(a===void 0){a=b;return}b=D(i,[a,b]),a=b}:(n===void 0&&(_e("Symbol")["$==="](s)||Pe.$raise(_e("TypeError"),""+s.$inspect()+" is not a Symbol"),n=s,a=void 0),$.$each.$$p=function(){var b=Se.$destructure(arguments);if(a===void 0){a=b;return}a=a.$__send__(n,b)}),$.$each(),a??m},-1),qe(C,"$lazy",function(){var s=this;return le(_e(_e("Enumerator"),"Lazy"),"new",[s,s.$enumerator_size()],function(i,$){var a,b;return i==null&&(i=m),a=ne(arguments,1),b=a,le(i,"yield",F(b))},-2)}),qe(C,"$enumerator_size",function(){var s=this;return o(s["$respond_to?"]("size"))?s.$size():m}),qe(C,"$max",function d(s){var n=d.$$p||m,i=this;if(d.$$p=null,s===void 0||s===m){var $,a;return i.$each.$$p=function(){var b=Se.$destructure(arguments);if($===void 0){$=b;return}n!==m?a=D(n,[b,$]):a=b["$<=>"]($),a===m&&Pe.$raise(_e("ArgumentError"),"comparison failed"),a>0&&($=b)},i.$each(),$===void 0?m:$}return s=p(s,_e("Integer"),"to_int"),le(i,"sort",[],n.$to_proc()).$reverse().$first(s)},-1),qe(C,"$max_by",function d(s){var n=d.$$p||m,i=this;if(d.$$p=null,s==null&&(s=m),!o(n))return le(i,"enum_for",["max_by",s],function b(){var w=b.$$s==null?this:b.$$s;return w.$enumerator_size()},{$$s:i});if(!o(s["$nil?"]()))return le(i,"sort_by",[],n.$to_proc()).$reverse().$take(s);var $,a;return i.$each.$$p=function(){var b=Se.$destructure(arguments),w=J(n,b);if($===void 0){$=b,a=w;return}w["$<=>"](a)>0&&($=b,a=w)},i.$each(),$===void 0?m:$},-1),qe(C,"$min",function d(s){var n=d.$$p||m,i=this;if(d.$$p=null,s==null&&(s=m),!o(s["$nil?"]()))return n!==m?le(i,"sort",[],function(b,w){return b==null&&(b=m),w==null&&(w=m),e.yieldX(n,[b,w])}).$take(s):i.$sort().$take(s);var $;return n!==m?i.$each.$$p=function(){var a=Se.$destructure(arguments);if($===void 0){$=a;return}var b=n(a,$);b===m&&Pe.$raise(_e("ArgumentError"),"comparison failed"),b<0&&($=a)}:i.$each.$$p=function(){var a=Se.$destructure(arguments);if($===void 0){$=a;return}Se.$compare(a,$)<0&&($=a)},i.$each(),$===void 0?m:$},-1),qe(C,"$min_by",function d(s){var n=d.$$p||m,i=this;if(d.$$p=null,s==null&&(s=m),!o(n))return le(i,"enum_for",["min_by",s],function b(){var w=b.$$s==null?this:b.$$s;return w.$enumerator_size()},{$$s:i});if(!o(s["$nil?"]()))return le(i,"sort_by",[],n.$to_proc()).$take(s);var $,a;return i.$each.$$p=function(){var b=Se.$destructure(arguments),w=J(n,b);if($===void 0){$=b,a=w;return}w["$<=>"](a)<0&&($=b,a=w)},i.$each(),$===void 0?m:$},-1),qe(C,"$minmax",function d(){var s=d.$$p||m,n=this,i=m;d.$$p=null,s=o(i=s)?i:le(Pe,"proc",[],function(Y,Ce){return Y==null&&(Y=m),Ce==null&&(Ce=m),Y["$<=>"](Ce)});var $=m,a=m,b=!0;return n.$each.$$p=function(){var w=Se.$destructure(arguments);if(b)$=a=w,b=!1;else{var Y=s.$call($,w);Y===m?Pe.$raise(_e("ArgumentError"),"comparison failed"):Y>0&&($=w);var Ce=s.$call(a,w);Ce===m?Pe.$raise(_e("ArgumentError"),"comparison failed"):Ce<0&&(a=w)}},n.$each(),[$,a]}),qe(C,"$minmax_by",function d(){var s=d.$$p||m,n=this;if(d.$$p=null,!o(s))return le(n,"enum_for",["minmax_by"],function w(){var Y=w.$$s==null?this:w.$$s;return Y.$enumerator_size()},{$$s:n});var i=m,$=m,a,b;return n.$each.$$p=function(){var w=Se.$destructure(arguments),Y=J(s,w);(a===void 0||Y["$<=>"](a)<0)&&(i=w,a=Y),(b===void 0||Y["$<=>"](b)>0)&&($=w,b=Y)},n.$each(),[i,$]}),qe(C,"$none?",function d(s){try{var n=ge("return"),i=d.$$p||m,$=this;return d.$$p=null,o(s!==void 0)?le($,"each",[],function(b){var w,Y,Ce=m;if(w=ne(arguments),Y=w,Ce=M(Y),o(le(s,"public_send",["==="].concat(F(Ce)))))n.$throw(!1);else return m},{$$arity:-1,$$ret:n}):i!==m?le($,"each",[],function(b){var w,Y;if(w=ne(arguments),Y=w,o(e.yieldX(i,F(Y))))n.$throw(!1);else return m},{$$arity:-1,$$ret:n}):le($,"each",[],function(b){var w,Y,Ce=m;if(w=ne(arguments),Y=w,Ce=Se.$destructure(Y),o(Ce))n.$throw(!1);else return m},{$$arity:-1,$$ret:n}),!0}catch(a){if(a===n)return a.$v;throw a}},-1),qe(C,"$one?",function d(s){try{var n=ge("return"),i=d.$$p||m,$=this,a=m;return d.$$p=null,a=0,o(s!==void 0)?le($,"each",[],function(w){var Y,Ce,Oe=m;if(Y=ne(arguments),Ce=Y,Oe=M(Ce),o(le(s,"public_send",["==="].concat(F(Oe)))))if(a=Fe(a,1),o(ye(a,1)))n.$throw(!1);else return m;else return m},{$$arity:-1,$$ret:n}):i!==m?le($,"each",[],function(w){var Y,Ce;if(Y=ne(arguments),Ce=Y,!o(e.yieldX(i,F(Ce))))return m;if(a=Fe(a,1),o(ye(a,1)))n.$throw(!1);else return m},{$$arity:-1,$$ret:n}):le($,"each",[],function(w){var Y,Ce;if(Y=ne(arguments),Ce=Y,!o(Se.$destructure(Ce)))return m;if(a=Fe(a,1),o(ye(a,1)))n.$throw(!1);else return m},{$$arity:-1,$$ret:n}),a["$=="](1)}catch(b){if(b===n)return b.$v;throw b}},-1),qe(C,"$partition",function d(){var s=d.$$p||m,n=this;if(d.$$p=null,s===m)return le(n,"enum_for",["partition"],function a(){var b=a.$$s==null?this:a.$$s;return b.$enumerator_size()},{$$s:n});var i=[],$=[];return n.$each.$$p=function(){var a=Se.$destructure(arguments),b=J(s,a);o(b)?i.push(a):$.push(a)},n.$each(),[i,$]}),qe(C,"$reject",function d(){var s=d.$$p||m,n=this;if(d.$$p=null,s===m)return le(n,"enum_for",["reject"],function $(){var a=$.$$s==null?this:$.$$s;return a.$enumerator_size()},{$$s:n});var i=[];return n.$each.$$p=function(){var $=Se.$destructure(arguments),a=J(s,$);o(a)||i.push($)},n.$each(),i}),qe(C,"$reverse_each",function d(){var s=d.$$p||m,n=this;if(d.$$p=null,s===m)return le(n,"enum_for",["reverse_each"],function a(){var b=a.$$s==null?this:a.$$s;return b.$enumerator_size()},{$$s:n});var i=[];n.$each.$$p=function(){i.push(arguments)},n.$each();for(var $=i.length-1;$>=0;$--)D(s,i[$]);return i}),qe(C,"$slice_before",function d(s){var n=d.$$p||m,i=this;return d.$$p=null,o(s===void 0&&n===m)&&Pe.$raise(_e("ArgumentError"),"both pattern and block are given"),o(s!==void 0&&n!==m||arguments.length>1)&&Pe.$raise(_e("ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),le(_e("Enumerator"),"new",[],function $(a){var b=$.$$s==null?this:$.$$s;a==null&&(a=m);var w=[];n!==m?s===void 0?b.$each.$$p=function(){var Y=Se.$destructure(arguments),Ce=J(n,Y);o(Ce)&&w.length>0&&(a["$<<"](w),w=[]),w.push(Y)}:b.$each.$$p=function(){var Y=Se.$destructure(arguments),Ce=n(Y,s.$dup());o(Ce)&&w.length>0&&(a["$<<"](w),w=[]),w.push(Y)}:b.$each.$$p=function(){var Y=Se.$destructure(arguments),Ce=s["$==="](Y);o(Ce)&&w.length>0&&(a["$<<"](w),w=[]),w.push(Y)},b.$each(),w.length>0&&a["$<<"](w)},{$$s:i})},-1),qe(C,"$slice_after",function d(s){var n=d.$$p||m,i=this;return d.$$p=null,o(s===void 0&&n===m)&&Pe.$raise(_e("ArgumentError"),"both pattern and block are given"),o(s!==void 0&&n!==m||arguments.length>1)&&Pe.$raise(_e("ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),o(s!==void 0)&&(n=le(Pe,"proc",[],function(a){return a==null&&(a=m),s["$==="](a)})),le(_e("Enumerator"),"new",[],function $(a){var b=$.$$s==null?this:$.$$s;a==null&&(a=m);var w;b.$each.$$p=function(){var Y=Se.$destructure(arguments),Ce=J(n,Y);w==null&&(w=[]),o(Ce)?(w.push(Y),a.$yield(w),w=null):w.push(Y)},b.$each(),w!=null&&a.$yield(w)},{$$s:i})},-1),qe(C,"$slice_when",function d(){var s=d.$$p||m,n=this;return d.$$p=null,s===m&&Pe.$raise(_e("ArgumentError"),"wrong number of arguments (0 for 1)"),le(_e("Enumerator"),"new",[],function i($){var a=i.$$s==null?this:i.$$s;$==null&&($=m);var b=m,w=m;a.$each_cons.$$p=function(){var Y=Se.$destructure(arguments),Ce=Y[0],Oe=Y[1],ot=D(s,[Ce,Oe]);w=Oe,b===m&&(b=[]),o(ot)?(b.push(Ce),$.$yield(b),b=[]):b.push(Ce)},a.$each_cons(2),b!==m&&(b.push(w),$.$yield(b))},{$$s:n})}),qe(C,"$sort",function d(){var s=d.$$p||m,n=this,i=m;return d.$$p=null,i=n.$to_a(),s===m&&(s=Le(function(a,b){return a==null&&(a=m),b==null&&(b=m),a["$<=>"](b)})),le(i,"sort",[],s.$to_proc())}),qe(C,"$sort_by",function d(){var s=d.$$p||m,n=this,i=m;return d.$$p=null,s===m?le(n,"enum_for",["sort_by"],function $(){var a=$.$$s==null?this:$.$$s;return a.$enumerator_size()},{$$s:n}):(i=le(n,"map",[],function(){var a=m;return a=Se.$destructure(arguments),[e.yield1(s,a),a]}),le(i,"sort!",[],function(a,b){return a==null&&(a=m),b==null&&(b=m),a[0]["$<=>"](b[0])}),le(i,"map!",[],function(a){return a==null&&(a=m),a[1]}))}),qe(C,"$sum",function d(s){var n=d.$$p||m,i=this,$=m,a=m;return d.$$p=null,s==null&&(s=0),$=s,a=0,le(i,"each",[],function(w){var Y,Ce,Oe=m,ot=m,lt=m;return Y=ne(arguments),Ce=Y,Oe=n!==m?e.yieldX(n,F(Ce)):Se.$destructure(Ce),ae([_e(_e("Float"),"INFINITY"),_e(_e("Float"),"INFINITY")["$-@"]()]["$include?"](Oe))&&o(Oe["$respond_to?"]("-"))?(ot=ze(Oe,a),lt=Fe($,ot),a=ze(ze(lt,$),ot),$=lt):$=Fe($,Oe)},-1),$},-1),qe(C,"$take",function(s){var n=this;return n.$first(s)}),qe(C,"$take_while",function d(){try{var s=ge("return"),n=d.$$p||m,i=this,$=m;return d.$$p=null,o(n)?($=[],le(i,"each",[],function(b){var w,Y,Ce=m;return w=ne(arguments),Y=w,Ce=Se.$destructure(Y),o(e.yield1(n,Ce))||s.$throw($),$.push(Ce)},{$$arity:-1,$$ret:s})):i.$enum_for("take_while")}catch(a){if(a===s)return a.$v;throw a}}),qe(C,"$uniq",function d(){var s=d.$$p||m,n=this,i=m;return d.$$p=null,i=ue([],{}),le(n,"each",[],function(a){var b,w,Y,Ce=m,Oe=m;return b=ne(arguments),w=b,Ce=Se.$destructure(w),Oe=s!==m?e.yield1(s,Ce):Ce,o(i["$key?"](Oe))?m:(Y=[Oe,Ce],le(i,"[]=",Y),Y[Y.length-1])},-1),i.$values()}),qe(C,"$tally",function(s){var n=this,i=m;return s&&s!==m&&he(s),i=le(le(n,"group_by",[],"itself".$to_proc()),"transform_values",[],"count".$to_proc()),o(s)?(le(i,"each",[],function(a,b){var w;return a==null&&(a=m),b==null&&(b=m),w=[a,Fe(s.$fetch(a,0),b)],le(s,"[]=",w),w[w.length-1]}),s):i},-1),qe(C,"$to_h",function d(s){var n=d.$$p||m,i,$,a=this;if(d.$$p=null,i=ne(arguments),$=i,n!==m)return le(le(a,"map",[],n.$to_proc()),"to_h",F($));var b=ue([],{});return a.$each.$$p=function(){var w=Se.$destructure(arguments),Y=Se["$coerce_to?"](w,_e("Array"),"to_ary"),Ce,Oe;Y.$$is_array||Pe.$raise(_e("TypeError"),"wrong element type "+Y.$class()+" (expected array)"),Y.length!==2&&Pe.$raise(_e("ArgumentError"),"wrong array length (expected 2, was "+Y.$length()+")"),Ce=Y[0],Oe=Y[1],e.hash_put(b,Ce,Oe)},a.$each.apply(a,$),b},-1),qe(C,"$to_set",function d(s,n){var i=d.$$p||m,$,a,b,w=this;return d.$$p=null,$=ne(arguments),$.length>0&&(a=$.shift()),a==null&&(a=ie("Set")),b=$,le(a,"new",[w].concat(F(b)),i.$to_proc())},-1),qe(C,"$zip",function d(s){d.$$p;var n,i,$=this;return d.$$p=null,n=ne(arguments),i=n,le($.$to_a(),"zip",F(i))},-1),xe(C,"find","detect"),xe(C,"filter","find_all"),xe(C,"flat_map","collect_concat"),xe(C,"map","collect"),xe(C,"member?","include?"),xe(C,"reduce","inject"),xe(C,"select","find_all"),xe(C,"to_a","entries")}("::",ee)};Opal.modules["corelib/enumerator/arithmetic_sequence"]=function(e){var o=e.klass,p=e.truthy,J=e.to_a,D=e.eqeq,he=e.Kernel,se=e.def,le=e.rb_gt,ne=e.rb_lt,F=e.rb_le,Se=e.rb_ge,ge=e.rb_plus,qe=e.rb_minus,Pe=e.eqeqeq,je=e.not,ye=e.rb_times,Q=e.rb_divide,Ae=e.alias,We=[],Fe=e.nil,ze=e.$$$;return e.add_stubs("is_a?,==,raise,respond_to?,class,attr_reader,begin,end,exclude_end?,>,step,<,<=,>=,-@,_lesser_than_end?,<<,+,-,===,%,_greater_than_begin?,reverse,!,include?,*,to_i,abs,/,hash,inspect"),function(ce,be,ue){var Le=o(ce,be,"Enumerator"),ae=[Le].concat(ue);return function(xe,ee,m){var _e=o(xe,ee,"ArithmeticSequence"),z=[_e].concat(m),K=e.$r(z),C=_e.$$prototype;C.step_arg2=C.receiver_num=C.step_arg1=C.step=C.range=C.topfx=C.bypfx=C.creation_method=C.skipped_arg=Fe,e.prop(_e.$$prototype,"$$is_arithmetic_seq",!0);var Te=1/0;return se(_e,"$initialize",function(M,d,s){var n,i=this,$=Fe;return s==null&&(s="step"),i.creation_method=s,p(M["$is_a?"](ze("Array")))?(n=[].concat(J(M)),i.step_arg1=n[0]==null?Fe:n[0],i.step_arg2=n[1]==null?Fe:n[1],i.topfx=n[2]==null?Fe:n[2],i.bypfx=n[3]==null?Fe:n[3],i.receiver_num=d,i.step=1,i.range=p(i.step_arg2)?(i.step=i.step_arg2,e.Range.$new(i.receiver_num,i.step_arg1,!1)):p(i.step_arg1)?e.Range.$new(i.receiver_num,i.step_arg1,!1):e.Range.$new(i.receiver_num,Fe,!1)):(p(d)||(i.skipped_arg=!0),n=[M,p($=d)?$:1],i.range=n[0],i.step=n[1]),i.object=i,D(i.step,0)&&he.$raise(K("ArgumentError"),"step can't be 0"),p(i.step["$respond_to?"]("to_int"))?Fe:he.$raise(K("ArgumentError"),"no implicit conversion of "+i.step.$class()+" into Integer")},-2),_e.$attr_reader("step"),se(_e,"$begin",function(){var M=this;return M.range.$begin()}),se(_e,"$end",function(){var M=this;return M.range.$end()}),se(_e,"$exclude_end?",function(){var M=this;return M.range["$exclude_end?"]()}),se(_e,"$_lesser_than_end?",function(M){var d=this,s=Fe,n=Fe;return s=p(n=d.$end())?n:Te,p(le(d.$step(),0))?p(d["$exclude_end?"]())?ne(M,s):F(M,s):p(d["$exclude_end?"]())?le(M,s):Se(M,s)}),se(_e,"$_greater_than_begin?",function(M){var d=this,s=Fe,n=Fe;return s=p(n=d.$begin())?n:Te["$-@"](),p(le(d.$step(),0))?le(M,s):ne(M,s)}),se(_e,"$first",function(M){var d=this,s=Fe,n=Fe,i=Fe;if(s=p(n=d.$begin())?n:Te["$-@"](),!p(M))return p(d["$_lesser_than_end?"](s))?s:Fe;for(i=[];p(p(n=d["$_lesser_than_end?"](s))?le(M,0):n);)i["$<<"](s),s=ge(s,d.$step()),M=qe(M,1);return i},-1),se(_e,"$each",function ie(){var M=ie.$$p||Fe,d=this,s=Fe,n=Fe;if(ie.$$p=null,M===Fe)return d;for(Pe(Fe,s=d.$begin())&&he.$raise(K("TypeError"),"nil can't be coerced into Integer"),n=p(s=d.$begin())?s:Te["$-@"]();p(d["$_lesser_than_end?"](n));)e.yield1(M,n),n=ge(n,d.$step());return d}),se(_e,"$last",function(M){var d=this,s=Fe,n=Fe,i=Fe;if(Pe(Te,s=d.$end())||Pe(Te["$-@"](),s)?he.$raise(ze("FloatDomainError"),d.$end()):Pe(Fe,s)&&he.$raise(ze("RangeError"),"cannot get the last element of endless arithmetic sequence"),n=qe(d.$end(),qe(d.$end(),d.$begin())["$%"](d.$step())),p(d["$_lesser_than_end?"](n))||(n=qe(n,d.$step())),!p(M))return p(d["$_greater_than_begin?"](n))?n:Fe;for(i=[];p(p(s=d["$_greater_than_begin?"](n))?le(M,0):s);)i["$<<"](n),n=qe(n,d.$step()),M=qe(M,1);return i.$reverse()},-1),se(_e,"$size",function(){var M=this,d=Fe,s=Fe;return d=p(le(M.$step(),0))?1:-1,je(M["$_lesser_than_end?"](M.$begin()))?0:p([Te["$-@"](),Te]["$include?"](M.$step()))?1:p([ye(Te["$-@"](),d),Fe]["$include?"](M.$begin()))||p([ye(Te,d),Fe]["$include?"](M.$end()))?Te:(s=qe(M.$end(),qe(M.$end(),M.$begin())["$%"](M.$step())),p(M["$_lesser_than_end?"](s))||(s=qe(s,M.$step())),ge(Q(qe(s,M.$begin()),M.$step()).$abs().$to_i(),1))}),se(_e,"$==",function(M){var d=this,s=Fe,n=Fe,i=Fe,$=Fe;return p(s=p(n=p(i=p($=d.$class()["$=="](M.$class()))?d.$begin()["$=="](M.$begin()):$)?d.$end()["$=="](M.$end()):i)?d.$step()["$=="](M.$step()):n)?d["$exclude_end?"]()["$=="](M["$exclude_end?"]()):s}),se(_e,"$hash",function(){var M=this;return[M.$begin(),M.$end(),M.$step(),M["$exclude_end?"]()].$hash()}),se(_e,"$inspect",function(){var M=this,d=Fe;return p(M.receiver_num)?(d=p(M.step_arg2)?"("+M.topfx+M.step_arg1.$inspect()+", "+M.bypfx+M.step_arg2.$inspect()+")":p(M.step_arg1)?"("+M.topfx+M.step_arg1.$inspect()+")":Fe,"("+M.receiver_num.$inspect()+"."+M.creation_method+d+")"):(d=p(M.skipped_arg)?Fe:"("+M.step+")","(("+M.range.$inspect()+")."+M.creation_method+d+")")}),Ae(_e,"===","=="),Ae(_e,"eql?","==")}(Le,Le,ae)}("::",null,We)};Opal.modules["corelib/enumerator/chain"]=function(e){var o=e.deny_frozen_access,p=e.klass,J=e.slice,D=e.def,he=e.send,se=e.to_a,le=e.truthy,ne=e.rb_plus,F=e.thrower,Se=e.nil,ge=e.$$$;return e.add_stubs("to_enum,size,each,<<,to_proc,include?,+,reverse_each,respond_to?,rewind,inspect"),function(qe,Pe){var je=p(qe,Pe,"Enumerator");return function(ye,Q){var Ae=p(ye,Q,"Chain"),We=Ae.$$prototype;return We.enums=We.iterated=Se,D(Ae,"$initialize",function(ze){var ce,be,ue=this;return ce=J(arguments),be=ce,o(ue),ue.enums=be,ue.iterated=[],ue.object=ue},-1),D(Ae,"$each",function Fe(ze){var ce=Fe.$$p||Se,be,ue,Le=this;return Fe.$$p=null,be=J(arguments),ue=be,ce===Se?he(Le,"to_enum",["each"].concat(se(ue)),function ae(){var xe=ae.$$s==null?this:ae.$$s;return xe.$size()},{$$s:Le}):(he(Le.enums,"each",[],function ae(xe){var ee=ae.$$s==null?this:ae.$$s;return ee.iterated==null&&(ee.iterated=Se),xe==null&&(xe=Se),ee.iterated["$<<"](xe),he(xe,"each",se(ue),ce.$to_proc())},{$$s:Le}),Le)},-1),D(Ae,"$size",function(ze){try{var ce=F("return"),be,ue,Le=this,ae=Se;return be=J(arguments),ue=be,ae=0,he(Le.enums,"each",[],function(ee){var m=Se;return ee==null&&(ee=Se),m=he(ee,"size",se(ue)),le([Se,ge(ge("Float"),"INFINITY")]["$include?"](m))&&ce.$throw(m),ae=ne(ae,m)},{$$ret:ce}),ae}catch(xe){if(xe===ce)return xe.$v;throw xe}},-1),D(Ae,"$rewind",function(){var ze=this;return he(ze.iterated,"reverse_each",[],function(be){return be==null&&(be=Se),le(be["$respond_to?"]("rewind"))?be.$rewind():Se}),ze.iterated=[],ze}),D(Ae,"$inspect",function(){var ze=this;return"#<Enumerator::Chain: "+ze.enums.$inspect()+">"})}(je,je)}("::",null)};Opal.modules["corelib/enumerator/generator"]=function(e){var o=e.deny_frozen_access,p=e.klass,J=e.truthy,D=e.Kernel,he=e.def,se=e.slice,le=e.send,ne=[],F=e.nil,Se=e.$$$;return e.add_stubs("include,raise,new,to_proc"),function(ge,qe,Pe){var je=p(ge,qe,"Enumerator"),ye=[je].concat(Pe);return function(Q,Ae,We){var Fe=p(Q,Ae,"Generator"),ze=[Fe].concat(We),ce=e.$r(ze),be=Fe.$$prototype;return be.block=F,Fe.$include(Se("Enumerable")),he(Fe,"$initialize",function ue(){var Le=ue.$$p||F,ae=this;return ue.$$p=null,o(ae),J(Le)||D.$raise(Se("LocalJumpError"),"no block given"),ae.block=Le}),he(Fe,"$each",function ue(Le){var ae=ue.$$p||F,xe,ee,m=this,_e=F;ue.$$p=null,xe=se(arguments),ee=xe,_e=le(ce("Yielder"),"new",[],ae.$to_proc());try{ee.unshift(_e),e.yieldX(m.block,ee)}catch(z){if(z&&z.$thrower_type=="breaker")return z.$v;throw z}return m},-1)}(ye[0],null,ye)}(ne[0],null,ne)};Opal.modules["corelib/enumerator/lazy"]=function(e){var o=e.truthy,p=e.coerce_to,J=e.yield1,D=e.yieldX,he=e.deny_frozen_access,se=e.klass,le=e.slice,ne=e.send2,F=e.find_super,Se=e.to_a,ge=e.defs,qe=e.Kernel,Pe=e.send,je=e.def,ye=e.return_self,Q=e.Opal,Ae=e.rb_lt,We=e.eqeqeq,Fe=e.rb_plus,ze=e.alias,ce=[],be=e.nil,ue=e.$$$;return e.add_stubs("raise,each,new,enumerator_size,yield,respond_to?,try_convert,<,===,+,for,class,to_proc,destructure,inspect,to_a,find_all,collect_concat,collect,enum_for"),function(Le,ae,xe){var ee=se(Le,ae,"Enumerator"),m=[ee].concat(xe);return function(_e,z,K){var C=se(_e,z,"Lazy"),Te=[C].concat(K),ie=e.$r(Te),M=C.$$prototype;return M.enumerator=be,se(C,ue("Exception"),"StopLazyError"),ge(C,"$for",function d(s,n){var i,$,a=d.$$p||be,b=this,w=be;return d.$$p=null,i=le(arguments,1),$=i,w=ne(b,F(b,"for",d,!1,!0),"for",[s].concat(Se($)),a),w.enumerator=s,w},-2),je(C,"$initialize",function d(s,n){var i=d.$$p||be,$=this;return d.$$p=null,n==null&&(n=be),he($),i===be&&qe.$raise(ue("ArgumentError"),"tried to call lazy new without a block"),$.enumerator=s,ne($,F($,"initialize",d,!1,!0),"initialize",[n],function(b,w){var Y,Ce;b==null&&(b=be),Y=le(arguments,1),Ce=Y;try{return Pe(s,"each",Se(Ce),function(ot){var lt,gt;lt=le(arguments),gt=lt,gt.unshift(b),D(i,gt)},-1)}catch(Oe){if(e.rescue(Oe,[ie("StopLazyError")]))try{return be}finally{e.pop_exception()}else throw Oe}},-2)},-2),je(C,"$lazy",ye),je(C,"$collect",function d(){var s=d.$$p||be,n=this;return d.$$p=null,o(s)||qe.$raise(ue("ArgumentError"),"tried to call lazy map without a block"),Pe(ie("Lazy"),"new",[n,n.$enumerator_size()],function($,a){var b,w;$==null&&($=be),b=le(arguments,1),w=b;var Y=D(s,w);$.$yield(Y)},-2)}),je(C,"$collect_concat",function d(){var s=d.$$p||be,n=this;return d.$$p=null,o(s)||qe.$raise(ue("ArgumentError"),"tried to call lazy map without a block"),Pe(ie("Lazy"),"new",[n,be],function($,a){var b,w;$==null&&($=be),b=le(arguments,1),w=b;var Y=D(s,w);if(Y["$respond_to?"]("force")&&Y["$respond_to?"]("each"))Pe(Y,"each",[],function(ot){return ot==null&&(ot=be),$.$yield(ot)});else{var Ce=Q.$try_convert(Y,ue("Array"),"to_ary");Ce===be?$.$yield(Y):Pe(Y,"each",[],function(ot){return ot==null&&(ot=be),$.$yield(ot)})}},-2)}),je(C,"$drop",function(s){var n=this,i=be,$=be,a=be;return s=p(s,ue("Integer"),"to_int"),o(Ae(s,0))&&qe.$raise(ue("ArgumentError"),"attempt to drop negative size"),i=n.$enumerator_size(),$=We(ue("Integer"),i)&&o(Ae(s,i))?s:i,a=0,Pe(ie("Lazy"),"new",[n,$],function(w,Y){var Ce,Oe;return w==null&&(w=be),Ce=le(arguments,1),Oe=Ce,o(Ae(a,s))?a=Fe(a,1):Pe(w,"yield",Se(Oe))},-2)}),je(C,"$drop_while",function d(){var s=d.$$p||be,n=this,i=be;return d.$$p=null,o(s)||qe.$raise(ue("ArgumentError"),"tried to call lazy drop_while without a block"),i=!0,Pe(ie("Lazy"),"new",[n,be],function(a,b){var w,Y;if(a==null&&(a=be),w=le(arguments,1),Y=w,o(i)){var Ce=D(s,Y);o(Ce)||(i=!1,Pe(a,"yield",Se(Y)))}else return Pe(a,"yield",Se(Y))},-2)}),je(C,"$enum_for",function d(s,n){var i=d.$$p||be,$,a,b,w=this;return d.$$p=null,$=le(arguments),$.length>0&&(a=$.shift()),a==null&&(a="each"),b=$,Pe(w.$class(),"for",[w,a].concat(Se(b)),i.$to_proc())},-1),je(C,"$find_all",function d(){var s=d.$$p||be,n=this;return d.$$p=null,o(s)||qe.$raise(ue("ArgumentError"),"tried to call lazy select without a block"),Pe(ie("Lazy"),"new",[n,be],function($,a){var b,w;$==null&&($=be),b=le(arguments,1),w=b;var Y=D(s,w);o(Y)&&Pe($,"yield",Se(w))},-2)}),je(C,"$grep",function d(s){var n=d.$$p||be,i=this;return d.$$p=null,o(n)?Pe(ie("Lazy"),"new",[i,be],function(a,b){var w,Y;a==null&&(a=be),w=le(arguments,1),Y=w;var Ce=Q.$destructure(Y),Oe=s["$==="](Ce);o(Oe)&&(Oe=J(n,Ce),a.$yield(J(n,Ce)))},-2):Pe(ie("Lazy"),"new",[i,be],function(a,b){var w,Y;a==null&&(a=be),w=le(arguments,1),Y=w;var Ce=Q.$destructure(Y),Oe=s["$==="](Ce);o(Oe)&&a.$yield(Ce)},-2)}),je(C,"$reject",function d(){var s=d.$$p||be,n=this;return d.$$p=null,o(s)||qe.$raise(ue("ArgumentError"),"tried to call lazy reject without a block"),Pe(ie("Lazy"),"new",[n,be],function($,a){var b,w;$==null&&($=be),b=le(arguments,1),w=b;var Y=D(s,w);o(Y)||Pe($,"yield",Se(w))},-2)}),je(C,"$take",function(s){var n=this,i=be,$=be,a=be;return s=p(s,ue("Integer"),"to_int"),o(Ae(s,0))&&qe.$raise(ue("ArgumentError"),"attempt to take negative size"),i=n.$enumerator_size(),$=We(ue("Integer"),i)&&o(Ae(s,i))?s:i,a=0,Pe(ie("Lazy"),"new",[n,$],function(w,Y){var Ce,Oe;return w==null&&(w=be),Ce=le(arguments,1),Oe=Ce,o(Ae(a,s))?(Pe(w,"yield",Se(Oe)),a=Fe(a,1)):qe.$raise(ie("StopLazyError"))},-2)}),je(C,"$take_while",function d(){var s=d.$$p||be,n=this;return d.$$p=null,o(s)||qe.$raise(ue("ArgumentError"),"tried to call lazy take_while without a block"),Pe(ie("Lazy"),"new",[n,be],function($,a){var b,w;$==null&&($=be),b=le(arguments,1),w=b;var Y=D(s,w);o(Y)?Pe($,"yield",Se(w)):qe.$raise(ie("StopLazyError"))},-2)}),je(C,"$inspect",function(){var s=this;return"#<"+s.$class()+": "+s.enumerator.$inspect()+">"}),ze(C,"force","to_a"),ze(C,"filter","find_all"),ze(C,"flat_map","collect_concat"),ze(C,"map","collect"),ze(C,"select","find_all"),ze(C,"to_enum","enum_for")}(ee,ee,m)}("::",null,ce)};Opal.modules["corelib/enumerator/yielder"]=function(e){var o=e.klass,p=e.def,J=e.slice,D=e.send,he=e.to_a,se=[],le=e.nil;return e.add_stubs("yield,proc"),function(ne,F,Se){var ge=o(ne,F,"Enumerator"),qe=[ge].concat(Se);return function(Pe,je){var ye=o(Pe,je,"Yielder"),Q=ye.$$prototype;return Q.block=le,p(ye,"$initialize",function Ae(){var We=Ae.$$p||le,Fe=this;return Ae.$$p=null,Fe.block=We,Fe}),p(ye,"$yield",function(We){var Fe,ze,ce=this;Fe=J(arguments),ze=Fe;var be=e.yieldX(ce.block,ze);if(be&&be.$thrower_type=="break")throw be;return be},-1),p(ye,"$<<",function(We){var Fe=this;return Fe.$yield(We),Fe}),p(ye,"$to_proc",function(){var We=this;return D(We,"proc",[],function Fe(ze){var ce,be,ue=Fe.$$s==null?this:Fe.$$s;return ce=J(arguments),be=ce,D(ue,"yield",he(be))},{$$arity:-1,$$s:We})})}(qe[0],null)}(se[0],null,se)};Opal.modules["corelib/enumerator"]=function(e){var o=e.slice,p=e.coerce_to,J=e.deny_frozen_access,D=e.klass,he=e.defs,se=e.truthy,le=e.send,ne=e.not,F=e.def,Se=e.rb_plus,ge=e.to_a,qe=e.Opal,Pe=e.send2,je=e.find_super,ye=e.rb_ge,Q=e.Kernel,Ae=e.rb_le,We=e.alias,Fe=e.top,ze=[],ce=e.nil,be=e.$$$;return e.add_stubs("require,include,allocate,new,to_proc,!,respond_to?,empty?,nil?,+,class,__send__,call,enum_for,size,destructure,map,>=,length,raise,[],peek_values,<=,next_values,inspect,any?,each_with_object,autoload"),Fe.$require("corelib/enumerable"),function(ue,Le,ae){var xe=D(ue,Le,"Enumerator"),ee=[xe].concat(ae),m=e.$r(ee),_e=xe.$$prototype;return _e.size=_e.args=_e.object=_e.method=_e.values=_e.cursor=ce,xe.$include(be("Enumerable")),xe.$$prototype.$$is_enumerator=!0,he(xe,"$for",function z(K,C,Te){var ie=z.$$p||ce,M,d,s,n=this;z.$$p=null,M=o(arguments,1),M.length>0&&(d=M.shift()),d==null&&(d="each"),s=M;var i=n.$allocate();return i.object=K,i.size=ie,i.method=d,i.args=s,i.cursor=0,i},-2),F(xe,"$initialize",function z(K){var C=z.$$p||ce,Te=this;return z.$$p=null,o(arguments),J(Te),Te.cursor=0,se(C)?(Te.object=le(m("Generator"),"new",[],C.$to_proc()),Te.method="each",Te.args=[],Te.size=arguments[0]||ce,se(Te.size)&&ne(Te.size["$respond_to?"]("call"))?Te.size=p(Te.size,be("Integer"),"to_int"):ce):(Te.object=arguments[0],Te.method=arguments[1]||"each",Te.args=o(arguments,2),Te.size=ce)},-1),F(xe,"$each",function z(K){var C=z.$$p||ce,Te,ie,M=this;return z.$$p=null,Te=o(arguments),ie=Te,se(C["$nil?"]())&&se(ie["$empty?"]())?M:(ie=Se(M.args,ie),se(C["$nil?"]())?le(M.$class(),"new",[M.object,M.method].concat(ge(ie))):le(M.object,"__send__",[M.method].concat(ge(ie)),C.$to_proc()))},-1),F(xe,"$size",function(){var K=this;return se(K.size["$respond_to?"]("call"))?le(K.size,"call",ge(K.args)):K.size}),F(xe,"$with_index",function z(K){var C=z.$$p||ce,Te=this;if(z.$$p=null,K==null&&(K=0),K=se(K)?p(K,be("Integer"),"to_int"):0,!se(C))return le(Te,"enum_for",["with_index",K],function M(){var d=M.$$s==null?this:M.$$s;return d.$size()},{$$s:Te});var ie=K;return Te.$each.$$p=function(){var M=qe.$destructure(arguments),d=C(M,ie);return ie++,d},Te.$each()},-1),F(xe,"$each_with_index",function z(){var K=z.$$p||ce,C=this;return z.$$p=null,K===ce?le(C,"enum_for",["each_with_index"],function Te(){var ie=Te.$$s==null?this:Te.$$s;return ie.$size()},{$$s:C}):(Pe(C,je(C,"each_with_index",z,!1,!0),"each_with_index",[],K),C.object)}),F(xe,"$rewind",function(){var K=this;return K.cursor=0,K}),F(xe,"$peek_values",function(){var K=this,C=ce;return K.values=se(C=K.values)?C:le(K,"map",[],function(ie){var M,d;return M=o(arguments),d=M,d},-1),se(ye(K.cursor,K.values.$length()))&&Q.$raise(be("StopIteration"),"iteration reached an end"),K.values["$[]"](K.cursor)}),F(xe,"$peek",function(){var K=this,C=ce;return C=K.$peek_values(),se(Ae(C.$length(),1))?C["$[]"](0):C}),F(xe,"$next_values",function(){var K=this,C=ce;return C=K.$peek_values(),K.cursor=Se(K.cursor,1),C}),F(xe,"$next",function(){var K=this,C=ce;return C=K.$next_values(),se(Ae(C.$length(),1))?C["$[]"](0):C}),F(xe,"$feed",function(K){var C=this;return C.$raise(m("NotImplementedError"),"Opal doesn't support Enumerator#feed")}),F(xe,"$+",function(K){var C=this;return be(be("Enumerator"),"Chain").$new(C,K)}),F(xe,"$inspect",function(){var K=this,C=ce;return C="#<"+K.$class()+": "+K.object.$inspect()+":"+K.method,se(K.args["$any?"]())&&(C=Se(C,"("+K.args.$inspect()["$[]"](be("Range").$new(1,-2))+")")),Se(C,">")}),We(xe,"with_object","each_with_object"),xe.$autoload("ArithmeticSequence","corelib/enumerator/arithmetic_sequence"),xe.$autoload("Chain","corelib/enumerator/chain"),xe.$autoload("Generator","corelib/enumerator/generator"),xe.$autoload("Lazy","corelib/enumerator/lazy"),xe.$autoload("Yielder","corelib/enumerator/yielder")}("::",null,ze)};Opal.modules["corelib/numeric"]=function(e){var o=e.klass,p=e.truthy,J=e.Kernel,D=e.def,he=e.to_ary,se=e.return_self,le=e.rb_minus,ne=e.rb_times,F=e.rb_lt,Se=e.eqeq,ge=e.rb_divide,qe=e.return_val,Pe=e.Opal,je=e.slice,ye=e.extract_kwargs,Q=e.ensure_kwargs,Ae=e.not,We=e.send,Fe=e.rb_ge,ze=e.rb_le,ce=e.rb_plus,be=e.rb_gt,ue=e.alias,Le=e.top,ae=e.nil,xe=e.$$$;return e.add_stubs("require,include,instance_of?,class,Float,respond_to?,coerce,__send__,raise,equal?,-,*,div,<,-@,ceil,to_f,denominator,to_r,==,floor,/,%,Complex,zero?,numerator,abs,arg,coerce_to!,round,<=>,compare,is_a?,!,new,enum_for,to_proc,negative?,>=,<=,+,to_i,truncate,>,angle,conj,imag,rect"),Le.$require("corelib/comparable"),function(ee,m){var _e=o(ee,m,"Numeric");return _e.$include(xe("Comparable")),D(_e,"$coerce",function(K){var C=this;return p(K["$instance_of?"](C.$class()))?[K,C]:[J.$Float(K),J.$Float(C)]}),D(_e,"$__coerced__",function(K,C){var Te,ie,M=this,d=ae,s=ae;if(p(C["$respond_to?"]("coerce")))return ie=C.$coerce(M),Te=he(ie),d=Te[0]==null?ae:Te[0],s=Te[1]==null?ae:Te[1],d.$__send__(K,s);switch(K){case"+":case"-":case"*":case"/":case"%":case"&":case"|":case"^":case"**":return J.$raise(xe("TypeError"),""+C.$class()+" can't be coerced into Numeric");case">":case">=":case"<":case"<=":case"<=>":return J.$raise(xe("ArgumentError"),"comparison of "+M.$class()+" with "+C.$class()+" failed");default:return ae}}),D(_e,"$<=>",function(K){var C=this;return p(C["$equal?"](K))?0:ae}),D(_e,"$+@",se),D(_e,"$-@",function(){var K=this;return le(0,K)}),D(_e,"$%",function(K){var C=this;return le(C,ne(K,C.$div(K)))}),D(_e,"$abs",function(){var K=this;return F(K,0)?K["$-@"]():K}),D(_e,"$abs2",function(){var K=this;return ne(K,K)}),D(_e,"$angle",function(){var K=this;return F(K,0)?xe(xe("Math"),"PI"):0}),D(_e,"$ceil",function(K){var C=this;return K==null&&(K=0),C.$to_f().$ceil(K)},-1),D(_e,"$conj",se),D(_e,"$denominator",function(){var K=this;return K.$to_r().$denominator()}),D(_e,"$div",function(K){var C=this;return Se(K,0)&&J.$raise(xe("ZeroDivisionError"),"divided by o"),ge(C,K).$floor()}),D(_e,"$divmod",function(K){var C=this;return[C.$div(K),C["$%"](K)]}),D(_e,"$fdiv",function(K){var C=this;return ge(C.$to_f(),K)}),D(_e,"$floor",function(K){var C=this;return K==null&&(K=0),C.$to_f().$floor(K)},-1),D(_e,"$i",function(){var K=this;return J.$Complex(0,K)}),D(_e,"$imag",qe(0)),D(_e,"$integer?",qe(!1)),D(_e,"$nonzero?",function(){var K=this;return p(K["$zero?"]())?ae:K}),D(_e,"$numerator",function(){var K=this;return K.$to_r().$numerator()}),D(_e,"$polar",function(){var K=this;return[K.$abs(),K.$arg()]}),D(_e,"$quo",function(K){var C=this;return ge(Pe["$coerce_to!"](C,xe("Rational"),"to_r"),K)}),D(_e,"$real",se),D(_e,"$real?",qe(!0)),D(_e,"$rect",function(){var K=this;return[K,0]}),D(_e,"$round",function(K){var C=this;return C.$to_f().$round(K)},-1),D(_e,"$step",function z(K,C,Te){var ie=z.$$p||ae,M,d,s,n,i,$,a=this,b=ae;z.$$p=null,M=je(arguments),d=ye(M),d=Q(d),M.length>0&&(s=M.shift()),M.length>0&&(n=M.shift()),i=d.$$smap.to,$=d.$$smap.by,s!==void 0&&i!==void 0&&J.$raise(xe("ArgumentError"),"to is given twice"),n!==void 0&&$!==void 0&&J.$raise(xe("ArgumentError"),"step is given twice"),i!==void 0&&(s=i),$!==void 0&&(n=$),s===void 0&&(s=ae);function w(){n===ae&&J.$raise(xe("TypeError"),"step must be numeric"),n!=null&&n["$=="](0)&&J.$raise(xe("ArgumentError"),"step can't be 0"),(n===ae||n==null)&&(n=1);var bt=n["$<=>"](0);bt===ae&&J.$raise(xe("ArgumentError"),"0 can't be coerced into "+n.$class()),(s===ae||s==null)&&(s=bt>0?xe(xe("Float"),"INFINITY"):xe(xe("Float"),"INFINITY")["$-@"]()),Pe.$compare(a,s)}function Y(){if(n>0&&a>s||n<0&&a<s)return 0;if(n===1/0||n===-1/0)return 1;var bt=Math.abs,vt=Math.floor,Qe=(bt(a)+bt(s)+bt(s-a))/bt(n)*xe(xe("Float"),"EPSILON");return Qe===1/0||Qe===-1/0?0:(Qe>.5&&(Qe=.5),vt((s-a)/n+Qe)+1)}function Ce(){if(w(),n===0)return 1/0;if(n%1!==0)return Y();if(n>0&&a>s||n<0&&a<s)return 0;var bt=Math.ceil,vt=Math.abs,Qe=vt(a-s)+1,pe=vt(n);return bt(Qe/pe)}if(ie===ae)return(Ae(s)||p(s["$is_a?"](xe("Numeric"))))&&(Ae(n)||p(n["$is_a?"](xe("Numeric"))))?xe(xe("Enumerator"),"ArithmeticSequence").$new([s,n,p(i)?"to: ":ae,p($)?"by: ":ae],a):We(a,"enum_for",["step",s,n],Ce.$to_proc());w();var Oe=n["$negative?"](),ot=n["$=="](0)||s===1/0&&!Oe||s===-1/0&&Oe;if(a.$$is_number&&n.$$is_number&&s.$$is_number)if(a%1===0&&(ot||s%1===0)&&n%1===0){var lt=a;if(ot)for(;;lt+=n)ie(lt);else if(Oe)for(;lt>=s;lt+=n)ie(lt);else for(;lt<=s;lt+=n)ie(lt);return a}else{var gt=a.$to_f().valueOf();n=n.$to_f().valueOf(),s=s.$to_f().valueOf();var _t=Y();if(!isFinite(n))_t!==0&&ie(gt);else if(n===0)for(;;)ie(gt);else for(var mt=0;mt<_t;mt++){var dt=mt*n+a;(n>=0?s<dt:s>dt)&&(dt=s),ie(dt)}return a}for(b=a;p(Oe?Fe(b,s):ze(b,s));)e.yield1(ie,b),b=ce(b,n)},-1),D(_e,"$to_c",function(){var K=this;return J.$Complex(K,0)}),D(_e,"$to_int",function(){var K=this;return K.$to_i()}),D(_e,"$truncate",function(K){var C=this;return K==null&&(K=0),C.$to_f().$truncate(K)},-1),D(_e,"$zero?",function(){var K=this;return K["$=="](0)}),D(_e,"$positive?",function(){var K=this;return be(K,0)}),D(_e,"$negative?",function(){var K=this;return F(K,0)}),D(_e,"$dup",se),D(_e,"$clone",function(K){var C=this;return K=Q(K),K.$$smap.freeze,C},-1),D(_e,"$finite?",qe(!0)),D(_e,"$infinite?",qe(ae)),ue(_e,"arg","angle"),ue(_e,"conjugate","conj"),ue(_e,"imaginary","imag"),ue(_e,"magnitude","abs"),ue(_e,"modulo","%"),ue(_e,"phase","arg"),ue(_e,"rectangular","rect")}("::",null)};Opal.modules["corelib/array"]=function(e){var o=e.truthy,p=e.falsy,J=e.hash_ids,D=e.yield1,he=e.hash_get,se=e.hash_put,le=e.hash_delete,ne=e.coerce_to,F=e.respond_to,Se=e.deny_frozen_access,ge=e.freeze,qe=e.klass,Pe=e.slice,je=e.defs,ye=e.Kernel,Q=e.def,Ae=e.Opal,We=e.eqeqeq,Fe=e.hash2,ze=e.send2,ce=e.find_super,be=e.send,ue=e.rb_gt,Le=e.rb_times,ae=e.eqeq,xe=e.rb_minus,ee=e.to_a,m=e.to_ary,_e=e.gvars,z=e.rb_ge,K=e.assign_ivar,C=e.rb_lt,Te=e.return_self,ie=e.neqeq,M=e.alias,d=e.top,s=[],n=e.nil,i=e.$$$;return e.add_stubs("require,include,to_a,warn,raise,replace,respond_to?,to_ary,coerce_to?,===,join,to_str,hash,<=>,==,object_id,inspect,enum_for,class,bsearch_index,to_proc,nil?,coerce_to!,>,*,enumerator_size,empty?,size,map,equal?,dup,each,reduce,-,[],dig,eql?,length,exclude_end?,flatten,frozen?,__id__,&,!,intersection,to_s,new,item,max,min,>=,**,delete_if,reverse,rotate,rand,at,keep_if,shuffle!,<,sort,sort_by,!=,times,[]=,<<,uniq,|,values,is_a?,end,begin,upto,reject,push,select,select!,collect,collect!,unshift,pristine,singleton_class"),d.$require("corelib/enumerable"),d.$require("corelib/numeric"),function($,a,b){var w=qe($,a,"Array"),Y=[w].concat(b),Ce=e.$r(Y);w.$include(i("Enumerable")),e.prop(w.$$prototype,"$$is_array",!0);function Oe(Qe){for(var pe=Qe[0],Re=1,He=Qe.length;Re<He;Re++)Qe[Re-1]=Qe[Re];return Qe.pop(),pe}function ot(Qe,pe){return pe.$$name===e.Array?Qe:pe.$allocate().$replace(Qe.$to_a())}function lt(Qe,pe,Re){for(var He,_=null,k=new Array(Qe.length),re=0,ke=0,Ye=Qe.length;re<Ye;re++){if(!_)try{He=D(Re,Qe[re])}catch(nt){_=nt}(_||pe(He))&&(k[ke]=Qe[re],ke+=1)}if(ke!==re&&(Qe.splice.apply(Qe,[0,k.length].concat(k)),Qe.splice(ke,k.length)),_)throw _}je(w,"$[]",function(pe){var Re,He,_=this;return Re=Pe(arguments),He=Re,ot(He,_)},-1),Q(w,"$initialize",function Qe(pe,Re){var He=Qe.$$p||n,_=this;if(Qe.$$p=null,pe==null&&(pe=n),Re==null&&(Re=n),Se(_),Re!==n&&He!==n&&ye.$warn("warning: block supersedes default value argument"),pe>i(i("Integer"),"MAX")&&ye.$raise(i("ArgumentError"),"array size too big"),arguments.length>2&&ye.$raise(i("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)"),arguments.length===0)return _.splice(0,_.length),_;if(arguments.length===1){if(pe.$$is_array)return _.$replace(pe.$to_a()),_;if(pe["$respond_to?"]("to_ary"))return _.$replace(pe.$to_ary()),_}pe=ne(pe,i("Integer"),"to_int"),pe<0&&ye.$raise(i("ArgumentError"),"negative array size"),_.splice(0,_.length);var k,re;if(He===n)for(k=0;k<pe;k++)_.push(Re);else for(k=0,re;k<pe;k++)re=He(k),_[k]=re;return _},-1),je(w,"$try_convert",function(pe){return Ae["$coerce_to?"](pe,i("Array"),"to_ary")}),Q(w,"$&",function(pe){var Re=this;pe=We(i("Array"),pe)?pe.$to_a():ne(pe,i("Array"),"to_ary").$to_a();var He=[],_=Fe([],{}),k,re,ke;for(k=0,re=pe.length;k<re;k++)se(_,pe[k],!0);for(k=0,re=Re.length;k<re;k++)ke=Re[k],le(_,ke)!==void 0&&He.push(ke);return He}),Q(w,"$|",function(pe){var Re=this;pe=We(i("Array"),pe)?pe.$to_a():ne(pe,i("Array"),"to_ary").$to_a();var He=Fe([],{}),_,k;for(_=0,k=Re.length;_<k;_++)se(He,Re[_],!0);for(_=0,k=pe.length;_<k;_++)se(He,pe[_],!0);return He.$keys()}),Q(w,"$*",function(pe){var Re=this;if(o(pe["$respond_to?"]("to_str")))return Re.$join(pe.$to_str());pe=ne(pe,i("Integer"),"to_int"),o(pe<0)&&ye.$raise(i("ArgumentError"),"negative argument");for(var He=[],_=Re.$to_a(),k=0;k<pe;k++)He=He.concat(_);return He}),Q(w,"$+",function(pe){var Re=this;return pe=We(i("Array"),pe)?pe.$to_a():ne(pe,i("Array"),"to_ary").$to_a(),Re.concat(pe)}),Q(w,"$-",function(pe){var Re=this;if(pe=We(i("Array"),pe)?pe.$to_a():ne(pe,i("Array"),"to_ary").$to_a(),o(Re.length===0))return[];if(o(pe.length===0))return Re.slice();var He=[],_=Fe([],{}),k,re,ke;for(k=0,re=pe.length;k<re;k++)se(_,pe[k],!0);for(k=0,re=Re.length;k<re;k++)ke=Re[k],he(_,ke)===void 0&&He.push(ke);return He}),Q(w,"$<<",function(pe){var Re=this;return Se(Re),Re.push(pe),Re}),Q(w,"$<=>",function(pe){var Re=this;if(We(i("Array"),pe))pe=pe.$to_a();else if(o(pe["$respond_to?"]("to_ary")))pe=pe.$to_ary().$to_a();else return n;if(Re.$hash()===pe.$hash())return 0;for(var He=Math.min(Re.length,pe.length),_=0;_<He;_++){var k=Re[_]["$<=>"](pe[_]);if(k!==0)return k}return Re.length["$<=>"](pe.length)}),Q(w,"$==",function(pe){var Re=this,He={};function _(k,re){var ke,Ye,nt,t;if(k===re)return!0;if(!re.$$is_array)return F(re,"$to_ary")?re["$=="](k):!1;if(k.$$constructor!==Array&&(k=k.$to_a()),re.$$constructor!==Array&&(re=re.$to_a()),k.length!==re.length)return!1;for(He[k.$object_id()]=!0,ke=0,Ye=k.length;ke<Ye;ke++)if(nt=k[ke],t=re[ke],nt.$$is_array){if(t.$$is_array&&t.length!==nt.length||!He.hasOwnProperty(nt.$object_id())&&!_(nt,t))return!1}else if(!nt["$=="](t))return!1;return!0}return _(Re,pe)});function gt(Qe,pe){var Re=Qe.length,He,_,k,re;return He=pe.excl,_=pe.begin===n?0:ne(pe.begin,e.Integer,"to_int"),k=pe.end===n?-1:ne(pe.end,e.Integer,"to_int"),_<0&&(_+=Re,_<0)||(pe.excl_rev&&pe.begin!==n&&(_+=1),_>Re)?n:k<0&&(k+=Re,k<0)?[]:((!He||pe.end===n)&&(k+=1),re=Qe.slice(_,k),re)}function _t(Qe,pe){var Re,He=[],_=0,k;for(pe.step<0?(k={begin:pe.range.end,end:pe.range.begin,excl:!1,excl_rev:pe.range.excl},Re=gt(Qe,k).$reverse()):Re=gt(Qe,pe.range);_<Re.length;)He.push(Re[_]),_+=Math.abs(pe.step);return He}function mt(Qe,pe,Re){var He=Qe.length,_;return pe=ne(pe,e.Integer,"to_int"),pe<0&&(pe+=He,pe<0)?n:Re===void 0?pe>=He||pe<0?n:Qe[pe]:(Re=ne(Re,e.Integer,"to_int"),Re<0||pe>He||pe<0?n:(_=Qe.slice(pe,pe+Re),_))}Q(w,"$[]",function(pe,Re){var He=this;return pe.$$is_range?gt(He,pe):pe.$$is_arithmetic_seq?_t(He,pe):mt(He,pe,Re)},-2),Q(w,"$[]=",function(pe,Re,He){var _=this,k=n,re=n;Se(_),k=n;var ke,Ye=_.length;if(pe.$$is_range){Re.$$is_array?k=Re.$to_a():Re["$respond_to?"]("to_ary")?k=Re.$to_ary().$to_a():k=[Re];var nt=pe.excl,t=pe.begin===n?0:ne(pe.begin,e.Integer,"to_int"),W=pe.end===n?-1:ne(pe.end,e.Integer,"to_int");if(t<0&&(t+=Ye,t<0&&ye.$raise(i("RangeError"),""+pe.$inspect()+" out of range")),W<0&&(W+=Ye),(!nt||pe.end===n)&&(W+=1),t>Ye)for(ke=Ye;ke<t;ke++)_[ke]=n;return W<0?_.splice.apply(_,[t,0].concat(k)):_.splice.apply(_,[t,W-t].concat(k)),Re}else{He===void 0?re=1:(re=Re,Re=He,Re.$$is_array?k=Re.$to_a():Re["$respond_to?"]("to_ary")?k=Re.$to_ary().$to_a():k=[Re]);var H;if(pe=ne(pe,i("Integer"),"to_int"),re=ne(re,i("Integer"),"to_int"),pe<0&&(H=pe,pe+=Ye,pe<0&&ye.$raise(i("IndexError"),"index "+H+" too small for array; minimum "+-_.length)),re<0&&ye.$raise(i("IndexError"),"negative length ("+re+")"),pe>Ye)for(ke=Ye;ke<pe;ke++)_[ke]=n;return He===void 0?_[pe]=Re:_.splice.apply(_,[pe,re].concat(k)),Re}},-3),Q(w,"$any?",function Qe(pe){var Re=Qe.$$p||n,He=this;return Qe.$$p=null,He.length===0?!1:ze(He,ce(He,"any?",Qe,!1,!0),"any?",[pe],Re)},-1),Q(w,"$assoc",function(pe){for(var Re=this,He=0,_=Re.length,k;He<_;He++)if(k=Re[He],k.length&&k[0]["$=="](pe))return k;return n}),Q(w,"$at",function(pe){var Re=this;return pe=ne(pe,i("Integer"),"to_int"),pe<0&&(pe+=Re.length),pe<0||pe>=Re.length?n:Re[pe]}),Q(w,"$bsearch_index",function Qe(){var pe=Qe.$$p||n,Re=this;if(Qe.$$p=null,pe===n)return Re.$enum_for("bsearch_index");for(var He=0,_=Re.length,k,re,ke,Ye=!1,nt=n;He<_;){if(k=He+Math.floor((_-He)/2),re=Re[k],ke=D(pe,re),ke===!0)nt=k,Ye=!0;else if(ke===!1||ke===n)Ye=!1;else if(ke.$$is_number){if(ke===0)return k;Ye=ke<0}else ye.$raise(i("TypeError"),"wrong argument type "+ke.$class()+" (must be numeric, true, false or nil)");Ye?_=k:He=k+1}return nt}),Q(w,"$bsearch",function Qe(){var pe=Qe.$$p||n,Re=this,He=n;return Qe.$$p=null,pe===n?Re.$enum_for("bsearch"):(He=be(Re,"bsearch_index",[],pe.$to_proc()),He!=null&&He.$$is_number?Re[He]:He)}),Q(w,"$cycle",function Qe(pe){var Re=Qe.$$p||n,He=this;if(Qe.$$p=null,pe==null&&(pe=n),Re===n)return be(He,"enum_for",["cycle",pe],function re(){var ke=re.$$s==null?this:re.$$s;return o(pe["$nil?"]())?i(i("Float"),"INFINITY"):(pe=Ae["$coerce_to!"](pe,i("Integer"),"to_int"),o(ue(pe,0))?Le(ke.$enumerator_size(),pe):0)},{$$s:He});if(o(He["$empty?"]())||ae(pe,0))return n;var _,k;if(pe===n)for(;;)for(_=0,k=He.length;_<k;_++)D(Re,He[_]);else{if(pe=Ae["$coerce_to!"](pe,i("Integer"),"to_int"),pe<=0)return He;for(;pe>0;){for(_=0,k=He.length;_<k;_++)D(Re,He[_]);pe--}}return He},-1),Q(w,"$clear",function(){var pe=this;return Se(pe),pe.splice(0,pe.length),pe}),Q(w,"$count",function Qe(pe){var Re=Qe.$$p||n,He=this;return Qe.$$p=null,o(pe!==void 0)||o(Re)?ze(He,ce(He,"count",Qe,!1,!0),"count",[pe],Re):He.$size()},-1),Q(w,"$initialize_copy",function(pe){var Re=this;return Re.$replace(pe)}),Q(w,"$collect",function Qe(){var pe=Qe.$$p||n,Re=this;if(Qe.$$p=null,pe===n)return be(Re,"enum_for",["collect"],function ke(){var Ye=ke.$$s==null?this:ke.$$s;return Ye.$size()},{$$s:Re});for(var He=[],_=0,k=Re.length;_<k;_++){var re=D(pe,Re[_]);He.push(re)}return He}),Q(w,"$collect!",function Qe(){var pe=Qe.$$p||n,Re=this;if(Qe.$$p=null,pe===n)return be(Re,"enum_for",["collect!"],function re(){var ke=re.$$s==null?this:re.$$s;return ke.$size()},{$$s:Re});Se(Re);for(var He=0,_=Re.length;He<_;He++){var k=D(pe,Re[He]);Re[He]=k}return Re});function dt(Qe,pe){return Qe===pe||pe===0?1:pe>0&&Qe>pe?dt(Qe-1,pe-1)+dt(Qe-1,pe):0}Q(w,"$combination",function Qe(pe){var Re=Qe.$$p||n,He=this,_=n;if(Qe.$$p=null,_=Ae["$coerce_to!"](pe,i("Integer"),"to_int"),Re===n)return be(He,"enum_for",["combination",_],function H(){var T=H.$$s==null?this:H.$$s;return dt(T.length,_)},{$$s:He});var k,re,ke,Ye,nt,t,W;if(_===0)e.yield1(Re,[]);else if(_===1)for(k=0,re=He.length;k<re;k++)e.yield1(Re,[He[k]]);else if(_===He.length)e.yield1(Re,He.slice());else if(_>=0&&_<He.length){for(ke=[],k=0;k<=_+1;k++)ke.push(0);for(Ye=[],nt=0,t=!1,ke[0]=-1;!t;){for(Ye[nt]=He[ke[nt+1]];nt<_-1;)nt++,W=ke[nt+1]=ke[nt]+1,Ye[nt]=He[W];e.yield1(Re,Ye.slice()),nt++;do t=nt===0,ke[nt]++,nt--;while(ke[nt+1]+_===He.length+nt+1)}}return He}),Q(w,"$repeated_combination",function Qe(pe){var Re=Qe.$$p||n,He=this,_=n;if(Qe.$$p=null,_=Ae["$coerce_to!"](pe,i("Integer"),"to_int"),Re===n)return be(He,"enum_for",["repeated_combination",_],function re(){var ke=re.$$s==null?this:re.$$s;return dt(ke.length+_-1,_)},{$$s:He});function k(re,ke,Ye,nt){if(Ye.length==re){var t=Ye.slice();e.yield1(Re,t);return}for(var W=ke;W<nt.length;W++)Ye.push(nt[W]),k(re,W,Ye,nt),Ye.pop()}return _>=0&&k(_,0,[],He),He}),Q(w,"$compact",function(){for(var pe=this,Re=[],He=0,_=pe.length,k;He<_;He++)(k=pe[He])!==n&&Re.push(k);return Re}),Q(w,"$compact!",function(){var pe=this;Se(pe);for(var Re=pe.length,He=0,_=pe.length;He<_;He++)pe[He]===n&&(pe.splice(He,1),_--,He--);return pe.length===Re?n:pe}),Q(w,"$concat",function(pe){var Re,He,_=this;return Re=Pe(arguments),He=Re,Se(_),He=be(He,"map",[],function k(re){var ke=k.$$s==null?this:k.$$s;return re==null&&(re=n),re=We(i("Array"),re)?re.$to_a():ne(re,i("Array"),"to_ary").$to_a(),o(re["$equal?"](ke))&&(re=re.$dup()),re},{$$s:_}),be(He,"each",[],function k(re){var ke=k.$$s==null?this:k.$$s;re==null&&(re=n);for(var Ye=0,nt=re.length;Ye<nt;Ye++)ke.push(re[Ye])},{$$s:_}),_},-1),Q(w,"$delete",function Qe(pe){var Re=Qe.$$p||n,He=this;Qe.$$p=null;for(var _=He.length,k=0,re=_;k<re;k++)He[k]["$=="](pe)&&(Se(He),He.splice(k,1),re--,k--);return He.length===_?Re!==n?e.yieldX(Re,[]):n:pe}),Q(w,"$delete_at",function(pe){var Re=this;if(Se(Re),pe=ne(pe,i("Integer"),"to_int"),pe<0&&(pe+=Re.length),pe<0||pe>=Re.length)return n;var He=Re[pe];return Re.splice(pe,1),He}),Q(w,"$delete_if",function Qe(){var pe=Qe.$$p||n,Re=this;return Qe.$$p=null,pe===n?be(Re,"enum_for",["delete_if"],function He(){var _=He.$$s==null?this:He.$$s;return _.$size()},{$$s:Re}):(Se(Re),lt(Re,p,pe),Re)}),Q(w,"$difference",function(pe){var Re,He,_=this;return Re=Pe(arguments),He=Re,be(He,"reduce",[_.$to_a().$dup()],function(re,ke){return re==null&&(re=n),ke==null&&(ke=n),xe(re,ke)})},-1),Q(w,"$dig",function(pe,Re){var He,_,k=this,re=n;return He=Pe(arguments,1),_=He,re=k["$[]"](pe),re===n||_.length===0?re:(o(re["$respond_to?"]("dig"))||ye.$raise(i("TypeError"),""+re.$class()+" does not have #dig method"),be(re,"dig",ee(_)))},-2),Q(w,"$drop",function(pe){var Re=this;return pe=ne(pe,i("Integer"),"to_int"),pe<0&&ye.$raise(i("ArgumentError")),Re.slice(pe)}),Q(w,"$dup",function Qe(){var pe=Qe.$$p||n,Re=this;return Qe.$$p=null,Re.$$class===e.Array&&Re.$$class.$allocate.$$pristine&&Re.$copy_instance_variables.$$pristine&&Re.$initialize_dup.$$pristine?Re.slice(0):ze(Re,ce(Re,"dup",Qe,!1,!0),"dup",[],pe)}),Q(w,"$each",function Qe(){var pe=Qe.$$p||n,Re=this;if(Qe.$$p=null,pe===n)return be(Re,"enum_for",["each"],function k(){var re=k.$$s==null?this:k.$$s;return re.$size()},{$$s:Re});for(var He=0,_=Re.length;He<_;He++)D(pe,Re[He]);return Re}),Q(w,"$each_index",function Qe(){var pe=Qe.$$p||n,Re=this;if(Qe.$$p=null,pe===n)return be(Re,"enum_for",["each_index"],function k(){var re=k.$$s==null?this:k.$$s;return re.$size()},{$$s:Re});for(var He=0,_=Re.length;He<_;He++)D(pe,He);return Re}),Q(w,"$empty?",function(){var pe=this;return pe.length===0}),Q(w,"$eql?",function(pe){var Re=this,He={};function _(k,re){var ke,Ye,nt,t;if(!re.$$is_array||(re=re.$to_a(),k.length!==re.length))return!1;for(He[k.$object_id()]=!0,ke=0,Ye=k.length;ke<Ye;ke++)if(nt=k[ke],t=re[ke],nt.$$is_array){if(t.$$is_array&&t.length!==nt.length||!He.hasOwnProperty(nt.$object_id())&&!_(nt,t))return!1}else if(!nt["$eql?"](t))return!1;return!0}return _(Re,pe)}),Q(w,"$fetch",function Qe(pe,Re){var He=Qe.$$p||n,_=this;Qe.$$p=null;var k=pe;if(pe=ne(pe,i("Integer"),"to_int"),pe<0&&(pe+=_.length),pe>=0&&pe<_.length)return _[pe];if(He!==n&&Re!=null&&_.$warn("warning: block supersedes default value argument"),He!==n)return He(k);if(Re!=null)return Re;_.length===0?ye.$raise(i("IndexError"),"index "+k+" outside of array bounds: 0...0"):ye.$raise(i("IndexError"),"index "+k+" outside of array bounds: -"+_.length+"..."+_.length)},-2),Q(w,"$fill",function Qe(pe){var Re=Qe.$$p||n,He,_,k,re,ke=this,Ye=n,nt=n,t=n,W=n,H=n;Qe.$$p=null,He=Pe(arguments),_=He,Se(ke);var T,O;if(o(Re)?(o(_.length>2)&&ye.$raise(i("ArgumentError"),"wrong number of arguments ("+_.$length()+" for 0..2)"),re=_,k=m(re),Ye=k[0]==null?n:k[0],nt=k[1]==null?n:k[1]):(o(_.length==0)?ye.$raise(i("ArgumentError"),"wrong number of arguments (0 for 1..3)"):o(_.length>3)&&ye.$raise(i("ArgumentError"),"wrong number of arguments ("+_.$length()+" for 1..3)"),re=_,k=m(re),t=k[0]==null?n:k[0],Ye=k[1]==null?n:k[1],nt=k[2]==null?n:k[2]),We(i("Range"),Ye)){if(o(nt)&&ye.$raise(i("TypeError"),"length invalid with range"),W=Ye.begin===n?0:ne(Ye.begin,i("Integer"),"to_int"),o(W<0)&&(W+=this.length),o(W<0)&&ye.$raise(i("RangeError"),""+Ye.$inspect()+" out of range"),H=Ye.end===n?-1:ne(Ye.end,i("Integer"),"to_int"),o(H<0)&&(H+=this.length),o(Ye["$exclude_end?"]())||(H+=1),o(H<=W))return ke}else if(o(Ye))if(W=ne(Ye,i("Integer"),"to_int"),o(W<0)&&(W+=this.length),o(W<0)&&(W=0),o(nt)){if(H=ne(nt,i("Integer"),"to_int"),o(H==0))return ke;H+=W}else H=this.length;else W=0,H=this.length;if(o(W>this.length))for(T=this.length;T<H;T++)ke[T]=n;if(o(H>this.length)&&(this.length=H),o(Re))for(this.length;W<H;W++)O=Re(W),ke[W]=O;else for(this.length;W<H;W++)ke[W]=t;return ke},-1),Q(w,"$first",function(pe){var Re=this;return pe==null?Re.length===0?n:Re[0]:(pe=ne(pe,i("Integer"),"to_int"),pe<0&&ye.$raise(i("ArgumentError"),"negative array size"),Re.slice(0,pe))},-1),Q(w,"$flatten",function(pe){var Re=this;function He(_,k){var re=[],ke,Ye,nt,t;for(_=_.$to_a(),ke=0,Ye=_.length;ke<Ye;ke++){if(nt=_[ke],!F(nt,"$to_ary",!0)){re.push(nt);continue}if(t=nt.$to_ary(),t===n){re.push(nt);continue}switch(t.$$is_array||ye.$raise(i("TypeError")),t===Re&&ye.$raise(i("ArgumentError")),k){case void 0:re=re.concat(He(t));break;case 0:re.push(t);break;default:re.push.apply(re,He(t,k-1))}}return re}return pe!==void 0&&(pe=ne(pe,i("Integer"),"to_int")),He(Re,pe)},-1),Q(w,"$flatten!",function(pe){var Re=this;Se(Re);var He=Re.$flatten(pe);if(Re.length==He.length){for(var _=0,k=Re.length;_<k&&Re[_]===He[_];_++);if(_==k)return n}return Re.$replace(He),Re},-1),Q(w,"$freeze",function(){var pe=this;return o(pe["$frozen?"]())?pe:ge(pe)}),Q(w,"$hash",function(){var pe=this,Re=J===void 0,He=["A"],_=pe.$object_id(),k,re,ke;try{if(Re&&(J=Object.create(null)),J[_])return"self";for(ke in J)if(k=J[ke],pe["$eql?"](k))return"self";for(J[_]=pe,re=0;re<pe.length;re++)k=pe[re],He.push(k.$hash());return He.join(",")}finally{Re&&(J=void 0)}}),Q(w,"$include?",function(pe){for(var Re=this,He=0,_=Re.length;He<_;He++)if(Re[He]["$=="](pe))return!0;return!1}),Q(w,"$index",function Qe(pe){var Re=Qe.$$p||n,He=this;Qe.$$p=null;var _,k,re;if(pe!=null&&Re!==n&&He.$warn("warning: given block not used"),pe!=null){for(_=0,k=He.length;_<k;_++)if(He[_]["$=="](pe))return _}else if(Re!==n){for(_=0,k=He.length;_<k;_++)if(re=Re(He[_]),re!==!1&&re!==n)return _}else return He.$enum_for("index");return n},-1),Q(w,"$insert",function(pe,Re){var He,_,k=this;if(He=Pe(arguments,1),_=He,Se(k),pe=ne(pe,i("Integer"),"to_int"),_.length>0){if(pe<0&&(pe+=k.length+1,pe<0&&ye.$raise(i("IndexError"),""+pe+" is out of bounds")),pe>k.length)for(var re=k.length;re<pe;re++)k.push(n);k.splice.apply(k,[pe,0].concat(_))}return k},-2);var bt=[];Q(w,"$inspect",function(){var pe=this,Re=[],He=pe.$__id__(),_=!0;return function(){try{if(bt.indexOf(He)!==-1)return _=!1,"[...]";bt.push(He);for(var k=0,re=pe.length;k<re;k++){var ke=pe["$[]"](k);Re.push(Ce("Opal").$inspect(ke))}return"["+Re.join(", ")+"]"}finally{_&&bt.pop()}}()}),Q(w,"$intersection",function(pe){var Re,He,_=this;return Re=Pe(arguments),He=Re,be(He,"reduce",[_.$to_a().$dup()],function(re,ke){return re==null&&(re=n),ke==null&&(ke=n),re["$&"](ke)})},-1),Q(w,"$intersect?",function(pe){var Re=this;return Re.$intersection(pe)["$empty?"]()["$!"]()}),Q(w,"$join",function(pe){var Re=this;if(_e[","]==null&&(_e[","]=n),pe==null&&(pe=n),o(Re.length===0))return"";o(pe===n)&&(pe=_e[","]);var He=[],_,k,re,ke;for(_=0,k=Re.length;_<k;_++){if(re=Re[_],F(re,"$to_str")&&(ke=re.$to_str(),ke!==n)){He.push(ke.$to_s());continue}if(F(re,"$to_ary")&&(ke=re.$to_ary(),ke===Re&&ye.$raise(i("ArgumentError")),ke!==n)){He.push(ke.$join(pe));continue}if(F(re,"$to_s")&&(ke=re.$to_s(),ke!==n)){He.push(ke);continue}ye.$raise(i("NoMethodError").$new(""+Ce("Opal").$inspect(Re.$item())+" doesn't respond to #to_str, #to_ary or #to_s","to_str"))}return pe===n?He.join(""):He.join(Ae["$coerce_to!"](pe,i("String"),"to_str").$to_s())},-1),Q(w,"$keep_if",function Qe(){var pe=Qe.$$p||n,Re=this;return Qe.$$p=null,pe===n?be(Re,"enum_for",["keep_if"],function He(){var _=He.$$s==null?this:He.$$s;return _.$size()},{$$s:Re}):(Se(Re),lt(Re,o,pe),Re)}),Q(w,"$last",function(pe){var Re=this;return pe==null?Re.length===0?n:Re[Re.length-1]:(pe=ne(pe,i("Integer"),"to_int"),pe<0&&ye.$raise(i("ArgumentError"),"negative array size"),pe>Re.length&&(pe=Re.length),Re.slice(Re.length-pe,Re.length))},-1),Q(w,"$length",function(){var pe=this;return pe.length}),Q(w,"$max",function Qe(pe){var Re=Qe.$$p||n,He=this;return Qe.$$p=null,be(He.$each(),"max",[pe],Re.$to_proc())},-1),Q(w,"$min",function Qe(){var pe=Qe.$$p||n,Re=this;return Qe.$$p=null,be(Re.$each(),"min",[],pe.$to_proc())});function vt(Qe,pe){for(var Re=pe>=0?1:0;pe;)Re*=Qe,Qe--,pe--;return Re}return Q(w,"$permutation",function Qe(pe){var Re=Qe.$$p||n,He=this,_=n,k=n;if(Qe.$$p=null,Re===n)return be(He,"enum_for",["permutation",pe],function t(){var W=t.$$s==null?this:t.$$s;return vt(W.length,pe===void 0?W.length:pe)},{$$s:He});var re,ke,Ye;if(pe===void 0?pe=He.length:pe=ne(pe,i("Integer"),"to_int"),!(pe<0||He.length<pe))if(pe===0)e.yield1(Re,[]);else if(pe===1)for(var nt=0;nt<He.length;nt++)e.yield1(Re,[He[nt]]);else _=Ce("Array").$new(pe),k=Ce("Array").$new(He.length,!1),re=function(t,W,H,T,O){He=this;for(var c=0;c<He.length;c++)if(T["$[]"](c)["$!"]())if(W[H]=c,H<t-1)T[c]=!0,re.call(He,t,W,H+1,T,O),T[c]=!1;else{Ye=[];for(var N=0;N<W.length;N++)Ye.push(He[W[N]]);D(O,Ye)}},Re!==n?(ke=He.slice(),re.call(ke,pe,_,0,k,Re)):re.call(He,pe,_,0,k,Re);return He},-1),Q(w,"$repeated_permutation",function Qe(pe){var Re=Qe.$$p||n,He=this,_=n;if(Qe.$$p=null,_=Ae["$coerce_to!"](pe,i("Integer"),"to_int"),Re===n)return be(He,"enum_for",["repeated_permutation",_],function re(){var ke=re.$$s==null?this:re.$$s;return o(z(_,0))?ke.$size()["$**"](_):0},{$$s:He});function k(re,ke,Ye){if(ke.length==re){var nt=ke.slice();e.yield1(Re,nt);return}for(var t=0;t<Ye.length;t++)ke.push(Ye[t]),k(re,ke,Ye),ke.pop()}return k(_,[],He.slice()),He}),Q(w,"$pop",function(pe){var Re=this;return Se(Re),o(pe===void 0)?o(Re.length===0)?n:Re.pop():(pe=ne(pe,i("Integer"),"to_int"),o(pe<0)&&ye.$raise(i("ArgumentError"),"negative array size"),o(Re.length===0)?[]:o(pe===1)?[Re.pop()]:o(pe>Re.length)?Re.splice(0,Re.length):Re.splice(Re.length-pe,Re.length))},-1),Q(w,"$product",function Qe(pe){var Re=Qe.$$p||n,He,_,k=this;Qe.$$p=null,He=Pe(arguments),_=He;var re=Re!==n?null:[],ke=_.length+1,Ye=new Array(ke),nt=new Array(ke),t=new Array(ke),W,H,T,O,c=1;for(t[0]=k,W=1;W<ke;W++)t[W]=ne(_[W-1],i("Array"),"to_ary");for(W=0;W<ke;W++){if(O=t[W].length,O===0)return re||k;c*=O,c>2147483647&&ye.$raise(i("RangeError"),"too big to product"),nt[W]=O,Ye[W]=0}e:for(;;){for(T=[],W=0;W<ke;W++)T.push(t[W][Ye[W]]);for(re?re.push(T):e.yield1(Re,T),H=ke-1,Ye[H]++;Ye[H]===nt[H];){if(Ye[H]=0,--H<0)break e;Ye[H]++}}return re||k},-1),Q(w,"$push",function(pe){var Re,He,_=this;Re=Pe(arguments),He=Re,Se(_);for(var k=0,re=He.length;k<re;k++)_.push(He[k]);return _},-1),Q(w,"$rassoc",function(pe){for(var Re=this,He=0,_=Re.length,k;He<_;He++)if(k=Re[He],k.length&&k[1]!==void 0&&k[1]["$=="](pe))return k;return n}),Q(w,"$reject",function Qe(){var pe=Qe.$$p||n,Re=this;if(Qe.$$p=null,pe===n)return be(Re,"enum_for",["reject"],function ke(){var Ye=ke.$$s==null?this:ke.$$s;return Ye.$size()},{$$s:Re});for(var He=[],_=0,k=Re.length,re;_<k;_++)re=pe(Re[_]),(re===!1||re===n)&&He.push(Re[_]);return He}),Q(w,"$reject!",function Qe(){var pe=Qe.$$p||n,Re=this,He=n;return Qe.$$p=null,pe===n?be(Re,"enum_for",["reject!"],function _(){var k=_.$$s==null?this:_.$$s;return k.$size()},{$$s:Re}):(Se(Re),He=Re.$length(),be(Re,"delete_if",[],pe.$to_proc()),ae(Re.$length(),He)?n:Re)}),Q(w,"$replace",function(pe){var Re=this;return Se(Re),pe=We(i("Array"),pe)?pe.$to_a():ne(pe,i("Array"),"to_ary").$to_a(),Re.splice(0,Re.length),Re.push.apply(Re,pe),Re}),Q(w,"$reverse",function(){var pe=this;return pe.slice(0).reverse()}),Q(w,"$reverse!",function(){var pe=this;return Se(pe),pe.reverse()}),Q(w,"$reverse_each",function Qe(){var pe=Qe.$$p||n,Re=this;return Qe.$$p=null,pe===n?be(Re,"enum_for",["reverse_each"],function He(){var _=He.$$s==null?this:He.$$s;return _.$size()},{$$s:Re}):(be(Re.$reverse(),"each",[],pe.$to_proc()),Re)}),Q(w,"$rindex",function Qe(pe){var Re=Qe.$$p||n,He=this;Qe.$$p=null;var _,k;if(pe!=null&&Re!==n&&He.$warn("warning: given block not used"),pe!=null){for(_=He.length-1;_>=0&&!(_>=He.length);_--)if(He[_]["$=="](pe))return _}else if(Re!==n){for(_=He.length-1;_>=0&&!(_>=He.length);_--)if(k=Re(He[_]),k!==!1&&k!==n)return _}else if(pe==null)return He.$enum_for("rindex");return n},-1),Q(w,"$rotate",function(pe){var Re=this;pe==null&&(pe=1);var He,_,k,re;return pe=ne(pe,i("Integer"),"to_int"),Re.length===1?Re.slice():Re.length===0?[]:(He=Re.slice(),_=pe%He.length,k=He.slice(_),re=He.slice(0,_),k.concat(re))},-1),Q(w,"$rotate!",function(pe){var Re=this,He=n;return pe==null&&(pe=1),Se(Re),Re.length===0||Re.length===1?Re:(pe=ne(pe,i("Integer"),"to_int"),He=Re.$rotate(pe),Re.$replace(He))},-1),function(Qe,pe){var Re=qe(Qe,pe,"SampleRandom"),He=Re.$$prototype;return He.rng=n,Q(Re,"$initialize",K("rng")),Q(Re,"$rand",function(k){var re=this,ke=n;return ke=ne(re.rng.$rand(k),i("Integer"),"to_int"),o(ke<0)&&ye.$raise(i("RangeError"),"random value must be >= 0"),o(ke<k)||ye.$raise(i("RangeError"),"random value must be less than Array size"),ke})}(w,null),Q(w,"$sample",function(pe,Re){var He=this,_=n,k=n;if(o(pe===void 0))return He.$at(ye.$rand(He.length));if(o(Re===void 0)?o(_=Ae["$coerce_to?"](pe,i("Hash"),"to_hash"))?(Re=_,pe=n):(Re=n,pe=ne(pe,i("Integer"),"to_int")):(pe=ne(pe,i("Integer"),"to_int"),Re=ne(Re,i("Hash"),"to_hash")),o(pe)&&o(pe<0)&&ye.$raise(i("ArgumentError"),"count must be greater than 0"),o(Re)&&(k=Re["$[]"]("random")),k=o(k)&&o(k["$respond_to?"]("rand"))?Ce("SampleRandom").$new(k):ye,!o(pe))return He[k.$rand(He.length)];var re,ke,Ye,nt,t,W,H,T;switch(pe>He.length&&(pe=He.length),pe){case 0:return[];case 1:return[He[k.$rand(He.length)]];case 2:return nt=k.$rand(He.length),t=k.$rand(He.length-1),nt<=t&&t++,[He[nt],He[t]];default:if(He.length/pe>3){for(re=!1,ke=0,Ye=Ce("Array").$new(pe),nt=1,Ye[0]=k.$rand(He.length);nt<pe;){for(W=k.$rand(He.length),t=0;t<nt;){for(;W===Ye[t];){if(ke++,ke>100){re=!0;break}W=k.$rand(He.length)}if(re)break;t++}if(re)break;Ye[nt]=W,nt++}if(!re){for(nt=0;nt<pe;)Ye[nt]=He[Ye[nt]],nt++;return Ye}}Ye=He.slice();for(var O=0;O<pe;O++)H=k.$rand(He.length-O)+O,T=Ye[O],Ye[O]=Ye[H],Ye[H]=T;return pe===He.length?Ye:Ye["$[]"](0,pe)}},-1),Q(w,"$select",function Qe(){var pe=Qe.$$p||n,Re=this;if(Qe.$$p=null,pe===n)return be(Re,"enum_for",["select"],function Ye(){var nt=Ye.$$s==null?this:Ye.$$s;return nt.$size()},{$$s:Re});for(var He=[],_=0,k=Re.length,re,ke;_<k;_++)re=Re[_],ke=D(pe,re),o(ke)&&He.push(re);return He}),Q(w,"$select!",function Qe(){var pe=Qe.$$p||n,Re=this;if(Qe.$$p=null,pe===n)return be(Re,"enum_for",["select!"],function _(){var k=_.$$s==null?this:_.$$s;return k.$size()},{$$s:Re});Se(Re);var He=Re.length;return be(Re,"keep_if",[],pe.$to_proc()),Re.length===He?n:Re}),Q(w,"$shift",function(pe){var Re=this;return Se(Re),o(pe===void 0)?o(Re.length===0)?n:Oe(Re):(pe=ne(pe,i("Integer"),"to_int"),o(pe<0)&&ye.$raise(i("ArgumentError"),"negative array size"),o(Re.length===0)?[]:Re.splice(0,pe))},-1),Q(w,"$shuffle",function(pe){var Re=this;return Re.$dup().$to_a()["$shuffle!"](pe)},-1),Q(w,"$shuffle!",function(pe){var Re=this;Se(Re);var He,_=Re.length,k,re;for(pe!==void 0&&(pe=Ae["$coerce_to?"](pe,i("Hash"),"to_hash"),pe!==n&&(pe=pe["$[]"]("random"),pe!==n&&pe["$respond_to?"]("rand")&&(He=pe)));_;)He?(k=He.$rand(_).$to_int(),k<0&&ye.$raise(i("RangeError"),"random number too small "+k),k>=_&&ye.$raise(i("RangeError"),"random number too big "+k)):k=Re.$rand(_),re=Re[--_],Re[_]=Re[k],Re[k]=re;return Re},-1),Q(w,"$slice!",function(pe,Re){var He=this,_=n,k=n,re=n,ke=n,Ye=n;if(Se(He),_=n,o(Re===void 0))if(We(i("Range"),pe)){k=pe,_=He["$[]"](k),re=k.begin===n?0:ne(k.begin,i("Integer"),"to_int"),ke=k.end===n?-1:ne(k.end,i("Integer"),"to_int"),re<0&&(re+=He.length),ke<0?ke+=He.length:ke>=He.length&&(ke=He.length-1,k.excl&&(ke+=1));var nt=ke-re;k.excl&&k.end!==n?ke-=1:nt+=1,re<He.length&&re>=0&&ke<He.length&&ke>=0&&nt>0&&He.splice(re,nt)}else{if(Ye=ne(pe,i("Integer"),"to_int"),Ye<0&&(Ye+=He.length),Ye<0||Ye>=He.length)return n;_=He[Ye],Ye===0?He.shift():He.splice(Ye,1)}else{if(Ye=ne(pe,i("Integer"),"to_int"),Re=ne(Re,i("Integer"),"to_int"),Re<0)return n;_=He["$[]"](Ye,Re),Ye<0&&(Ye+=He.length),Ye+Re>He.length&&(Re=He.length-Ye),Ye<He.length&&Ye>=0&&He.splice(Ye,Re)}return _},-2),Q(w,"$sort",function Qe(){var pe=Qe.$$p||n,Re=this;return Qe.$$p=null,o(Re.length>1)?(pe===n&&(pe=function(He,_){return He["$<=>"](_)}),Re.slice().sort(function(He,_){var k=pe(He,_);return k===n&&ye.$raise(i("ArgumentError"),"comparison of "+He.$inspect()+" with "+_.$inspect()+" failed"),ue(k,0)?1:C(k,0)?-1:0})):Re}),Q(w,"$sort!",function Qe(){var pe=Qe.$$p||n,Re=this;Qe.$$p=null,Se(Re);var He;pe!==n?He=be(Re.slice(),"sort",[],pe.$to_proc()):He=Re.slice().$sort(),Re.length=0;for(var _=0,k=He.length;_<k;_++)Re.push(He[_]);return Re}),Q(w,"$sort_by!",function Qe(){var pe=Qe.$$p||n,Re=this;return Qe.$$p=null,pe===n?be(Re,"enum_for",["sort_by!"],function He(){var _=He.$$s==null?this:He.$$s;return _.$size()},{$$s:Re}):(Se(Re),Re.$replace(be(Re,"sort_by",[],pe.$to_proc())))}),Q(w,"$take",function(pe){var Re=this;return pe<0&&ye.$raise(i("ArgumentError")),Re.slice(0,pe)}),Q(w,"$take_while",function Qe(){var pe=Qe.$$p||n,Re=this;Qe.$$p=null;for(var He=[],_=0,k=Re.length,re,ke;_<k;_++){if(re=Re[_],ke=pe(re),ke===!1||ke===n)return He;He.push(re)}return He}),Q(w,"$to_a",function(){var pe=this;return pe.$$class===e.Array?pe:e.Array.$new(pe)}),Q(w,"$to_ary",Te),Q(w,"$to_h",function Qe(){var pe=Qe.$$p||n,Re=this,He=n;Qe.$$p=null,He=Re,pe!==n&&(He=be(He,"map",[],pe.$to_proc()));var _,k=He.length,re,ke,Ye,nt=Fe([],{});for(_=0;_<k;_++)re=Ae["$coerce_to?"](He[_],i("Array"),"to_ary"),re.$$is_array||ye.$raise(i("TypeError"),"wrong element type "+re.$class()+" at "+_+" (expected array)"),re.length!==2&&ye.$raise(i("ArgumentError"),"wrong array length at "+_+" (expected 2, was "+re.$length()+")"),ke=re[0],Ye=re[1],se(nt,ke,Ye);return nt}),Q(w,"$transpose",function(){var pe=this,Re=n,He=n;return o(pe["$empty?"]())?[]:(Re=[],He=n,be(pe,"each",[],function(k){var re=n;return k==null&&(k=n),k=We(i("Array"),k)?k.$to_a():ne(k,i("Array"),"to_ary").$to_a(),He=o(re=He)?re:k.length,ie(k.length,He)&&ye.$raise(i("IndexError"),"element size differs ("+k.length+" should be "+He+")"),be(k.length,"times",[],function(Ye){var nt,t=n;return Ye==null&&(Ye=n),t=o(re=Re["$[]"](Ye))?re:(nt=[Ye,[]],be(Re,"[]=",nt),nt[nt.length-1]),t["$<<"](k.$at(Ye))})}),Re)}),Q(w,"$union",function(pe){var Re,He,_=this;return Re=Pe(arguments),He=Re,be(He,"reduce",[_.$uniq()],function(re,ke){return re==null&&(re=n),ke==null&&(ke=n),re["$|"](ke)})},-1),Q(w,"$uniq",function Qe(){var pe=Qe.$$p||n,Re=this;Qe.$$p=null;var He=Fe([],{}),_,k,re,ke;if(pe===n)for(_=0,k=Re.length;_<k;_++)re=Re[_],he(He,re)===void 0&&se(He,re,re);else for(_=0,k=Re.length;_<k;_++)re=Re[_],ke=D(pe,re),he(He,ke)===void 0&&se(He,ke,re);return He.$values()}),Q(w,"$uniq!",function Qe(){var pe=Qe.$$p||n,Re=this;Qe.$$p=null,Se(Re);var He=Re.length,_=Fe([],{}),k,re,ke,Ye;for(k=0,re=He;k<re;k++){if(ke=Re[k],Ye=pe===n?ke:D(pe,ke),he(_,Ye)===void 0){se(_,Ye,ke);continue}Re.splice(k,1),re--,k--}return Re.length===He?n:Re}),Q(w,"$unshift",function(pe){var Re,He,_=this;Re=Pe(arguments),He=Re,Se(_);var k=_.length,re=He.length;if(re==0)return _;for(var ke=k-re,Ye=0;Ye<re;Ye++)_.push(_[ke+Ye]);for(var nt=k-1;nt-re>=0;)_[nt]=_[nt-re],nt--;for(var t=0;t<re;t++)_[t]=He[t];return _},-1),Q(w,"$values_at",function(pe){var Re,He,_=this,k=n;return Re=Pe(arguments),He=Re,k=[],be(He,"each",[],function re(ke){var Ye=re.$$s==null?this:re.$$s,nt=n,t=n,W=n;return ke==null&&(ke=n),o(ke["$is_a?"](i("Range")))?(nt=ke.$end()===n?-1:ne(ke.$end(),i("Integer"),"to_int"),t=ke.$begin()===n?0:ne(ke.$begin(),i("Integer"),"to_int"),t<0?(t=t+Ye.length,n):(nt<0&&(nt=nt+Ye.length),ke["$exclude_end?"]()&&ke.$end()!==n&&nt--,nt<t?n:be(t,"upto",[nt],function H(T){var O=H.$$s==null?this:H.$$s;return T==null&&(T=n),k["$<<"](O.$at(T))},{$$s:Ye}))):(W=ne(ke,i("Integer"),"to_int"),k["$<<"](Ye.$at(W)))},{$$s:_}),k},-1),Q(w,"$zip",function Qe(pe){var Re=Qe.$$p||n,He,_,k=this,re=n;Qe.$$p=null,He=Pe(arguments),_=He;var ke=[],Ye=k.length,nt,t,W,H,T;for(H=0,T=_.length;H<T;H++)if(t=_[H],!t.$$is_array){if(t.$$is_range||t.$$is_enumerator){_[H]=t.$take(Ye);continue}_[H]=(o(re=Ae["$coerce_to?"](t,i("Array"),"to_ary"))?re:Ae["$coerce_to!"](t,i("Enumerator"),"to_enum","each")).$to_a()}for(W=0;W<Ye;W++){for(nt=[k[W]],H=0,T=_.length;H<T;H++)t=_[H][W],t==null&&(t=n),nt[H+1]=t;ke[W]=nt}if(Re!==n){for(W=0;W<Ye;W++)e.yield1(Re,ke[W]);return n}return ke},-1),je(w,"$inherited",function(pe){pe.$$prototype.$to_a=function(){return this.slice(0,this.length)}}),Q(w,"$instance_variables",function Qe(){var pe=Qe.$$p||n,Re=this;return Qe.$$p=null,be(ze(Re,ce(Re,"instance_variables",Qe,!1,!0),"instance_variables",[],pe),"reject",[],function(_){var k=n;return _==null&&(_=n),o(k=/^@\d+$/.test(_))?k:_["$=="]("@length")})}),Q(w,"$pack",function(pe){return Pe(arguments),ye.$raise("To use Array#pack, you must first require 'corelib/array/pack'.")},-1),M(w,"append","push"),M(w,"filter","select"),M(w,"filter!","select!"),M(w,"map","collect"),M(w,"map!","collect!"),M(w,"prepend","unshift"),M(w,"size","length"),M(w,"slice","[]"),M(w,"to_s","inspect"),Ae.$pristine(w.$singleton_class(),"allocate"),Ae.$pristine(w,"copy_instance_variables","initialize_dup")}("::",Array,s)};Opal.modules["corelib/hash"]=function(e){var o=e.yield1,p=e.hash,J=e.hash_init,D=e.hash_get,he=e.hash_put,se=e.hash_delete,le=e.deny_frozen_access,ne=e.freeze,F=e.klass,Se=e.slice,ge=e.Opal,qe=e.Kernel,Pe=e.defs,je=e.def,ye=e.send,Q=e.rb_ge,Ae=e.rb_gt,We=e.hash2,Fe=e.truthy,ze=e.to_a,ce=e.return_self,be=e.alias,ue=e.top,Le=[],ae=e.nil,xe=e.$$$;return e.add_stubs("require,include,coerce_to?,[],merge!,allocate,raise,coerce_to!,each,fetch,>=,>,==,compare_by_identity,lambda?,abs,arity,enum_for,size,respond_to?,class,dig,except!,dup,delete,new,inspect,map,to_proc,flatten,frozen?,eql?,default,default_proc,default_proc=,default=,to_h,proc,clone,select,select!,has_key?,indexes,index,length,[]=,has_value?"),ue.$require("corelib/enumerable"),function(ee,m,_e){var z=F(ee,m,"Hash"),K=[z].concat(_e),C=e.$r(K);z.$include(xe("Enumerable")),z.$$prototype.$$is_hash=!0,Pe(z,"$[]",function(M){var d,s,n=this;d=Se(arguments),s=d;var i,$=s.length,a;if($===1){if(i=ge["$coerce_to?"](s["$[]"](0),xe("Hash"),"to_hash"),i!==ae)return n.$allocate()["$merge!"](i);for(s=ge["$coerce_to?"](s["$[]"](0),xe("Array"),"to_ary"),s===ae&&qe.$raise(xe("ArgumentError"),"odd number of arguments for Hash"),$=s.length,i=n.$allocate(),a=0;a<$;a++)if(s[a].$$is_array)switch(s[a].length){case 1:i.$store(s[a][0],ae);break;case 2:i.$store(s[a][0],s[a][1]);break;default:qe.$raise(xe("ArgumentError"),"invalid number of elements ("+s[a].length+" for 1..2)")}return i}for($%2!==0&&qe.$raise(xe("ArgumentError"),"odd number of arguments for Hash"),i=n.$allocate(),a=0;a<$;a+=2)i.$store(s[a],s[a+1]);return i},-1),Pe(z,"$allocate",function(){var M=this,d=new M.$$constructor;return J(d),d.$$none=ae,d.$$proc=ae,d}),Pe(z,"$try_convert",function(M){return ge["$coerce_to?"](M,xe("Hash"),"to_hash")}),je(z,"$initialize",function ie(M){var d=ie.$$p||ae,s=this;return ie.$$p=null,le(s),M!==void 0&&d!==ae&&qe.$raise(xe("ArgumentError"),"wrong number of arguments (1 for 0)"),s.$$none=M===void 0?ae:M,s.$$proc=d,s},-1),je(z,"$==",function(M){var d=this;if(d===M)return!0;if(!M.$$is_hash||d.$$keys.length!==M.$$keys.length)return!1;for(var s=0,n=d.$$keys,i=n.length,$,a,b;s<i;s++)if($=n[s],$.$$is_string?(a=d.$$smap[$],b=M.$$smap[$]):(a=$.value,b=D(M,$.key)),b===void 0||!a["$eql?"](b))return!1;return!0}),je(z,"$>=",function(M){var d=this,s=ae;return M=ge["$coerce_to!"](M,xe("Hash"),"to_hash"),d.$$keys.length<M.$$keys.length?!1:(s=!0,ye(M,"each",[],function n(i,$){var a=n.$$s==null?this:n.$$s,b=ae;if(i==null&&(i=ae),$==null&&($=ae),b=a.$fetch(i,null),b==null||b!==$){s=!1;return}},{$$s:d}),s)}),je(z,"$>",function(M){var d=this;return M=ge["$coerce_to!"](M,xe("Hash"),"to_hash"),d.$$keys.length<=M.$$keys.length?!1:Q(d,M)}),je(z,"$<",function(M){var d=this;return M=ge["$coerce_to!"](M,xe("Hash"),"to_hash"),Ae(M,d)}),je(z,"$<=",function(M){var d=this;return M=ge["$coerce_to!"](M,xe("Hash"),"to_hash"),Q(M,d)}),je(z,"$[]",function(M){var d=this,s=D(d,M);return s!==void 0?s:d.$default(M)}),je(z,"$[]=",function(M,d){var s=this;return le(s),he(s,M,d),d}),je(z,"$assoc",function(M){for(var d=this,s=0,n=d.$$keys,i=n.length,$;s<i;s++)if($=n[s],$.$$is_string){if($["$=="](M))return[$,d.$$smap[$]]}else if($.key["$=="](M))return[$.key,$.value];return ae}),je(z,"$clear",function(){var M=this;return le(M),J(M),M}),je(z,"$clone",function(){var M=this,d=new M.$$class;return J(d),e.hash_clone(M,d),d}),je(z,"$compact",function(){for(var M=this,d=p(),s=0,n=M.$$keys,i=n.length,$,a,b;s<i;s++)$=n[s],$.$$is_string?a=M.$$smap[$]:(a=$.value,$=$.key),a!==ae&&he(d,$,a);return d}),je(z,"$compact!",function(){var M=this;le(M);for(var d=!1,s=0,n=M.$$keys,i=n.length,$,a,b;s<i;s++)$=n[s],$.$$is_string?a=M.$$smap[$]:(a=$.value,$=$.key),a===ae&&se(M,$)!==void 0&&(d=!0,i--,s--);return d?M:ae}),je(z,"$compare_by_identity",function(){var M=this;le(M);var d,s,n,i=M.$$keys,$;if(M.$$by_identity)return M;if(M.$$keys.length===0)return M.$$by_identity=!0,M;for($=We([],{}).$compare_by_identity(),d=0,s=i.length;d<s;d++)n=i[d],n.$$is_string||(n=n.key),he($,n,D(M,n));return M.$$by_identity=!0,M.$$map=$.$$map,M.$$smap=$.$$smap,M}),je(z,"$compare_by_identity?",function(){var M=this;return M.$$by_identity===!0}),je(z,"$default",function(M){var d=this;return M!==void 0&&d.$$proc!==ae&&d.$$proc!==void 0?d.$$proc.$call(d,M):d.$$none===void 0?ae:d.$$none},-1),je(z,"$default=",function(M){var d=this;return le(d),d.$$proc=ae,d.$$none=M,M}),je(z,"$default_proc",function(){var M=this;return M.$$proc!==void 0?M.$$proc:ae}),je(z,"$default_proc=",function(M){var d=this;le(d);var s=M;return s!==ae&&(s=ge["$coerce_to!"](s,xe("Proc"),"to_proc"),s["$lambda?"]()&&s.$arity().$abs()!==2&&qe.$raise(xe("TypeError"),"default_proc takes two arguments")),d.$$none=ae,d.$$proc=s,M}),je(z,"$delete",function ie(M){var d=ie.$$p||ae,s=this;ie.$$p=null,le(s);var n=se(s,M);return n!==void 0?n:d!==ae?e.yield1(d,M):ae}),je(z,"$delete_if",function ie(){var M=ie.$$p||ae,d=this;if(ie.$$p=null,!Fe(M))return ye(d,"enum_for",["delete_if"],function w(){var Y=w.$$s==null?this:w.$$s;return Y.$size()},{$$s:d});le(d);for(var s=0,n=d.$$keys,i=n.length,$,a,b;s<i;s++)$=n[s],$.$$is_string?a=d.$$smap[$]:(a=$.value,$=$.key),b=M($,a),b!==!1&&b!==ae&&se(d,$)!==void 0&&(i--,s--);return d}),je(z,"$dig",function(M,d){var s,n,i=this,$=ae;return s=Se(arguments,1),n=s,$=i["$[]"](M),$===ae||n.length===0?$:(Fe($["$respond_to?"]("dig"))||qe.$raise(xe("TypeError"),""+$.$class()+" does not have #dig method"),ye($,"dig",ze(n)))},-2),je(z,"$each",function ie(){var M=ie.$$p||ae,d=this;if(ie.$$p=null,!Fe(M))return ye(d,"enum_for",["each"],function b(){var w=b.$$s==null?this:b.$$s;return w.$size()},{$$s:d});for(var s=0,n=d.$$keys.slice(),i=n.length,$,a;s<i;s++)$=n[s],$.$$is_string?a=d.$$smap[$]:(a=$.value,$=$.key),o(M,[$,a]);return d}),je(z,"$each_key",function ie(){var M=ie.$$p||ae,d=this;if(ie.$$p=null,!Fe(M))return ye(d,"enum_for",["each_key"],function a(){var b=a.$$s==null?this:a.$$s;return b.$size()},{$$s:d});for(var s=0,n=d.$$keys.slice(),i=n.length,$;s<i;s++)$=n[s],M($.$$is_string?$:$.key);return d}),je(z,"$each_value",function ie(){var M=ie.$$p||ae,d=this;if(ie.$$p=null,!Fe(M))return ye(d,"enum_for",["each_value"],function a(){var b=a.$$s==null?this:a.$$s;return b.$size()},{$$s:d});for(var s=0,n=d.$$keys.slice(),i=n.length,$;s<i;s++)$=n[s],M($.$$is_string?d.$$smap[$]:$.value);return d}),je(z,"$empty?",function(){var M=this;return M.$$keys.length===0}),je(z,"$except",function(M){var d,s,n=this;return d=Se(arguments),s=d,ye(n.$dup(),"except!",ze(s))},-1),je(z,"$except!",function(M){var d,s,n=this;return d=Se(arguments),s=d,ye(s,"each",[],function i($){var a=i.$$s==null?this:i.$$s;return $==null&&($=ae),a.$delete($)},{$$s:n}),n},-1),je(z,"$fetch",function ie(M,d){var s=ie.$$p||ae,n=this;ie.$$p=null;var i=D(n,M);return i!==void 0?i:s!==ae?s(M):d!==void 0?d:qe.$raise(xe("KeyError").$new("key not found: "+M.$inspect(),We(["key","receiver"],{key:M,receiver:n})))},-2),je(z,"$fetch_values",function ie(M){var d=ie.$$p||ae,s,n,i=this;return ie.$$p=null,s=Se(arguments),n=s,ye(n,"map",[],function $(a){var b=$.$$s==null?this:$.$$s;return a==null&&(a=ae),ye(b,"fetch",[a],d.$to_proc())},{$$s:i})},-1),je(z,"$flatten",function(M){var d=this;M==null&&(M=1),M=ge["$coerce_to!"](M,xe("Integer"),"to_int");for(var s=[],n=0,i=d.$$keys,$=i.length,a,b;n<$;n++){if(a=i[n],a.$$is_string?b=d.$$smap[a]:(b=a.value,a=a.key),s.push(a),b.$$is_array){if(M===1){s.push(b);continue}s=s.concat(b.$flatten(M-2));continue}s.push(b)}return s},-1),je(z,"$freeze",function(){var M=this;return Fe(M["$frozen?"]())?M:ne(M)}),je(z,"$has_key?",function(M){var d=this;return D(d,M)!==void 0}),je(z,"$has_value?",function(M){for(var d=this,s=0,n=d.$$keys,i=n.length,$;s<i;s++)if($=n[s],($.$$is_string?d.$$smap[$]:$.value)["$=="](M))return!0;return!1}),je(z,"$hash",function(){var M=this,d=e.hash_ids===void 0,s=M.$object_id(),n=["Hash"],i,$;try{if(d&&(e.hash_ids=Object.create(null)),e[s])return"self";for(i in e.hash_ids)if($=e.hash_ids[i],M["$eql?"]($))return"self";e.hash_ids[s]=M;for(var a=0,b=M.$$keys,w=b.length;a<w;a++)i=b[a],i.$$is_string?n.push([i,M.$$smap[i].$hash()]):n.push([i.key_hash,i.value.$hash()]);return n.sort().join()}finally{d&&(e.hash_ids=void 0)}}),je(z,"$index",function(M){for(var d=this,s=0,n=d.$$keys,i=n.length,$,a;s<i;s++)if($=n[s],$.$$is_string?a=d.$$smap[$]:(a=$.value,$=$.key),a["$=="](M))return $;return ae}),je(z,"$indexes",function(M){var d,s,n=this;d=Se(arguments),s=d;for(var i=[],$=0,a=s.length,b,w;$<a;$++){if(b=s[$],w=D(n,b),w===void 0){i.push(n.$default());continue}i.push(w)}return i},-1);var Te;return je(z,"$inspect",function(){var M=this,d=Te===void 0,s=M.$object_id(),n=[];return function(){try{if(d&&(Te={}),Te.hasOwnProperty(s))return"{...}";Te[s]=!0;for(var i=0,$=M.$$keys,a=$.length,b,w;i<a;i++)b=$[i],b.$$is_string?w=M.$$smap[b]:(w=b.value,b=b.key),b=C("Opal").$inspect(b),w=C("Opal").$inspect(w),n.push(b+"=>"+w);return"{"+n.join(", ")+"}"}finally{d&&(Te=void 0)}}()}),je(z,"$invert",function(){for(var M=this,d=p(),s=0,n=M.$$keys,i=n.length,$,a;s<i;s++)$=n[s],$.$$is_string?a=M.$$smap[$]:(a=$.value,$=$.key),he(d,a,$);return d}),je(z,"$keep_if",function ie(){var M=ie.$$p||ae,d=this;if(ie.$$p=null,!Fe(M))return ye(d,"enum_for",["keep_if"],function w(){var Y=w.$$s==null?this:w.$$s;return Y.$size()},{$$s:d});le(d);for(var s=0,n=d.$$keys,i=n.length,$,a,b;s<i;s++)$=n[s],$.$$is_string?a=d.$$smap[$]:(a=$.value,$=$.key),b=M($,a),(b===!1||b===ae)&&se(d,$)!==void 0&&(i--,s--);return d}),je(z,"$keys",function(){for(var M=this,d=[],s=0,n=M.$$keys,i=n.length,$;s<i;s++)$=n[s],$.$$is_string?d.push($):d.push($.key);return d}),je(z,"$length",function(){var M=this;return M.$$keys.length}),je(z,"$merge",function ie(M){var d=ie.$$p||ae,s,n,i=this;return ie.$$p=null,s=Se(arguments),n=s,ye(i.$dup(),"merge!",ze(n),d.$to_proc())},-1),je(z,"$merge!",function ie(M){var d=ie.$$p||ae,s,n,i=this;ie.$$p=null,s=Se(arguments),n=s,le(i);var $,a,b,w,Y,Ce,Oe,ot;for($=0;$<n.length;++$)if(b=ge["$coerce_to!"](n[$],xe("Hash"),"to_hash"),w=b.$$keys,Y=w.length,d===ae)for(a=0;a<Y;a++)Ce=w[a],Ce.$$is_string?ot=b.$$smap[Ce]:(ot=Ce.value,Ce=Ce.key),he(i,Ce,ot);else for(a=0;a<Y;a++){if(Ce=w[a],Ce.$$is_string?ot=b.$$smap[Ce]:(ot=Ce.value,Ce=Ce.key),Oe=D(i,Ce),Oe===void 0){he(i,Ce,ot);continue}he(i,Ce,d(Ce,Oe,ot))}return i},-1),je(z,"$rassoc",function(M){for(var d=this,s=0,n=d.$$keys,i=n.length,$,a;s<i;s++)if($=n[s],$.$$is_string?a=d.$$smap[$]:(a=$.value,$=$.key),a["$=="](M))return[$,a];return ae}),je(z,"$rehash",function(){var M=this;return le(M),e.hash_rehash(M),M}),je(z,"$reject",function ie(){var M=ie.$$p||ae,d=this;if(ie.$$p=null,!Fe(M))return ye(d,"enum_for",["reject"],function Y(){var Ce=Y.$$s==null?this:Y.$$s;return Ce.$size()},{$$s:d});for(var s=p(),n=0,i=d.$$keys,$=i.length,a,b,w;n<$;n++)a=i[n],a.$$is_string?b=d.$$smap[a]:(b=a.value,a=a.key),w=M(a,b),(w===!1||w===ae)&&he(s,a,b);return s}),je(z,"$reject!",function ie(){var M=ie.$$p||ae,d=this;if(ie.$$p=null,!Fe(M))return ye(d,"enum_for",["reject!"],function Y(){var Ce=Y.$$s==null?this:Y.$$s;return Ce.$size()},{$$s:d});le(d);for(var s=!1,n=0,i=d.$$keys,$=i.length,a,b,w;n<$;n++)a=i[n],a.$$is_string?b=d.$$smap[a]:(b=a.value,a=a.key),w=M(a,b),w!==!1&&w!==ae&&se(d,a)!==void 0&&(s=!0,$--,n--);return s?d:ae}),je(z,"$replace",function(M){var d=this;le(d),M=ge["$coerce_to!"](M,xe("Hash"),"to_hash"),J(d);for(var s=0,n=M.$$keys,i=n.length,$,a,b;s<i;s++)$=n[s],$.$$is_string?b=M.$$smap[$]:(b=$.value,$=$.key),he(d,$,b);return Fe(M.$default_proc())?d["$default_proc="](M.$default_proc()):d["$default="](M.$default()),d}),je(z,"$select",function ie(){var M=ie.$$p||ae,d=this;if(ie.$$p=null,!Fe(M))return ye(d,"enum_for",["select"],function Y(){var Ce=Y.$$s==null?this:Y.$$s;return Ce.$size()},{$$s:d});for(var s=p(),n=0,i=d.$$keys,$=i.length,a,b,w;n<$;n++)a=i[n],a.$$is_string?b=d.$$smap[a]:(b=a.value,a=a.key),w=M(a,b),w!==!1&&w!==ae&&he(s,a,b);return s}),je(z,"$select!",function ie(){var M=ie.$$p||ae,d=this;if(ie.$$p=null,!Fe(M))return ye(d,"enum_for",["select!"],function Y(){var Ce=Y.$$s==null?this:Y.$$s;return Ce.$size()},{$$s:d});le(d);for(var s=ae,n=0,i=d.$$keys,$=i.length,a,b,w;n<$;n++)a=i[n],a.$$is_string?b=d.$$smap[a]:(b=a.value,a=a.key),w=M(a,b),(w===!1||w===ae)&&(se(d,a)!==void 0&&($--,n--),s=d);return s}),je(z,"$shift",function(){var M=this;le(M);var d=M.$$keys,s;return d.length>0?(s=d[0],s=s.$$is_string?s:s.key,[s,se(M,s)]):ae}),je(z,"$slice",function(M){var d,s,n=this;d=Se(arguments),s=d;for(var i=p(),$=0,a=s.length;$<a;$++){var b=s[$],w=D(n,b);w!==void 0&&he(i,b,w)}return i},-1),je(z,"$to_a",function(){for(var M=this,d=[],s=0,n=M.$$keys,i=n.length,$,a;s<i;s++)$=n[s],$.$$is_string?a=M.$$smap[$]:(a=$.value,$=$.key),d.push([$,a]);return d}),je(z,"$to_h",function ie(){var M=ie.$$p||ae,d=this;if(ie.$$p=null,M!==ae)return ye(d,"map",[],M.$to_proc()).$to_h();if(d.$$class===e.Hash)return d;var s=new e.Hash;return J(s),e.hash_clone(d,s),s}),je(z,"$to_hash",ce),je(z,"$to_proc",function(){var M=this;return ye(M,"proc",[],function d(s){var n=d.$$s==null?this:d.$$s;return s==null&&qe.$raise(xe("ArgumentError"),"no key given"),n["$[]"](s)},{$$arity:-1,$$s:M})}),je(z,"$transform_keys",function ie(){var M=ie.$$p||ae,d=this;if(ie.$$p=null,!Fe(M))return ye(d,"enum_for",["transform_keys"],function w(){var Y=w.$$s==null?this:w.$$s;return Y.$size()},{$$s:d});for(var s=p(),n=0,i=d.$$keys,$=i.length,a,b;n<$;n++)a=i[n],a.$$is_string?b=d.$$smap[a]:(b=a.value,a=a.key),a=o(M,a),he(s,a,b);return s}),je(z,"$transform_keys!",function ie(){var M=ie.$$p||ae,d=this;if(ie.$$p=null,!Fe(M))return ye(d,"enum_for",["transform_keys!"],function w(){var Y=w.$$s==null?this:w.$$s;return Y.$size()},{$$s:d});le(d);var s=e.slice(d.$$keys),n,i=s.length,$,a,b;for(n=0;n<i;n++)$=s[n],$.$$is_string?a=d.$$smap[$]:(a=$.value,$=$.key),b=o(M,$),se(d,$),he(d,b,a);return d}),je(z,"$transform_values",function ie(){var M=ie.$$p||ae,d=this;if(ie.$$p=null,!Fe(M))return ye(d,"enum_for",["transform_values"],function w(){var Y=w.$$s==null?this:w.$$s;return Y.$size()},{$$s:d});for(var s=p(),n=0,i=d.$$keys,$=i.length,a,b;n<$;n++)a=i[n],a.$$is_string?b=d.$$smap[a]:(b=a.value,a=a.key),b=o(M,b),he(s,a,b);return s}),je(z,"$transform_values!",function ie(){var M=ie.$$p||ae,d=this;if(ie.$$p=null,!Fe(M))return ye(d,"enum_for",["transform_values!"],function b(){var w=b.$$s==null?this:b.$$s;return w.$size()},{$$s:d});le(d);for(var s=0,n=d.$$keys,i=n.length,$,a;s<i;s++)$=n[s],$.$$is_string?a=d.$$smap[$]:(a=$.value,$=$.key),a=o(M,a),he(d,$,a);return d}),je(z,"$values",function(){for(var M=this,d=[],s=0,n=M.$$keys,i=n.length,$;s<i;s++)$=n[s],$.$$is_string?d.push(M.$$smap[$]):d.push($.value);return d}),be(z,"dup","clone"),be(z,"each_pair","each"),be(z,"eql?","=="),be(z,"filter","select"),be(z,"filter!","select!"),be(z,"include?","has_key?"),be(z,"indices","indexes"),be(z,"key","index"),be(z,"key?","has_key?"),be(z,"member?","has_key?"),be(z,"size","length"),be(z,"store","[]="),be(z,"to_s","inspect"),be(z,"update","merge!"),be(z,"value?","has_value?"),be(z,"values_at","indexes")}("::",null,Le)};Opal.modules["corelib/number"]=function(e){var o=e.klass,p=e.Opal,J=e.Kernel,D=e.def,he=e.eqeqeq,se=e.truthy,le=e.rb_gt,ne=e.not,F=e.rb_lt,Se=e.alias,ge=e.send2,qe=e.find_super,Pe=e.send,je=e.rb_plus,ye=e.rb_minus,Q=e.eqeq,Ae=e.return_self,We=e.rb_divide,Fe=e.to_ary,ze=e.rb_times,ce=e.rb_le,be=e.rb_ge,ue=e.return_val,Le=e.const_set,ae=e.top,xe=[],ee=e.nil,m=e.$$$;return e.add_stubs("require,bridge,raise,name,class,Float,respond_to?,coerce_to!,__coerced__,===,>,!,**,new,<,to_f,==,nan?,infinite?,enum_for,+,-,gcd,lcm,%,/,frexp,to_i,ldexp,rationalize,*,<<,to_r,truncate,-@,size,<=,>=,inspect,angle,to_s,is_a?,abs,__id__,next,coerce_to?"),ae.$require("corelib/numeric"),function(_e,z,K){var C=o(_e,z,"Number");p.$bridge(Number,C),e.prop(C.$$prototype,"$$is_number",!0),C.$$is_number_class=!0,function(n,i){return D(n,"$allocate",function(){var a=this;return J.$raise(m("TypeError"),"allocator undefined for "+a.$name())}),e.udef(n,"$new"),ee}(e.get_singleton_class(C)),D(C,"$coerce",function(i){var $=this;if(i===ee)J.$raise(m("TypeError"),"can't convert "+i.$class()+" into Float");else{if(i.$$is_string)return[J.$Float(i),$];if(i["$respond_to?"]("to_f"))return[p["$coerce_to!"](i,m("Float"),"to_f"),$];if(i.$$is_number)return[i,$];J.$raise(m("TypeError"),"can't convert "+i.$class()+" into Float")}}),D(C,"$__id__",function(){var i=this;return i*2+1}),D(C,"$+",function(i){var $=this;return i.$$is_number?$+i:$.$__coerced__("+",i)}),D(C,"$-",function(i){var $=this;return i.$$is_number?$-i:$.$__coerced__("-",i)}),D(C,"$*",function(i){var $=this;return i.$$is_number?$*i:$.$__coerced__("*",i)}),D(C,"$/",function(i){var $=this;return i.$$is_number?$/i:$.$__coerced__("/",i)}),D(C,"$%",function(i){var $=this;if(i.$$is_number){if(i==-1/0)return i;if(i==0)J.$raise(m("ZeroDivisionError"),"divided by 0");else return i<0||$<0?($%i+i)%i:$%i}else return $.$__coerced__("%",i)}),D(C,"$&",function(i){var $=this;return i.$$is_number?$&i:$.$__coerced__("&",i)}),D(C,"$|",function(i){var $=this;return i.$$is_number?$|i:$.$__coerced__("|",i)}),D(C,"$^",function(i){var $=this;return i.$$is_number?$^i:$.$__coerced__("^",i)}),D(C,"$<",function(i){var $=this;return i.$$is_number?$<i:$.$__coerced__("<",i)}),D(C,"$<=",function(i){var $=this;return i.$$is_number?$<=i:$.$__coerced__("<=",i)}),D(C,"$>",function(i){var $=this;return i.$$is_number?$>i:$.$__coerced__(">",i)}),D(C,"$>=",function(i){var $=this;return i.$$is_number?$>=i:$.$__coerced__(">=",i)});var Te=function(n,i){return i.$$is_number?isNaN(n)||isNaN(i)?ee:n>i?1:n<i?-1:0:n.$__coerced__("<=>",i)};D(C,"$<=>",function(i){var $=this;try{return Te($,i)}catch(a){if(e.rescue(a,[m("ArgumentError")]))try{return ee}finally{e.pop_exception()}else throw a}}),D(C,"$<<",function(i){var $=this;return i=p["$coerce_to!"](i,m("Integer"),"to_int"),i>0?$<<i:$>>-i}),D(C,"$>>",function(i){var $=this;return i=p["$coerce_to!"](i,m("Integer"),"to_int"),i>0?$>>i:$<<-i}),D(C,"$[]",function(i){var $=this;return i=p["$coerce_to!"](i,m("Integer"),"to_int"),i<0?0:i>=32?$<0?1:0:$>>i&1}),D(C,"$+@",function(){var i=this;return+i}),D(C,"$-@",function(){var i=this;return-i}),D(C,"$~",function(){var i=this;return~i}),D(C,"$**",function(i){var $=this;return he(m("Integer"),i)?ne(m("Integer")["$==="]($))||se(le(i,0))?Math.pow($,i):m("Rational").$new($,1)["$**"](i):F($,0)&&(he(m("Float"),i)||he(m("Rational"),i))?m("Complex").$new($,0)["$**"](i.$to_f()):se(i.$$is_number!=null)?Math.pow($,i):$.$__coerced__("**",i)}),D(C,"$==",function(i){var $=this;return i.$$is_number?$.valueOf()===i.valueOf():i["$respond_to?"]("==")?i["$=="]($):!1}),Se(C,"===","=="),D(C,"$abs",function(){var i=this;return Math.abs(i)}),D(C,"$abs2",function(){var i=this;return Math.abs(i*i)}),D(C,"$allbits?",function(i){var $=this;return i=p["$coerce_to!"](i,m("Integer"),"to_int"),($&i)==i}),D(C,"$anybits?",function(i){var $=this;return i=p["$coerce_to!"](i,m("Integer"),"to_int"),($&i)!==0}),D(C,"$angle",function(){var i=this;return se(i["$nan?"]())?i:i==0?1/i>0?0:Math.PI:i<0?Math.PI:0}),D(C,"$bit_length",function(){var i=this;if(he(m("Integer"),i)||J.$raise(m("NoMethodError").$new("undefined method `bit_length` for "+i+":Float","bit_length")),i===0||i===-1)return 0;for(var $=0,a=i<0?~i:i;a!=0;)$+=1,a>>>=1;return $}),D(C,"$ceil",function(i){var $=this;i==null&&(i=0);var a=$.$to_f();if(a%1===0&&i>=0)return a;var b=Math.pow(10,i),w=Math.ceil(a*b)/b;return a%1===0&&(w=Math.round(w)),w},-1),D(C,"$chr",function(i){var $=this;return e.enc(String.fromCharCode($),i||"BINARY")},-1),D(C,"$denominator",function n(){var i=n.$$p||ee,$=this;return n.$$p=null,se($["$nan?"]())||se($["$infinite?"]())?1:ge($,qe($,"denominator",n,!1,!0),"denominator",[],i)}),D(C,"$downto",function n(i){var $=n.$$p||ee,a=this;if(n.$$p=null,$===ee)return Pe(a,"enum_for",["downto",i],function w(){var Y=w.$$s==null?this:w.$$s;return he(m("Numeric"),i)||J.$raise(m("ArgumentError"),"comparison of "+Y.$class()+" with "+i.$class()+" failed"),se(le(i,Y))?0:je(ye(Y,i),1)},{$$s:a});i.$$is_number||J.$raise(m("ArgumentError"),"comparison of "+a.$class()+" with "+i.$class()+" failed");for(var b=a;b>=i;b--)$(b);return a}),D(C,"$equal?",function(i){var $=this,a=ee;return se(a=$["$=="](i))?a:isNaN($)&&isNaN(i)}),D(C,"$even?",function(){var i=this;return i%2===0}),D(C,"$floor",function(i){var $=this;i==null&&(i=0);var a=$.$to_f();if(a%1===0&&i>=0)return a;var b=Math.pow(10,i),w=Math.floor(a*b)/b;return a%1===0&&(w=Math.round(w)),w},-1),D(C,"$gcd",function(i){var $=this;he(m("Integer"),i)||J.$raise(m("TypeError"),"not an integer");for(var a=Math.abs($),b=Math.abs(i);a>0;){var w=a;a=b%a,b=w}return b}),D(C,"$gcdlcm",function(i){var $=this;return[$.$gcd(i),$.$lcm(i)]}),D(C,"$integer?",function(){var i=this;return i%1===0}),D(C,"$is_a?",function n(i){var $=n.$$p||ee,a=this;return n.$$p=null,Q(i,m("Integer"))&&he(m("Integer"),a)||Q(i,m("Integer"))&&he(m("Integer"),a)||Q(i,m("Float"))&&he(m("Float"),a)?!0:ge(a,qe(a,"is_a?",n,!1,!0),"is_a?",[i],$)}),D(C,"$instance_of?",function n(i){var $=n.$$p||ee,a=this;return n.$$p=null,Q(i,m("Integer"))&&he(m("Integer"),a)||Q(i,m("Integer"))&&he(m("Integer"),a)||Q(i,m("Float"))&&he(m("Float"),a)?!0:ge(a,qe(a,"instance_of?",n,!1,!0),"instance_of?",[i],$)}),D(C,"$lcm",function(i){var $=this;return he(m("Integer"),i)||J.$raise(m("TypeError"),"not an integer"),$==0||i==0?0:Math.abs($*i/$.$gcd(i))}),D(C,"$next",function(){var i=this;return i+1}),D(C,"$nobits?",function(i){var $=this;return i=p["$coerce_to!"](i,m("Integer"),"to_int"),($&i)==0}),D(C,"$nonzero?",function(){var i=this;return i==0?ee:i}),D(C,"$numerator",function n(){var i=n.$$p||ee,$=this;return n.$$p=null,se($["$nan?"]())||se($["$infinite?"]())?$:ge($,qe($,"numerator",n,!1,!0),"numerator",[],i)}),D(C,"$odd?",function(){var i=this;return i%2!==0}),D(C,"$ord",Ae),D(C,"$pow",function(i,$){var a=this;return a==0&&J.$raise(m("ZeroDivisionError"),"divided by 0"),$===void 0?a["$**"](i):(m("Integer")["$==="](i)||J.$raise(m("TypeError"),"Integer#pow() 2nd argument not allowed unless a 1st argument is integer"),i<0&&J.$raise(m("TypeError"),"Integer#pow() 1st argument cannot be negative when 2nd argument specified"),m("Integer")["$==="]($)||J.$raise(m("TypeError"),"Integer#pow() 2nd argument not allowed unless all arguments are integers"),$===0&&J.$raise(m("ZeroDivisionError"),"divided by 0"),a["$**"](i)["$%"]($))},-2),D(C,"$pred",function(){var i=this;return i-1}),D(C,"$quo",function n(i){var $=n.$$p||ee,a=this;return n.$$p=null,he(m("Integer"),a)?ge(a,qe(a,"quo",n,!1,!0),"quo",[i],$):We(a,i)}),D(C,"$rationalize",function(i){var $,a,b=this,w=ee,Y=ee;return arguments.length>1&&J.$raise(m("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),he(m("Integer"),b)?m("Rational").$new(b,1):se(b["$infinite?"]())?J.$raise(m("FloatDomainError"),"Infinity"):se(b["$nan?"]())?J.$raise(m("FloatDomainError"),"NaN"):se(i==null)?(a=m("Math").$frexp(b),$=Fe(a),w=$[0]==null?ee:$[0],Y=$[1]==null?ee:$[1],w=m("Math").$ldexp(w,m(m("Float"),"MANT_DIG")).$to_i(),Y=ye(Y,m(m("Float"),"MANT_DIG")),m("Rational").$new(ze(2,w),1["$<<"](ye(1,Y))).$rationalize(m("Rational").$new(1,1["$<<"](ye(1,Y))))):b.$to_r().$rationalize(i)},-1),D(C,"$remainder",function(i){var $=this;return ye($,ze(i,We($,i).$truncate()))}),D(C,"$round",function(i){var $,a,b=this,w=ee;if(he(m("Integer"),b)){if(se(i==null)||(he(m("Float"),i)&&se(i["$infinite?"]())&&J.$raise(m("RangeError"),"Infinity"),i=p["$coerce_to!"](i,m("Integer"),"to_int"),se(F(i,m(m("Integer"),"MIN")))&&J.$raise(m("RangeError"),"out of bounds"),se(i>=0)))return b;if(i=i["$-@"](),.415241*i-.125>b.$size())return 0;var Y=Math.pow(10,i),Ce=Math.floor((Math.abs(b)+Y/2)/Y)*Y;return b<0?-Ce:Ce}else{if(se(b["$nan?"]())&&se(i==null)&&J.$raise(m("FloatDomainError"),"NaN"),i=p["$coerce_to!"](i||0,m("Integer"),"to_int"),se(ce(i,0)))se(b["$nan?"]())?J.$raise(m("RangeError"),"NaN"):se(b["$infinite?"]())&&J.$raise(m("FloatDomainError"),"Infinity");else{if(Q(i,0))return Math.round(b);if(se(b["$nan?"]())||se(b["$infinite?"]()))return b}return a=m("Math").$frexp(b),$=Fe(a),$[0]==null||$[0],w=$[1]==null?ee:$[1],se(be(i,ye(je(m(m("Float"),"DIG"),2),se(le(w,0))?We(w,4):ye(We(w,3),1))))?b:se(F(i,(se(le(w,0))?je(We(w,3),1):We(w,4))["$-@"]()))?0:Math.round(b*Math.pow(10,i))/Math.pow(10,i)}},-1),D(C,"$times",function n(){var i=n.$$p||ee,$=this;if(n.$$p=null,!se(i))return Pe($,"enum_for",["times"],function b(){var w=b.$$s==null?this:b.$$s;return w},{$$s:$});for(var a=0;a<$;a++)i(a);return $}),D(C,"$to_f",Ae),D(C,"$to_i",function(){var i=this;return i<0?Math.ceil(i):Math.floor(i)}),D(C,"$to_r",function(){var i,$,a=this,b=ee,w=ee;return he(m("Integer"),a)?m("Rational").$new(a,1):($=m("Math").$frexp(a),i=Fe($),b=i[0]==null?ee:i[0],w=i[1]==null?ee:i[1],b=m("Math").$ldexp(b,m(m("Float"),"MANT_DIG")).$to_i(),w=ye(w,m(m("Float"),"MANT_DIG")),ze(b,m(m("Float"),"RADIX")["$**"](w)).$to_r())}),D(C,"$to_s",function(i){var $=this;return i==null&&(i=10),i=p["$coerce_to!"](i,m("Integer"),"to_int"),(se(F(i,2))||se(le(i,36)))&&J.$raise(m("ArgumentError"),"invalid radix "+i),Q($,0)&&se(1/$===-1/0)?"-0.0":$.toString(i)},-1),D(C,"$truncate",function(i){var $=this;i==null&&(i=0);var a=$.$to_f();if(a%1===0&&i>=0)return a;var b=Math.pow(10,i),w=parseInt(a*b,10)/b;return a%1===0&&(w=Math.round(w)),w},-1),D(C,"$digits",function(i){var $=this;i==null&&(i=10),F($,0)&&J.$raise(m(m("Math"),"DomainError"),"out of domain"),i=p["$coerce_to!"](i,m("Integer"),"to_int"),se(F(i,2))&&J.$raise(m("ArgumentError"),"invalid radix "+i),$!=parseInt($)&&J.$raise(m("NoMethodError"),"undefined method `digits' for "+$.$inspect());var a=$,b=[];if($==0)return[0];for(;a!=0;)b.push(a%i),a=parseInt(a/i,10);return b},-1),D(C,"$divmod",function n(i){var $=n.$$p||ee,a=this;return n.$$p=null,se(a["$nan?"]())||se(i["$nan?"]())?J.$raise(m("FloatDomainError"),"NaN"):se(a["$infinite?"]())?J.$raise(m("FloatDomainError"),"Infinity"):ge(a,qe(a,"divmod",n,!1,!0),"divmod",[i],$)}),D(C,"$upto",function n(i){var $=n.$$p||ee,a=this;if(n.$$p=null,$===ee)return Pe(a,"enum_for",["upto",i],function w(){var Y=w.$$s==null?this:w.$$s;return he(m("Numeric"),i)||J.$raise(m("ArgumentError"),"comparison of "+Y.$class()+" with "+i.$class()+" failed"),se(F(i,Y))?0:je(ye(i,Y),1)},{$$s:a});i.$$is_number||J.$raise(m("ArgumentError"),"comparison of "+a.$class()+" with "+i.$class()+" failed");for(var b=a;b<=i;b++)$(b);return a}),D(C,"$zero?",function(){var i=this;return i==0}),D(C,"$size",ue(4)),D(C,"$nan?",function(){var i=this;return isNaN(i)}),D(C,"$finite?",function(){var i=this;return i!=1/0&&i!=-1/0&&!isNaN(i)}),D(C,"$infinite?",function(){var i=this;return i==1/0?1:i==-1/0?-1:ee}),D(C,"$positive?",function(){var i=this;return i!=0&&(i==1/0||1/i>0)}),D(C,"$negative?",function(){var i=this;return i==-1/0||1/i<0});function ie(n){var i=new Uint8Array(8);return new DataView(i.buffer).setFloat64(0,n,!0),i}function M(n){return new DataView(n.buffer).getFloat64(0,!0)}function d(n){for(var i=ie(n),$=0;$<i.length;$++)if(i[$]===255)i[$]=0;else{i[$]++;break}return M(i)}function s(n){for(var i=ie(n),$=0;$<i.length;$++)if(i[$]===0)i[$]=255;else{i[$]--;break}return M(i)}return D(C,"$next_float",function(){var i=this;return Q(i,m(m("Float"),"INFINITY"))?m(m("Float"),"INFINITY"):se(i["$nan?"]())?m(m("Float"),"NAN"):be(i,0)?d(Math.abs(i)):s(i)}),D(C,"$prev_float",function(){var i=this;return Q(i,m(m("Float"),"INFINITY")["$-@"]())?m(m("Float"),"INFINITY")["$-@"]():se(i["$nan?"]())?m(m("Float"),"NAN"):le(i,0)?s(i):-d(Math.abs(i))}),Se(C,"arg","angle"),Se(C,"eql?","=="),Se(C,"fdiv","/"),Se(C,"inspect","to_s"),Se(C,"kind_of?","is_a?"),Se(C,"magnitude","abs"),Se(C,"modulo","%"),Se(C,"object_id","__id__"),Se(C,"phase","angle"),Se(C,"succ","next"),Se(C,"to_int","to_i")}("::",m("Numeric")),Le("::","Fixnum",m("Number")),function(_e,z,K){var C=o(_e,z,"Integer"),Te=[C].concat(K);return C.$$is_number_class=!0,C.$$is_integer_class=!0,function(ie,M){var d=[ie].concat(M),s=e.$r(d);return D(ie,"$allocate",function(){var i=this;return J.$raise(m("TypeError"),"allocator undefined for "+i.$name())}),e.udef(ie,"$new"),D(ie,"$sqrt",function(i){return i=p["$coerce_to!"](i,m("Integer"),"to_int"),i<0&&J.$raise(m(m("Math"),"DomainError"),'Numerical argument is out of domain - "isqrt"'),parseInt(Math.sqrt(i),10)}),D(ie,"$try_convert",function(i){var $=this;return s("Opal")["$coerce_to?"](i,$,"to_int")})}(e.get_singleton_class(C),Te),Le(C,"MAX",Math.pow(2,30)-1),Le(C,"MIN",-Math.pow(2,30))}("::",m("Numeric"),xe),function(_e,z,K){var C=o(_e,z,"Float");return C.$$is_number_class=!0,function(Te,ie){return D(Te,"$allocate",function(){var d=this;return J.$raise(m("TypeError"),"allocator undefined for "+d.$name())}),e.udef(Te,"$new"),D(Te,"$===",function(d){return!!d.$$is_number})}(e.get_singleton_class(C)),Le(C,"INFINITY",1/0),Le(C,"MAX",Number.MAX_VALUE),Le(C,"MIN",Number.MIN_VALUE),Le(C,"NAN",NaN),Le(C,"DIG",15),Le(C,"MANT_DIG",53),Le(C,"RADIX",2),Le(C,"EPSILON",Number.EPSILON||2220446049250313e-31)}("::",m("Numeric"))};Opal.modules["corelib/range"]=function(e){var o=e.klass,p=e.truthy,J=e.Kernel,D=e.def,he=e.not,se=e.send2,le=e.find_super,ne=e.rb_lt,F=e.rb_le,Se=e.send,ge=e.eqeq,qe=e.eqeqeq,Pe=e.return_ivar,je=e.rb_gt,ye=e.rb_minus,Q=e.Opal,Ae=e.rb_divide,We=e.rb_plus,Fe=e.rb_times,ze=e.rb_ge,ce=e.thrower,be=e.alias,ue=e.top,Le=[],ae=e.nil,xe=e.$$$;return e.add_stubs("require,include,attr_reader,raise,nil?,<=>,include?,!,<,<=,enum_for,size,upto,to_proc,respond_to?,class,succ,==,===,exclude_end?,eql?,begin,end,last,to_a,>,-@,-,to_i,coerce_to!,ceil,/,is_a?,new,loop,+,*,>=,each_with_index,%,step,bsearch,inspect,[],hash,cover?"),ue.$require("corelib/enumerable"),function(ee,m,_e){var z=o(ee,m,"Range"),K=[z].concat(_e),C=e.$r(K),Te=z.$$prototype;Te.begin=Te.end=Te.excl=ae,z.$include(xe("Enumerable")),z.$$prototype.$$is_range=!0,z.$attr_reader("begin","end"),D(z,"$initialize",function(d,s,n){var i=this;return n==null&&(n=!1),p(i.begin)&&J.$raise(xe("NameError"),"'initialize' called twice"),p(d["$<=>"](s))||p(d["$nil?"]())||p(s["$nil?"]())||J.$raise(xe("ArgumentError"),"bad value for range"),i.begin=d,i.end=s,i.excl=n},-3),D(z,"$===",function(d){var s=this;return s["$include?"](d)});function ie(M){return M.begin===ae||M.end===ae||M.begin===-1/0||M.end===1/0||M.begin===1/0||M.end===-1/0}return D(z,"$count",function M(){var d=M.$$p||ae,s=this;return M.$$p=null,he(d!==ae)&&p(ie(s))?xe(xe("Float"),"INFINITY"):se(s,le(s,"count",M,!1,!0),"count",[],d)}),D(z,"$to_a",function M(){var d=M.$$p||ae,s=this;return M.$$p=null,p(ie(s))&&J.$raise(xe("TypeError"),"cannot convert endless range to an array"),se(s,le(s,"to_a",M,!1,!0),"to_a",[],d)}),D(z,"$cover?",function(d){var s=this,n=ae,i=ae,$=ae,a=ae,b=ae;return n=p(i=p($=p(a=s.begin["$nil?"]())?-1:a)?$:s.begin["$<=>"](d))&&i,b=p(i=p($=p(a=s.end["$nil?"]())?-1:a)?$:d["$<=>"](s.end))&&i,p(i=p($=p(s.excl)?p(a=b)?ne(b,0):a:p(a=b)?F(b,0):a)?n:$)?F(n,0):i}),D(z,"$each",function M(){var d=M.$$p||ae,s=this,n=ae,i=ae,$=ae;if(M.$$p=null,d===ae)return Se(s,"enum_for",["each"],function w(){var Y=w.$$s==null?this:w.$$s;return Y.$size()},{$$s:s});var a,b;if(s.begin.$$is_number&&s.end.$$is_number){for((s.begin%1!==0||s.end%1!==0)&&J.$raise(xe("TypeError"),"can't iterate from Float"),a=s.begin,b=s.end+(p(s.excl)?0:1);a<b;a++)d(a);return s}if(s.begin.$$is_string&&s.end.$$is_string)return Se(s.begin,"upto",[s.end,s.excl],d.$to_proc()),s;for(n=s.begin,i=s.end,p(n["$respond_to?"]("succ"))||J.$raise(xe("TypeError"),"can't iterate from "+n.$class());p(p($=s.end["$nil?"]())?$:ne(n["$<=>"](i),0));)e.yield1(d,n),n=n.$succ();return he(s.excl)&&ge(n,i)&&e.yield1(d,n),s}),D(z,"$eql?",function(d){var s=this,n=ae,i=ae;return qe(xe("Range"),d)?p(n=p(i=s.excl["$==="](d["$exclude_end?"]()))?s.begin["$eql?"](d.$begin()):i)?s.end["$eql?"](d.$end()):n:!1}),D(z,"$exclude_end?",Pe("excl")),D(z,"$first",function M(d){var s=M.$$p||ae,n=this;return M.$$p=null,p(n.begin["$nil?"]())&&J.$raise(xe("RangeError"),"cannot get the minimum of beginless range"),p(d==null)?n.begin:se(n,le(n,"first",M,!1,!0),"first",[d],s)},-1),D(z,"$last",function(d){var s=this;return p(s.end["$nil?"]())&&J.$raise(xe("RangeError"),"cannot get the maximum of endless range"),p(d==null)?s.end:s.$to_a().$last(d)},-1),D(z,"$max",function M(){var d=M.$$p||ae,s=this;return M.$$p=null,p(s.end["$nil?"]())?J.$raise(xe("RangeError"),"cannot get the maximum of endless range"):d!==ae?se(s,le(s,"max",M,!1,!0),"max",[],d):he(s.begin["$nil?"]())&&(p(je(s.begin,s.end))||p(s.excl)&&ge(s.begin,s.end))?ae:s.excl?s.end-1:s.end}),D(z,"$min",function M(){var d=M.$$p||ae,s=this;return M.$$p=null,p(s.begin["$nil?"]())?J.$raise(xe("RangeError"),"cannot get the minimum of beginless range"):d!==ae?se(s,le(s,"min",M,!1,!0),"min",[],d):he(s.end["$nil?"]())&&(p(je(s.begin,s.end))||p(s.excl)&&ge(s.begin,s.end))?ae:s.begin}),D(z,"$size",function(){var d=this,s=ae,n=ae,i=ae;return s=xe(xe("Float"),"INFINITY"),ge(d.begin,s)&&he(d.end["$nil?"]())||ge(d.end,s["$-@"]())&&he(d.begin["$nil?"]())?0:p(ie(d))?s:qe(xe("Numeric"),d.begin)&&qe(xe("Numeric"),d.end)?(n=d.begin,i=d.end,p(d.excl)&&(i=ye(i,1)),p(ne(i,n))?0:(Math.abs(i-n)+1).$to_i()):ae}),D(z,"$step",function M(d){var s=M.$$p||ae,n=this,i=ae,$=ae;M.$$p=null;function a(){d==null?d=1:d.$$is_number||(d=Q["$coerce_to!"](d,xe("Integer"),"to_int")),d<0?J.$raise(xe("ArgumentError"),"step can't be negative"):d===0&&J.$raise(xe("ArgumentError"),"step can't be 0")}function b(){if(!n.begin["$respond_to?"]("succ")||n.begin.$$is_string&&n.end.$$is_string)return ae;if(d%1===0)return Ae(n.$size(),d).$ceil();var w=n.begin,Y=n.end,Ce=Math.abs,Oe=Math.floor,ot=(Ce(w)+Ce(Y)+Ce(Y-w))/Ce(d)*xe(xe("Float"),"EPSILON"),lt;return ot>.5&&(ot=.5),n.excl?(lt=Oe((Y-w)/d-ot),lt*d+w<Y&&lt++):lt=Oe((Y-w)/d+ot)+1,lt}return s===ae?(p(n.begin["$is_a?"](C("Numeric")))||p(n.begin["$nil?"]()))&&(p(n.end["$is_a?"](C("Numeric")))||p(n.end["$nil?"]()))&&he(p(i=n.begin["$nil?"]())?n.end["$nil?"]():i)?xe(xe("Enumerator"),"ArithmeticSequence").$new(n,d,"step"):Se(n,"enum_for",["step",d],function(){return a(),b()}):(a(),p(n.begin.$$is_number&&n.end.$$is_number)?($=0,function(){try{var w=ce("break");return Se(n,"loop",[],function Y(){var Ce=Y.$$s==null?this:Y.$$s,Oe=ae;return Ce.begin==null&&(Ce.begin=ae),Ce.excl==null&&(Ce.excl=ae),Ce.end==null&&(Ce.end=ae),Oe=We(Ce.begin,Fe($,d)),p(Ce.excl)?p(ze(Oe,Ce.end))&&w.$throw():p(je(Oe,Ce.end))&&w.$throw(),e.yield1(s,Oe),$=We($,1)},{$$s:n})}catch(Y){if(Y===w)return Y.$v;throw Y}}()):(n.begin.$$is_string&&n.end.$$is_string&&d%1!==0&&J.$raise(xe("TypeError"),"no implicit conversion to float from string"),Se(n,"each_with_index",[],function(Y,Ce){return Y==null&&(Y=ae),Ce==null&&(Ce=ae),ge(Ce["$%"](d),0)?e.yield1(s,Y):ae})),n)},-1),D(z,"$%",function(d){var s=this;return p(s.begin["$is_a?"](C("Numeric")))&&p(s.end["$is_a?"](C("Numeric")))?xe(xe("Enumerator"),"ArithmeticSequence").$new(s,d,"%"):s.$step(d)}),D(z,"$bsearch",function M(){var d=M.$$p||ae,s=this;return M.$$p=null,d===ae?s.$enum_for("bsearch"):(p(ie(s)&&(s.begin.$$is_number||s.end.$$is_number))&&J.$raise(xe("NotImplementedError"),"Can't #bsearch an infinite range"),p(s.begin.$$is_number&&s.end.$$is_number)||J.$raise(xe("TypeError"),"can't do binary search for "+s.begin.$class()),Se(s.$to_a(),"bsearch",[],d.$to_proc()))}),D(z,"$to_s",function(){var d=this,s=ae;return""+(p(s=d.begin)?s:"")+(p(d.excl)?"...":"..")+(p(s=d.end)?s:"")}),D(z,"$inspect",function(){var d=this,s=ae;return""+(p(s=d.begin)?d.begin.$inspect():s)+(p(d.excl)?"...":"..")+(p(s=d.end)?d.end.$inspect():s)}),D(z,"$marshal_load",function(d){var s=this;return s.begin=d["$[]"]("begin"),s.end=d["$[]"]("end"),s.excl=d["$[]"]("excl")}),D(z,"$hash",function(){var d=this;return[d.begin,d.end,d.excl].$hash()}),be(z,"==","eql?"),be(z,"include?","cover?"),be(z,"member?","cover?")}("::",null,Le)};Opal.modules["corelib/proc"]=function(e){var o=e.slice,p=e.klass,J=e.truthy,D=e.Kernel,he=e.defs,se=e.def,le=e.send,ne=e.to_a,F=e.return_self,Se=e.ensure_kwargs,ge=e.Opal,qe=e.alias,Pe=e.nil,je=e.$$$;return e.add_stubs("raise,proc,call,to_proc,new,source_location,coerce_to!,dup"),function(ye,Q){var Ae=p(ye,Q,"Proc");return e.prop(Ae.$$prototype,"$$is_proc",!0),e.prop(Ae.$$prototype,"$$is_lambda",!1),he(Ae,"$new",function We(){var Fe=We.$$p||Pe;return We.$$p=null,J(Fe)||D.$raise(je("ArgumentError"),"tried to create a Proc object without a block"),Fe}),se(Ae,"$call",function We(Fe){var ze=We.$$p||Pe,ce,be,ue=this;We.$$p=null,ce=o(arguments),be=ce,ze!==Pe&&(ue.$$p=ze);var Le,ae=ue.$$brk,xe=ue.$$ret;if(ae||xe&&ue.$$is_lambda)try{ue.$$is_lambda?Le=ue.apply(null,be):Le=e.yieldX(ue,be)}catch(ee){if(ee===ae)return ee.$v;if(ue.$$is_lambda&&ee===xe)return ee.$v;throw ee}else ue.$$is_lambda?Le=ue.apply(null,be):Le=e.yieldX(ue,be);return Le},-1),se(Ae,"$>>",function We(Fe){We.$$p;var ze=this;return We.$$p=null,le(D,"proc",[],function ce(be){var ue=ce.$$p||Pe,Le,ae,xe=ce.$$s==null?this:ce.$$s,ee=Pe;return ce.$$p=null,Le=o(arguments),ae=Le,ee=le(xe,"call",ne(ae),ue.$to_proc()),Fe.$call(ee)},{$$arity:-1,$$s:ze})}),se(Ae,"$<<",function We(Fe){We.$$p;var ze=this;return We.$$p=null,le(D,"proc",[],function ce(be){var ue=ce.$$p||Pe,Le,ae,xe=ce.$$s==null?this:ce.$$s,ee=Pe;return ce.$$p=null,Le=o(arguments),ae=Le,ee=le(Fe,"call",ne(ae),ue.$to_proc()),xe.$call(ee)},{$$arity:-1,$$s:ze})}),se(Ae,"$to_proc",F),se(Ae,"$lambda?",function(){var Fe=this;return!!Fe.$$is_lambda}),se(Ae,"$arity",function(){var Fe=this;return Fe.$$is_curried?-1:Fe.$$arity!=null?Fe.$$arity:Fe.length}),se(Ae,"$source_location",function(){var Fe=this,ze=Pe;return Fe.$$is_curried?Pe:J(ze=Fe.$$source_location)?ze:Pe}),se(Ae,"$binding",function(){var Fe=this;return Fe.$$is_curried&&D.$raise(je("ArgumentError"),"Can't create Binding"),J(je("::","Binding","skip_raise")?"constant":Pe)?je("Binding").$new(Pe,[],Fe.$$s,Fe.$source_location()):Pe}),se(Ae,"$parameters",function(Fe){var ze,ce=this;if(Fe=Se(Fe),ze=Fe.$$smap.lambda,ce.$$is_curried)return[["rest"]];if(ce.$$parameters){if(ze??ce.$$is_lambda)return ce.$$parameters;var be=[],ue,Le;for(ue=0,Le=ce.$$parameters.length;ue<Le;ue++){var ae=ce.$$parameters[ue];ae[0]==="req"&&(ae=["opt",ae[1]]),be.push(ae)}return be}else return[]},-1),se(Ae,"$curry",function(Fe){var ze=this;Fe===void 0?Fe=ze.length:(Fe=ge["$coerce_to!"](Fe,je("Integer"),"to_int"),ze.$$is_lambda&&Fe!==ze.length&&D.$raise(je("ArgumentError"),"wrong number of arguments ("+Fe+" for "+ze.length+")"));function ce(){var be=o(arguments),ue=be.length,Le;return ue>Fe&&ze.$$is_lambda&&!ze.$$is_curried&&D.$raise(je("ArgumentError"),"wrong number of arguments ("+ue+" for "+Fe+")"),ue>=Fe?ze.$call.apply(ze,be):(Le=function(){return ce.apply(null,be.concat(o(arguments)))},Le.$$is_lambda=ze.$$is_lambda,Le.$$is_curried=!0,Le)}return ce.$$is_lambda=ze.$$is_lambda,ce.$$is_curried=!0,ce},-1),se(Ae,"$dup",function(){var Fe=this,ze=Fe.$$original_proc||Fe,ce=function(){return ze.apply(this,arguments)};for(var be in Fe)Fe.hasOwnProperty(be)&&(ce[be]=Fe[be]);return ce}),qe(Ae,"===","call"),qe(Ae,"clone","dup"),qe(Ae,"yield","call"),qe(Ae,"[]","call")}("::",Function)};Opal.modules["corelib/method"]=function(e){var o=e.klass,p=e.def,J=e.truthy,D=e.slice,he=e.alias,se=e.Kernel,le=e.send,ne=e.to_a,F=e.nil,Se=e.$$$;return e.add_stubs("attr_reader,arity,curry,>>,<<,new,class,join,source_location,call,raise,bind,to_proc"),function(ge,qe){var Pe=o(ge,qe,"Method"),je=Pe.$$prototype;return je.method=je.receiver=je.owner=je.name=F,Pe.$attr_reader("owner","receiver","name"),p(Pe,"$initialize",function(Q,Ae,We,Fe){var ze=this;return ze.receiver=Q,ze.owner=Ae,ze.name=Fe,ze.method=We}),p(Pe,"$arity",function(){var Q=this;return Q.method.$arity()}),p(Pe,"$parameters",function(){var Q=this;return Q.method.$$parameters}),p(Pe,"$source_location",function(){var Q=this,Ae=F;return J(Ae=Q.method.$$source_location)?Ae:["(eval)",0]}),p(Pe,"$comments",function(){var Q=this,Ae=F;return J(Ae=Q.method.$$comments)?Ae:[]}),p(Pe,"$call",function ye(Q){var Ae=ye.$$p||F,We,Fe,ze=this;return ye.$$p=null,We=D(arguments),Fe=We,ze.method.$$p=Ae,ze.method.apply(ze.receiver,Fe)},-1),p(Pe,"$curry",function(Q){var Ae=this;return Ae.method.$curry(Q)},-1),p(Pe,"$>>",function(Q){var Ae=this;return Ae.method["$>>"](Q)}),p(Pe,"$<<",function(Q){var Ae=this;return Ae.method["$<<"](Q)}),p(Pe,"$unbind",function(){var Q=this;return Se("UnboundMethod").$new(Q.receiver.$class(),Q.owner,Q.method,Q.name)}),p(Pe,"$to_proc",function(){var Q=this,Ae=Q.$call.bind(Q);return Ae.$$unbound=Q.method,Ae.$$is_lambda=!0,Ae.$$arity=Q.method.$$arity==null?Q.method.length:Q.method.$$arity,Ae.$$parameters=Q.method.$$parameters,Ae}),p(Pe,"$inspect",function(){var Q=this;return"#<"+Q.$class()+": "+Q.receiver.$class()+"#"+Q.name+" (defined in "+Q.owner+" in "+Q.$source_location().$join(":")+")>"}),he(Pe,"[]","call"),he(Pe,"===","call")}("::",null),function(ge,qe){var Pe=o(ge,qe,"UnboundMethod"),je=Pe.$$prototype;return je.method=je.owner=je.name=je.source=F,Pe.$attr_reader("source","owner","name"),p(Pe,"$initialize",function(Q,Ae,We,Fe){var ze=this;return ze.source=Q,ze.owner=Ae,ze.method=We,ze.name=Fe}),p(Pe,"$arity",function(){var Q=this;return Q.method.$arity()}),p(Pe,"$parameters",function(){var Q=this;return Q.method.$$parameters}),p(Pe,"$source_location",function(){var Q=this,Ae=F;return J(Ae=Q.method.$$source_location)?Ae:["(eval)",0]}),p(Pe,"$comments",function(){var Q=this,Ae=F;return J(Ae=Q.method.$$comments)?Ae:[]}),p(Pe,"$bind",function(Q){var Ae=this;if(Ae.owner.$$is_module||e.is_a(Q,Ae.owner))return Se("Method").$new(Q,Ae.owner,Ae.method,Ae.name);se.$raise(Se("TypeError"),"can't bind singleton method to a different class (expected "+Q+".kind_of?("+Ae.owner+" to be true)")}),p(Pe,"$bind_call",function ye(Q,Ae){var We=ye.$$p||F,Fe,ze,ce=this;return ye.$$p=null,Fe=D(arguments,1),ze=Fe,le(ce.$bind(Q),"call",ne(ze),We.$to_proc())},-2),p(Pe,"$inspect",function(){var Q=this;return"#<"+Q.$class()+": "+Q.source+"#"+Q.name+" (defined in "+Q.owner+" in "+Q.$source_location().$join(":")+")>"})}("::",null)};Opal.modules["corelib/variables"]=function(e){var o=e.gvars,p=e.const_set,J=e.Object,D=e.hash2,he=e.nil;return e.add_stubs("new"),o["&"]=o["~"]=o["`"]=o["'"]=he,o.LOADED_FEATURES=o['"']=e.loaded_features,o.LOAD_PATH=o[":"]=[],o["/"]=`
`,o[","]=he,p("::","ARGV",[]),p("::","ARGF",J.$new()),p("::","ENV",D([],{})),o.VERBOSE=!1,o.DEBUG=!1,o.SAFE=0};Opal.modules["corelib/io"]=function(e){var o=e.klass,p=e.const_set,J=e.not,D=e.truthy,he=e.def,se=e.return_ivar,le=e.return_val,ne=e.slice,F=e.Kernel,Se=e.gvars,ge=e.send,qe=e.to_a,Pe=e.rb_plus,je=e.neqeq,ye=e.range,Q=e.hash2,Ae=e.eqeq,We=e.to_ary,Fe=e.rb_gt,ze=e.assign_ivar_val,ce=e.alias,be,ue=e.nil,Le=e.$$$;e.add_stubs("attr_reader,attr_accessor,!,match?,include?,size,write,String,flatten,puts,sysread_noraise,+,!=,[],ord,getc,readchar,raise,gets,==,to_str,length,split,sub,sysread,>,to_a,each_line,enum_for,getbyte,closed_write?,closed_read?,each,eof,new,write_proc=,read_proc="),function(xe,ee){var m=o(xe,ee,"IO"),_e=m.$$prototype;return _e.read_buffer=_e.closed=ue,p(m,"SEEK_SET",0),p(m,"SEEK_CUR",1),p(m,"SEEK_END",2),p(m,"SEEK_DATA",3),p(m,"SEEK_HOLE",4),p(m,"READABLE",1),p(m,"WRITABLE",4),m.$attr_reader("eof"),m.$attr_accessor("read_proc","sync","tty","write_proc"),he(m,"$initialize",function(K,C){var Te=this;return C==null&&(C="r"),Te.fd=K,Te.flags=C,Te.eof=!1,D(C["$include?"]("r"))&&J(C["$match?"](/[wa+]/))?Te.closed="write":D(C["$match?"](/[wa]/))&&J(C["$match?"](/[r+]/))?Te.closed="read":ue},-2),he(m,"$fileno",se("fd")),he(m,"$tty?",function(){var K=this;return K.tty==!0}),he(m,"$write",function(K){var C=this;return C.write_proc(K),K.$size()}),he(m,"$flush",le(ue)),he(m,"$<<",function(K){var C=this;return C.$write(K),C}),he(m,"$print",function(K){var C,Te,ie=this;Se[","]==null&&(Se[","]=ue),C=ne(arguments),Te=C;for(var M=0,d=Te.length;M<d;M++)Te[M]=F.$String(Te[M]);return ie.$write(Te.join(Se[","])),ue},-1),he(m,"$puts",function(K){var C,Te,ie=this;C=ne(arguments),Te=C;var M;if(Te.length===0)return ie.$write(`
`),ue;for(var d=0,s=Te.length;d<s;d++)if(Te[d].$$is_array){var n=Te[d].$flatten();n.length>0&&ge(ie,"puts",qe(n))}else Te[d].$$is_string?M=Te[d].valueOf():M=F.$String(Te[d]),M.endsWith(`
`)||(M+=`
`),ie.$write(M);return ue},-1),he(m,"$getc",function(){var K=this,C=ue,Te=ue,ie=ue;K.read_buffer=D(C=K.read_buffer)?C:"",Te="";do if(K.read_buffer=Pe(K.read_buffer,Te),je(K.read_buffer,""))return ie=K.read_buffer["$[]"](0),K.read_buffer=K.read_buffer["$[]"](ye(1,-1,!1)),ie;while(D(Te=K.$sysread_noraise(1)));return ue}),he(m,"$getbyte",function(){var K,C=this;return K=C.$getc(),K===ue||K==null?ue:K.$ord()}),he(m,"$readbyte",function(){var K=this;return K.$readchar().$ord()}),he(m,"$readchar",function(){var K=this,C=ue;return D(C=K.$getc())?C:F.$raise(Le("EOFError"),"end of file reached")}),he(m,"$readline",function(K){var C,Te,ie=this,M=ue;return C=ne(arguments),Te=C,D(M=ge(ie,"gets",qe(Te)))?M:F.$raise(Le("EOFError"),"end of file reached")},-1),he(m,"$gets",function(K,C,Te){var ie,M,d=this,s=ue,n=ue,i=ue,$=ue,a=ue,b=ue;Se["/"]==null&&(Se["/"]=ue),K==null&&(K=!1),C==null&&(C=ue),Te==null&&(Te=Q([],{})),D(K.$$is_number)&&J(C)&&(ie=[!1,K,C],K=ie[0],C=ie[1],Te=ie[2]),D(K.$$is_hash)&&J(C)&&Ae(Te,Q([],{}))?(ie=[!1,ue,K],K=ie[0],C=ie[1],Te=ie[2]):D(C.$$is_hash)&&Ae(Te,Q([],{}))&&(ie=[K,ue,C],K=ie[0],C=ie[1],Te=ie[2]),s=K,Ae(K,!1)&&(K=Se["/"]),Ae(K,"")&&(K=/\r?\n\r?\n/),K=D(n=K)?n:"",Ae(s,"")||(K=K.$to_str()),i=Ae(s,"")?2:K.$length(),Ae(K," ")&&(K=/ /),d.read_buffer=D(n=d.read_buffer)?n:"",$="",a=ue;do if(d.read_buffer=Pe(d.read_buffer,$),je(K,"")&&D(D(K.$$is_regexp)?d.read_buffer["$match?"](K):d.read_buffer["$include?"](K))){b=d.read_buffer,M=d.read_buffer.$split(K,2),ie=We(M),a=ie[0]==null?ue:ie[0],d.read_buffer=ie[1]==null?ue:ie[1],je(a,b)&&(a=Pe(a,b["$[]"](a.$length(),i)));break}while(D($=d.$sysread_noraise(Ae(K,"")?65536:1)));return D(a)||(ie=[D(n=d.read_buffer)?n:"",""],a=ie[0],d.read_buffer=ie[1],Ae(a,"")&&(a=ue)),D(a)&&(D(C)&&(a=a["$[]"](e.Range.$new(0,C,!0)),d.read_buffer=Pe(a["$[]"](e.Range.$new(C,-1,!1)),d.read_buffer)),D(Te["$[]"]("chomp"))&&(a=a.$sub(/\r?\n$/,"")),Ae(s,"")&&(a=a.$sub(/^[\r\n]+/,""))),Ae(s,!1)&&(Se._=a),a},-1),he(m,"$sysread",function(K){var C=this,Te=ue;return D(Te=C.read_proc(K))?Te:(C.eof=!0,F.$raise(Le("EOFError"),"end of file reached"))}),he(m,"$sysread_noraise",function(K){var C=this;try{return C.$sysread(K)}catch(Te){if(e.rescue(Te,[Le("EOFError")]))try{return ue}finally{e.pop_exception()}else throw Te}}),he(m,"$readpartial",function(K){var C,Te=this,ie=ue,M=ue,d=ue;return Te.read_buffer=D(ie=Te.read_buffer)?ie:"",M=Te.$sysread(K),C=[Pe(Te.read_buffer,D(ie=M)?ie:""),""],d=C[0],Te.read_buffer=C[1],Ae(d,"")&&(d=ue),d}),he(m,"$read",function(K){var C,Te=this,ie=ue,M=ue,d=ue;K==null&&(K=ue),Te.read_buffer=D(ie=Te.read_buffer)?ie:"",M="",d=ue;do if(Te.read_buffer=Pe(Te.read_buffer,M),D(K)&&D(Fe(Te.read_buffer.$length(),K)))return C=[Te.read_buffer["$[]"](e.Range.$new(0,K,!0)),Te.read_buffer["$[]"](e.Range.$new(K,-1,!1))],d=C[0],Te.read_buffer=C[1],d;while(D(M=Te.$sysread_noraise(D(ie=K)?ie:65536)));return C=[Te.read_buffer,""],d=C[0],Te.read_buffer=C[1],d},-1),he(m,"$readlines",function(K){var C=this;return Se["/"]==null&&(Se["/"]=ue),K==null&&(K=Se["/"]),C.$each_line(K).$to_a()},-1),he(m,"$each",function z(K,C){var Te=z.$$p||ue,ie,M,d,s=this,n=ue;if(Se["/"]==null&&(Se["/"]=ue),z.$$p=null,ie=ne(arguments),ie.length>0&&(M=ie.shift()),M==null&&(M=Se["/"]),d=ie,Te===ue)return ge(s,"enum_for",["each",M].concat(qe(d)));for(;D(n=ge(s,"gets",[M].concat(qe(d))));)e.yield1(Te,n);return s},-1),he(m,"$each_byte",function z(){var K=z.$$p||ue,C=this,Te=ue;if(z.$$p=null,K===ue)return C.$enum_for("each_byte");for(;D(Te=C.$getbyte());)e.yield1(K,Te);return C}),he(m,"$each_char",function z(){var K=z.$$p||ue,C=this,Te=ue;if(z.$$p=null,K===ue)return C.$enum_for("each_char");for(;D(Te=C.$getc());)e.yield1(K,Te);return C}),he(m,"$close",ze("closed","both")),he(m,"$close_read",function(){var K=this;return Ae(K.closed,"write")?K.closed="both":K.closed="read"}),he(m,"$close_write",function(){var K=this;return Ae(K.closed,"read")?K.closed="both":K.closed="write"}),he(m,"$closed?",function(){var K=this;return K.closed["$=="]("both")}),he(m,"$closed_read?",function(){var K=this,C=ue;return D(C=K.closed["$=="]("read"))?C:K.closed["$=="]("both")}),he(m,"$closed_write?",function(){var K=this,C=ue;return D(C=K.closed["$=="]("write"))?C:K.closed["$=="]("both")}),he(m,"$check_writable",function(){var K=this;return D(K["$closed_write?"]())?F.$raise(Le("IOError"),"not opened for writing"):ue}),he(m,"$check_readable",function(){var K=this;return D(K["$closed_read?"]())?F.$raise(Le("IOError"),"not opened for reading"):ue}),ce(m,"each_line","each"),ce(m,"eof?","eof")}("::",null),p("::","STDIN",Se.stdin=Le("IO").$new(0,"r")),p("::","STDOUT",Se.stdout=Le("IO").$new(1,"w")),p("::","STDERR",Se.stderr=Le("IO").$new(2,"w"));var ae=e.global.console;return Le("STDOUT")["$write_proc="](typeof process=="object"&&typeof process.stdout=="object"?function(xe){process.stdout.write(xe)}:function(xe){ae.log(xe)}),Le("STDERR")["$write_proc="](typeof process=="object"&&typeof process.stderr=="object"?function(xe){process.stderr.write(xe)}:function(xe){ae.warn(xe)}),be=[function(xe){var ee=prompt();return ee!==null?ee+`
`:ue}],ge(Le("STDIN"),"read_proc=",be),be[be.length-1]};Opal.modules["opal/regexp_anchors"]=function(e){var o=e.module,p=e.const_set,J=[];e.nil;var D=e.$$$;return e.add_stubs("new"),function(he,se){var le=o(he,"Opal"),ne=[le].concat(se),F=e.$r(ne);return p(le,"REGEXP_START","^"),p(le,"REGEXP_END","$"),p(le,"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),p(le,"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),p(le,"INLINE_IDENTIFIER_REGEXP",F("Regexp").$new("[^"+D(le,"FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+D(le,"FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]")),p(le,"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),p(le,"CONST_NAME_REGEXP",F("Regexp").$new(""+D(le,"REGEXP_START")+"(::)?[A-Z][^"+D(le,"FORBIDDEN_CONST_NAME_CHARS")+"]*"+D(le,"REGEXP_END")))}(J[0],J)};Opal.modules["opal/mini"]=function(e){var o=e.Object;return e.nil,e.add_stubs("require"),o.$require("opal/base"),o.$require("corelib/nil"),o.$require("corelib/boolean"),o.$require("corelib/string"),o.$require("corelib/comparable"),o.$require("corelib/enumerable"),o.$require("corelib/enumerator"),o.$require("corelib/array"),o.$require("corelib/hash"),o.$require("corelib/number"),o.$require("corelib/range"),o.$require("corelib/proc"),o.$require("corelib/method"),o.$require("corelib/regexp"),o.$require("corelib/variables"),o.$require("corelib/io"),o.$require("opal/regexp_anchors")};Opal.modules["corelib/kernel/format"]=function(e){var o=e.coerce_to,p=e.module,J=e.slice,D=e.truthy,he=e.eqeq,se=e.Opal,le=e.Kernel,ne=e.gvars,F=e.def,Se=e.alias,ge=e.nil,qe=e.$$$;return e.add_stubs("respond_to?,[],==,length,coerce_to?,nil?,to_a,raise,to_int,fetch,Integer,Float,to_ary,to_str,inspect,to_s,format"),function(Pe){var je=p(Pe,"Kernel");return F(je,"$format",function(Q,Ae){var We,Fe,ze=ge;ne.DEBUG==null&&(ne.DEBUG=ge),We=J(arguments,1),Fe=We,he(Fe.$length(),1)&&D(Fe["$[]"](0)["$respond_to?"]("to_ary"))&&(ze=se["$coerce_to?"](Fe["$[]"](0),qe("Array"),"to_ary"),D(ze["$nil?"]())||(Fe=ze.$to_a()));var ce="",be=0,ue,Le,ae=Q.length,xe,ee,m,_e,z,K,C,Te,ie,M,d,s,n,i=1,$=0,a,b=0,w=1,Y=2,Ce=4,Oe=8,ot=16,lt=32,gt=64,_t=128;function mt(){a&lt&&le.$raise(qe("ArgumentError"),"flag after width"),a&_t&&le.$raise(qe("ArgumentError"),"flag after precision")}function dt(){a&lt&&le.$raise(qe("ArgumentError"),"width given twice"),a&_t&&le.$raise(qe("ArgumentError"),"width after precision")}function bt(_){return _>=Fe.length&&le.$raise(qe("ArgumentError"),"too few arguments"),Fe[_]}function vt(){switch($){case-1:le.$raise(qe("ArgumentError"),"unnumbered("+i+") mixed with numbered");case-2:le.$raise(qe("ArgumentError"),"unnumbered("+i+") mixed with named")}return $=i++,bt($-1)}function Qe(_){return $>0&&le.$raise(qe("ArgumentError"),"numbered("+_+") after unnumbered("+$+")"),$===-2&&le.$raise(qe("ArgumentError"),"numbered("+_+") after named"),_<1&&le.$raise(qe("ArgumentError"),"invalid index - "+_+"$"),$=-1,bt(_-1)}function pe(){return n===void 0?vt():n}function Re(_){for(var k,re="";;Le++){if(Le===ae&&le.$raise(qe("ArgumentError"),"malformed format string - %*[0-9]"),Q.charCodeAt(Le)<48||Q.charCodeAt(Le)>57)return Le--,k=parseInt(re,10)||0,k>2147483647&&le.$raise(qe("ArgumentError"),""+_+" too big"),k;re+=Q.charAt(Le)}}function He(_){var k,re=Re(_);return Q.charAt(Le+1)==="$"?(Le++,k=Qe(re)):k=vt(),k.$to_int()}for(Le=Q.indexOf("%");Le!==-1;Le=Q.indexOf("%",Le)){switch(ee=void 0,a=b,_e=-1,z=-1,n=void 0,ue=Le,Le++,Q.charAt(Le)){case"%":be=Le;case"":case`
`:case"\0":Le++;continue}e:for(;Le<ae;Le++)switch(Q.charAt(Le)){case" ":mt(),a|=ot;continue e;case"#":mt(),a|=w;continue e;case"+":mt(),a|=Ce;continue e;case"-":mt(),a|=Y;continue e;case"0":mt(),a|=Oe;continue e;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":if(K=Re("width"),Q.charAt(Le+1)==="$"){if(Le+2===ae){ee="%",Le++;break e}n!==void 0&&le.$raise(qe("ArgumentError"),"value given twice - %"+K+"$"),n=Qe(K),Le++}else dt(),a|=lt,_e=K;continue e;case"<":case"{":for(Te=Q.charAt(Le)==="<"?">":"}",C="",Le++;;Le++){if(Le===ae&&le.$raise(qe("ArgumentError"),"malformed name - unmatched parenthesis"),Q.charAt(Le)===Te){if($>0&&le.$raise(qe("ArgumentError"),"named "+C+" after unnumbered("+$+")"),$===-1&&le.$raise(qe("ArgumentError"),"named "+C+" after numbered"),$=-2,(Fe[0]===void 0||!Fe[0].$$is_hash)&&le.$raise(qe("ArgumentError"),"one hash required"),n=Fe[0].$fetch(C),Te===">")continue e;if(ee=n.toString(),z!==-1&&(ee=ee.slice(0,z)),a&Y)for(;ee.length<_e;)ee=ee+" ";else for(;ee.length<_e;)ee=" "+ee;break e}C+=Q.charAt(Le)}case"*":Le++,dt(),a|=lt,_e=He("width"),_e<0&&(a|=Y,_e=-_e);continue e;case".":if(a&_t&&le.$raise(qe("ArgumentError"),"precision given twice"),a|=gt|_t,z=0,Le++,Q.charAt(Le)==="*"){Le++,z=He("precision"),z<0&&(a&=~gt);continue e}z=Re("precision");continue e;case"d":case"i":case"u":if(xe=le.$Integer(pe()),xe>=0){for(ee=xe.toString();ee.length<z;)ee="0"+ee;if(a&Y)for((a&Ce||a&ot)&&(ee=(a&Ce?"+":" ")+ee);ee.length<_e;)ee=ee+" ";else if(a&Oe&&z===-1){for(;ee.length<_e-(a&Ce||a&ot?1:0);)ee="0"+ee;(a&Ce||a&ot)&&(ee=(a&Ce?"+":" ")+ee)}else for((a&Ce||a&ot)&&(ee=(a&Ce?"+":" ")+ee);ee.length<_e;)ee=" "+ee}else{for(ee=(-xe).toString();ee.length<z;)ee="0"+ee;if(a&Y)for(ee="-"+ee;ee.length<_e;)ee=ee+" ";else if(a&Oe&&z===-1){for(;ee.length<_e-1;)ee="0"+ee;ee="-"+ee}else for(ee="-"+ee;ee.length<_e;)ee=" "+ee}break e;case"b":case"B":case"o":case"x":case"X":switch(Q.charAt(Le)){case"b":case"B":ie=2,M="0b",d=/^1+/,s="1";break;case"o":ie=8,M="0",d=/^3?7+/,s="7";break;case"x":case"X":ie=16,M="0x",d=/^f+/,s="f";break}if(xe=le.$Integer(pe()),xe>=0){for(ee=xe.toString(ie);ee.length<z;)ee="0"+ee;if(a&Y)for((a&Ce||a&ot)&&(ee=(a&Ce?"+":" ")+ee),a&w&&xe!==0&&(ee=M+ee);ee.length<_e;)ee=ee+" ";else if(a&Oe&&z===-1){for(;ee.length<_e-(a&Ce||a&ot?1:0)-(a&w&&xe!==0?M.length:0);)ee="0"+ee;a&w&&xe!==0&&(ee=M+ee),(a&Ce||a&ot)&&(ee=(a&Ce?"+":" ")+ee)}else for(a&w&&xe!==0&&(ee=M+ee),(a&Ce||a&ot)&&(ee=(a&Ce?"+":" ")+ee);ee.length<_e;)ee=" "+ee}else if(a&Ce||a&ot){for(ee=(-xe).toString(ie);ee.length<z;)ee="0"+ee;if(a&Y)for(a&w&&(ee=M+ee),ee="-"+ee;ee.length<_e;)ee=ee+" ";else if(a&Oe&&z===-1){for(;ee.length<_e-1-(a&w?2:0);)ee="0"+ee;a&w&&(ee=M+ee),ee="-"+ee}else for(a&w&&(ee=M+ee),ee="-"+ee;ee.length<_e;)ee=" "+ee}else{for(ee=(xe>>>0).toString(ie).replace(d,s);ee.length<z-2;)ee=s+ee;if(a&Y)for(ee=".."+ee,a&w&&(ee=M+ee);ee.length<_e;)ee=ee+" ";else if(a&Oe&&z===-1){for(;ee.length<_e-2-(a&w?M.length:0);)ee=s+ee;ee=".."+ee,a&w&&(ee=M+ee)}else for(ee=".."+ee,a&w&&(ee=M+ee);ee.length<_e;)ee=" "+ee}Q.charAt(Le)===Q.charAt(Le).toUpperCase()&&(ee=ee.toUpperCase());break e;case"f":case"e":case"E":case"g":case"G":if(xe=le.$Float(pe()),xe>=0||isNaN(xe)){if(xe===1/0)ee="Inf";else switch(Q.charAt(Le)){case"f":ee=xe.toFixed(z===-1?6:z);break;case"e":case"E":ee=xe.toExponential(z===-1?6:z);break;case"g":case"G":ee=xe.toExponential(),m=parseInt(ee.split("e")[1],10),m<-4||m>=(z===-1?6:z)||(ee=xe.toPrecision(z===-1?a&w?6:void 0:z));break}if(a&Y)for((a&Ce||a&ot)&&(ee=(a&Ce?"+":" ")+ee);ee.length<_e;)ee=ee+" ";else if(a&Oe&&xe!==1/0&&!isNaN(xe)){for(;ee.length<_e-(a&Ce||a&ot?1:0);)ee="0"+ee;(a&Ce||a&ot)&&(ee=(a&Ce?"+":" ")+ee)}else for((a&Ce||a&ot)&&(ee=(a&Ce?"+":" ")+ee);ee.length<_e;)ee=" "+ee}else{if(xe===-1/0)ee="Inf";else switch(Q.charAt(Le)){case"f":ee=(-xe).toFixed(z===-1?6:z);break;case"e":case"E":ee=(-xe).toExponential(z===-1?6:z);break;case"g":case"G":ee=(-xe).toExponential(),m=parseInt(ee.split("e")[1],10),m<-4||m>=(z===-1?6:z)||(ee=(-xe).toPrecision(z===-1?a&w?6:void 0:z));break}if(a&Y)for(ee="-"+ee;ee.length<_e;)ee=ee+" ";else if(a&Oe&&xe!==-1/0){for(;ee.length<_e-1;)ee="0"+ee;ee="-"+ee}else for(ee="-"+ee;ee.length<_e;)ee=" "+ee}Q.charAt(Le)===Q.charAt(Le).toUpperCase()&&xe!==1/0&&xe!==-1/0&&!isNaN(xe)&&(ee=ee.toUpperCase()),ee=ee.replace(/([eE][-+]?)([0-9])$/,"$10$2");break e;case"a":case"A":le.$raise(qe("NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");case"c":if(xe=pe(),xe["$respond_to?"]("to_ary")&&(xe=xe.$to_ary()[0]),xe["$respond_to?"]("to_str")?ee=xe.$to_str():ee=String.fromCharCode(o(xe,qe("Integer"),"to_int")),ee.length!==1&&le.$raise(qe("ArgumentError"),"%c requires a character"),a&Y)for(;ee.length<_e;)ee=ee+" ";else for(;ee.length<_e;)ee=" "+ee;break e;case"p":if(ee=pe().$inspect(),z!==-1&&(ee=ee.slice(0,z)),a&Y)for(;ee.length<_e;)ee=ee+" ";else for(;ee.length<_e;)ee=" "+ee;break e;case"s":if(ee=pe().$to_s(),z!==-1&&(ee=ee.slice(0,z)),a&Y)for(;ee.length<_e;)ee=ee+" ";else for(;ee.length<_e;)ee=" "+ee;break e;default:le.$raise(qe("ArgumentError"),"malformed format string - %"+Q.charAt(Le))}ee===void 0&&le.$raise(qe("ArgumentError"),"malformed format string - %"),ce+=Q.slice(be,ue)+ee,be=Le+1}return ne.DEBUG&&$>=0&&i<Fe.length&&le.$raise(qe("ArgumentError"),"too many arguments for format string"),ce+Q.slice(be)},-2),Se(je,"sprintf","format")}("::")};Opal.modules["corelib/string/encoding"]=function(e){var o=e.klass,p=e.hash2,J=e.rb_plus,D=e.truthy,he=e.send,se=e.defs,le=e.eqeq,ne=e.def,F=e.return_ivar,Se=e.return_val,ge=e.slice,qe=e.Kernel,Pe=e.Opal,je=e.rb_lt,ye,Q=e.top,Ae=[],We=e.$r(Ae),Fe=e.nil,ze=e.$$$;return e.add_stubs("require,+,[],clone,initialize,new,instance_eval,to_proc,each,const_set,tr,==,default_external,attr_accessor,singleton_class,attr_reader,raise,register,length,bytes,force_encoding,dup,bytesize,enum_for,each_byte,to_a,each_char,each_codepoint,coerce_to!,find,<,default_external="),Q.$require("corelib/string"),function(ce,be){var ue=o(ce,be,"Encoding"),Le=ue.$$prototype;return Le.name=Le.dummy=Fe,se(ue,"$register",function ae(xe,ee){var m=ae.$$p||Fe,_e=this,z=Fe,K=Fe,C=Fe,Te=Fe,ie=Fe,M=Fe;return ae.$$p=null,ee==null&&(ee=p([],{})),z=J([xe],D(K=ee["$[]"]("aliases"))?K:[]),C=D(K=ee["$[]"]("ascii"))&&K,Te=D(K=ee["$[]"]("dummy"))&&K,D(ee["$[]"]("inherits"))?(ie=ee["$[]"]("inherits").$clone(),ie.$initialize(xe,z,C,Te)):ie=_e.$new(xe,z,C,Te),m!==Fe&&he(ie,"instance_eval",[],m.$to_proc()),M=e.encodings,he(z,"each",[],function d(s){var n=d.$$s==null?this:d.$$s;return s==null&&(s=Fe),n.$const_set(s.$tr("-","_"),ie),M[s]=ie},{$$s:_e})},-2),se(ue,"$find",function(xe){var ee=this;return le(xe,"default_external")?ee.$default_external():e.find_encoding(xe)}),ue.$singleton_class().$attr_accessor("default_external"),ue.$attr_reader("name","names"),ne(ue,"$initialize",function(xe,ee,m,_e){var z=this;return z.name=xe,z.names=ee,z.ascii=m,z.dummy=_e}),ne(ue,"$ascii_compatible?",F("ascii")),ne(ue,"$dummy?",F("dummy")),ne(ue,"$binary?",Se(!1)),ne(ue,"$to_s",F("name")),ne(ue,"$inspect",function(){var xe=this;return"#<Encoding:"+xe.name+(D(xe.dummy)?" (dummy)":Fe)+">"}),ne(ue,"$charsize",function(xe){for(var ee=0,m=0,_e=xe.length;m<_e;m++){var z=xe.charCodeAt(m);z>=55296&&z<=56319||ee++}return ee}),ne(ue,"$each_char",function ae(xe){var ee=ae.$$p||Fe;ae.$$p=null;for(var m="",_e=0,z=xe.length;_e<z;_e++){var K=xe.charCodeAt(_e),C=xe.charAt(_e);if(K>=56320&&K<=57343){m=C;continue}else K>=55296&&K<=56319&&(C=m+C);xe.encoding.name!="UTF-8"&&(C=new String(C),C.encoding=xe.encoding),e.yield1(ee,C)}}),ne(ue,"$each_byte",function(xe){return ge(arguments),qe.$raise(ze("NotImplementedError"))},-1),ne(ue,"$bytesize",function(xe){return ge(arguments),qe.$raise(ze("NotImplementedError"))},-1),o("::",ze("StandardError"),"EncodingError"),o("::",ze("EncodingError"),"CompatibilityError"),Fe}("::",null),he(ze("Encoding"),"register",["UTF-8",p(["aliases","ascii"],{aliases:["CP65001"],ascii:!0})],function ce(){var be=ce.$$s==null?this:ce.$$s;return ne(be,"$each_byte",function ue(Le){var ae=ue.$$p||Fe;ue.$$p=null;for(var xe=1/0,ee,m=Le.length,_e=null,z=0;z<m;++z){if(ee=Le.charCodeAt(z),ee>55295&&ee<57344){if(!_e){if(ee>56319){(xe-=3)>-1&&(e.yield1(ae,239),e.yield1(ae,191),e.yield1(ae,189));continue}else if(z+1===m){(xe-=3)>-1&&(e.yield1(ae,239),e.yield1(ae,191),e.yield1(ae,189));continue}_e=ee;continue}if(ee<56320){(xe-=3)>-1&&(e.yield1(ae,239),e.yield1(ae,191),e.yield1(ae,189)),_e=ee;continue}ee=(_e-55296<<10|ee-56320)+65536}else _e&&(xe-=3)>-1&&(e.yield1(ae,239),e.yield1(ae,191),e.yield1(ae,189));if(_e=null,ee<128){if((xe-=1)<0)break;e.yield1(ae,ee)}else if(ee<2048){if((xe-=2)<0)break;e.yield1(ae,ee>>6|192),e.yield1(ae,ee&63|128)}else if(ee<65536){if((xe-=3)<0)break;e.yield1(ae,ee>>12|224),e.yield1(ae,ee>>6&63|128),e.yield1(ae,ee&63|128)}else if(ee<1114112){if((xe-=4)<0)break;e.yield1(ae,ee>>18|240),e.yield1(ae,ee>>12&63|128),e.yield1(ae,ee>>6&63|128),e.yield1(ae,ee&63|128)}}}),ne(be,"$bytesize",function(Le){return Le.$bytes().$length()})},{$$s:Q}),he(ze("Encoding"),"register",["UTF-16LE"],function ce(){var be=ce.$$s==null?this:ce.$$s;return ne(be,"$each_byte",function ue(Le){var ae=ue.$$p||Fe;ue.$$p=null;for(var xe=0,ee=Le.length;xe<ee;xe++){var m=Le.charCodeAt(xe);e.yield1(ae,m&255),e.yield1(ae,m>>8)}}),ne(be,"$bytesize",function(Le){return Le.length*2})},{$$s:Q}),he(ze("Encoding"),"register",["UTF-16BE",p(["inherits"],{inherits:ze(ze("Encoding"),"UTF_16LE")})],function ce(){var be=ce.$$s==null?this:ce.$$s;return ne(be,"$each_byte",function ue(Le){var ae=ue.$$p||Fe;ue.$$p=null;for(var xe=0,ee=Le.length;xe<ee;xe++){var m=Le.charCodeAt(xe);e.yield1(ae,m>>8),e.yield1(ae,m&255)}})},{$$s:Q}),he(ze("Encoding"),"register",["UTF-32LE"],function ce(){var be=ce.$$s==null?this:ce.$$s;return ne(be,"$each_byte",function ue(Le){var ae=ue.$$p||Fe;ue.$$p=null;for(var xe=0,ee=Le.length;xe<ee;xe++){var m=Le.charCodeAt(xe);e.yield1(ae,m&255),e.yield1(ae,m>>8),e.yield1(ae,0),e.yield1(ae,0)}}),ne(be,"$bytesize",function(Le){return Le.length*4})},{$$s:Q}),he(ze("Encoding"),"register",["UTF-32BE",p(["inherits"],{inherits:ze(ze("Encoding"),"UTF_32LE")})],function ce(){var be=ce.$$s==null?this:ce.$$s;return ne(be,"$each_byte",function ue(Le){var ae=ue.$$p||Fe;ue.$$p=null;for(var xe=0,ee=Le.length;xe<ee;xe++){var m=Le.charCodeAt(xe);e.yield1(ae,0),e.yield1(ae,0),e.yield1(ae,m>>8),e.yield1(ae,m&255)}})},{$$s:Q}),he(ze("Encoding"),"register",["ASCII-8BIT",p(["aliases","ascii"],{aliases:["BINARY"],ascii:!0})],function ce(){var be=ce.$$s==null?this:ce.$$s;return ne(be,"$each_char",function ue(Le){var ae=ue.$$p||Fe;ue.$$p=null;for(var xe=0,ee=Le.length;xe<ee;xe++){var m=new String(Le.charAt(xe));m.encoding=Le.encoding,e.yield1(ae,m)}}),ne(be,"$charsize",function(Le){return Le.length}),ne(be,"$each_byte",function ue(Le){var ae=ue.$$p||Fe;ue.$$p=null;for(var xe=0,ee=Le.length;xe<ee;xe++){var m=Le.charCodeAt(xe);e.yield1(ae,m&255)}}),ne(be,"$bytesize",function(Le){return Le.length}),ne(be,"$binary?",Se(!0))},{$$s:Q}),ze("Encoding").$register("ISO-8859-1",p(["aliases","ascii","inherits"],{aliases:["ISO8859-1"],ascii:!0,inherits:ze(ze("Encoding"),"ASCII_8BIT")})),ze("Encoding").$register("US-ASCII",p(["aliases","ascii","inherits"],{aliases:["ASCII"],ascii:!0,inherits:ze(ze("Encoding"),"ASCII_8BIT")})),function(ce,be){var ue=o(ce,be,"String"),Le=ue.$$prototype;return Le.internal_encoding=Le.bytes=Le.encoding=Fe,ue.$attr_reader("encoding"),ue.$attr_reader("internal_encoding"),e.prop(String.prototype,"bytes",Fe),e.prop(String.prototype,"encoding",ze(ze("Encoding"),"UTF_8")),e.prop(String.prototype,"internal_encoding",ze(ze("Encoding"),"UTF_8")),ne(ue,"$b",function(){var xe=this;return xe.$dup().$force_encoding("binary")}),ne(ue,"$bytesize",function(){var xe=this;return xe.internal_encoding.$bytesize(xe)}),ne(ue,"$each_byte",function ae(){var xe=ae.$$p||Fe,ee=this;return ae.$$p=null,xe===Fe?he(ee,"enum_for",["each_byte"],function m(){var _e=m.$$s==null?this:m.$$s;return _e.$bytesize()},{$$s:ee}):(he(ee.internal_encoding,"each_byte",[ee],xe.$to_proc()),ee)}),ne(ue,"$bytes",function(){var xe=this,ee=Fe;return typeof xe=="string"?new String(xe).$each_byte().$to_a():(xe.bytes=D(ee=xe.bytes)?ee:xe.$each_byte().$to_a(),xe.bytes.$dup())}),ne(ue,"$each_char",function ae(){var xe=ae.$$p||Fe,ee=this;return ae.$$p=null,xe===Fe?he(ee,"enum_for",["each_char"],function m(){var _e=m.$$s==null?this:m.$$s;return _e.$length()},{$$s:ee}):(he(ee.encoding,"each_char",[ee],xe.$to_proc()),ee)}),ne(ue,"$chars",function ae(){var xe=ae.$$p||Fe,ee=this;return ae.$$p=null,D(xe)?he(ee,"each_char",[],xe.$to_proc()):ee.$each_char().$to_a()}),ne(ue,"$each_codepoint",function ae(){var xe=ae.$$p||Fe,ee=this;if(ae.$$p=null,xe===Fe)return ee.$enum_for("each_codepoint");for(var m=0,_e=ee.length;m<_e;m++)e.yield1(xe,ee.codePointAt(m));return ee}),ne(ue,"$codepoints",function ae(){var xe=ae.$$p||Fe,ee=this;return ae.$$p=null,xe!==Fe?he(ee,"each_codepoint",[],xe.$to_proc()):ee.$each_codepoint().$to_a()}),ne(ue,"$encode",function(xe){var ee=this;return e.enc(ee,xe)}),ne(ue,"$force_encoding",function(xe){var ee=this,m=ee;return xe===m.encoding||(xe=Pe["$coerce_to!"](xe,ze("String"),"to_s"),xe=ze("Encoding").$find(xe),xe===m.encoding)||(m=e.set_encoding(m,xe)),m}),ne(ue,"$getbyte",function(xe){var ee=this,m=Fe;return m=ee.$bytes(),xe=Pe["$coerce_to!"](xe,ze("Integer"),"to_int"),D(je(m.$length(),xe))?Fe:m["$[]"](xe)}),ne(ue,"$initialize_copy",function(xe){return`
      self.encoding = other.encoding;
      self.internal_encoding = other.internal_encoding;
    `}),ne(ue,"$valid_encoding?",Se(!0))}("::",null),ye=[ze(We("Encoding"),"UTF_8")],he(ze("Encoding"),"default_external=",ye),ye[ye.length-1]};Opal.modules["corelib/math"]=function(e){var o=e.type_error,p=e.module,J=e.const_set,D=e.Class,he=e.slice,se=e.Kernel,le=e.defs,ne=e.truthy,F=e.send,Se=e.def,ge=e.rb_minus,qe=e.eqeqeq,Pe=e.rb_divide,je=[],ye=e.nil,Q=e.$$$;return e.add_stubs("new,raise,Float,Integer,module_function,each,define_method,checked,float!,===,gamma,-,integer!,/,infinite?"),function(Ae,We){var Fe=p(Ae,"Math"),ze=[Fe].concat(We),ce=e.$r(ze);return J(Fe,"E",Math.E),J(Fe,"PI",Math.PI),J(Fe,"DomainError",D.$new(Q("StandardError"))),le(Fe,"$checked",function(ue,Le){var ae,xe;if(ae=he(arguments,1),xe=ae,isNaN(xe[0])||xe.length==2&&isNaN(xe[1]))return NaN;var ee=Math[ue].apply(null,xe);return isNaN(ee)&&se.$raise(ce("DomainError"),'Numerical argument is out of domain - "'+ue+'"'),ee},-2),le(Fe,"$float!",function(ue){try{return se.$Float(ue)}catch(Le){if(e.rescue(Le,[Q("ArgumentError")]))try{return se.$raise(o(ue,Q("Float")))}finally{e.pop_exception()}else throw Le}}),le(Fe,"$integer!",function(ue){try{return se.$Integer(ue)}catch(Le){if(e.rescue(Le,[Q("ArgumentError")]))try{return se.$raise(o(ue,Q("Integer")))}finally{e.pop_exception()}else throw Le}}),Fe.$module_function(),ne(typeof Math.erf<"u")||e.prop(Math,"erf",function(be){var ue=.254829592,Le=-.284496736,ae=1.421413741,xe=-1.453152027,ee=1.061405429,m=.3275911,_e=1;be<0&&(_e=-1),be=Math.abs(be);var z=1/(1+m*be),K=1-((((ee*z+xe)*z+ae)*z+Le)*z+ue)*z*Math.exp(-be*be);return _e*K}),ne(typeof Math.erfc<"u")||e.prop(Math,"erfc",function(be){var ue=Math.abs(be),Le=1/(.5*ue+1),ae=Le*.17087277+-.82215223,xe=Le*ae+1.48851587,ee=Le*xe+-1.13520398,m=Le*ee+.27886807,_e=Le*m+-.18628806,z=Le*_e+.09678418,K=Le*z+.37409196,C=Le*K+1.00002368,Te=Le*C,ie=-ue*ue-1.26551223+Te,M=Le*Math.exp(ie);return be<0?2-M:M}),F(["acos","acosh","asin","asinh","atan","atanh","cbrt","cos","cosh","erf","erfc","exp","sin","sinh","sqrt","tanh"],"each",[],function be(ue){var Le=be.$$s==null?this:be.$$s;return ue==null&&(ue=ye),F(Le,"define_method",[ue],function(xe){return xe==null&&(xe=ye),Q("Math").$checked(ue,Q("Math")["$float!"](xe))})},{$$s:Fe}),Se(Fe,"$atan2",function(ue,Le){return Q("Math").$checked("atan2",Q("Math")["$float!"](ue),Q("Math")["$float!"](Le))}),Se(Fe,"$hypot",function(ue,Le){return Q("Math").$checked("hypot",Q("Math")["$float!"](ue),Q("Math")["$float!"](Le))}),Se(Fe,"$frexp",function(ue){if(ue=ce("Math")["$float!"](ue),isNaN(ue))return[NaN,0];var Le=Math.floor(Math.log(Math.abs(ue))/Math.log(2))+1,ae=ue/Math.pow(2,Le);return[ae,Le]}),Se(Fe,"$gamma",function(ue){ue=ce("Math")["$float!"](ue);var Le,ae,xe,ee,m,_e,z,K,C,Te=4.7421875,ie=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];if(isNaN(ue))return NaN;if(ue===0&&1/ue<0)return-1/0;if((ue===-1||ue===-1/0)&&se.$raise(ce("DomainError"),'Numerical argument is out of domain - "gamma"'),ce("Integer")["$==="](ue)){if(ue<=0)return isFinite(ue)?1/0:NaN;if(ue>171)return 1/0;for(ee=ue-2,m=ue-1;ee>1;)m*=ee,ee--;return m==0&&(m=1),m}if(ue<.5)return Math.PI/(Math.sin(Math.PI*ue)*Q("Math").$gamma(ge(1,ue)));if(ue>=171.35)return 1/0;if(ue>85)return _e=ue*ue,z=_e*ue,K=z*ue,C=K*ue,Math.sqrt(2*Math.PI/ue)*Math.pow(ue/Math.E,ue)*(1+1/(12*ue)+1/(288*_e)-139/(51840*z)-571/(2488320*K)+163879/(209018880*C)+5246819/(75246796800*C*ue));for(ue-=1,xe=ie[0],Le=1;Le<ie.length;++Le)xe+=ie[Le]/(ue+Le);return ae=ue+Te+.5,Math.sqrt(2*Math.PI)*Math.pow(ae,ue+.5)*Math.exp(-ae)*xe}),Se(Fe,"$ldexp",function(ue,Le){return ue=ce("Math")["$float!"](ue),Le=ce("Math")["$integer!"](Le),isNaN(Le)&&se.$raise(Q("RangeError"),"float NaN out of range of integer"),ue*Math.pow(2,Le)}),Se(Fe,"$lgamma",function(ue){return ue==-1?[1/0,1]:[Math.log(Math.abs(Q("Math").$gamma(ue))),Q("Math").$gamma(ue)<0?-1:1]}),Se(Fe,"$log",function(ue,Le){return qe(Q("String"),ue)&&se.$raise(o(ue,Q("Float"))),ne(Le==null)?Q("Math").$checked("log",Q("Math")["$float!"](ue)):(qe(Q("String"),Le)&&se.$raise(o(Le,Q("Float"))),Pe(Q("Math").$checked("log",Q("Math")["$float!"](ue)),Q("Math").$checked("log",Q("Math")["$float!"](Le))))},-2),Se(Fe,"$log10",function(ue){return qe(Q("String"),ue)&&se.$raise(o(ue,Q("Float"))),Q("Math").$checked("log10",Q("Math")["$float!"](ue))}),Se(Fe,"$log2",function(ue){return qe(Q("String"),ue)&&se.$raise(o(ue,Q("Float"))),Q("Math").$checked("log2",Q("Math")["$float!"](ue))}),Se(Fe,"$tan",function(ue){return ue=Q("Math")["$float!"](ue),ne(ue["$infinite?"]())?Q(Q("Float"),"NAN"):Q("Math").$checked("tan",Q("Math")["$float!"](ue))})}("::",je)};Opal.modules["corelib/complex/base"]=function(e){var o=e.module,p=e.truthy,J=e.def,D=e.klass,he=[],se=e.nil;return e.add_stubs("new,from_string"),function(le,ne){var F=o(le,"Kernel"),Se=[F].concat(ne),ge=e.$r(Se);return J(F,"$Complex",function(Pe,je){return je==null&&(je=se),p(je)?ge("Complex").$new(Pe,je):ge("Complex").$new(Pe,0)},-2)}("::",he),function(le,ne,F){var Se=D(le,ne,"String"),ge=[Se].concat(F),qe=e.$r(ge);return J(Se,"$to_c",function(){var je=this;return qe("Complex").$from_string(je)})}("::",null,he)};Opal.modules["corelib/complex"]=function(e){var o=e.klass,p=e.truthy,J=e.eqeqeq,D=e.Kernel,he=e.defs,se=e.rb_times,le=e.def,ne=e.rb_plus,F=e.rb_minus,Se=e.rb_divide,ge=e.eqeq,qe=e.to_ary,Pe=e.rb_gt,je=e.neqeq,ye=e.return_val,Q=e.const_set,Ae=e.alias,We=e.top,Fe=[],ze=e.nil,ce=e.$$$;return e.add_stubs("require,real?,===,raise,new,*,cos,sin,attr_reader,freeze,class,==,real,imag,Complex,-@,+,__coerced__,-,nan?,/,conj,abs2,quo,polar,exp,log,>,!=,divmod,**,hypot,atan2,lcm,denominator,finite?,infinite?,numerator,abs,arg,rationalize,to_f,to_i,to_r,inspect,zero?,positive?,Rational,rect,angle"),We.$require("corelib/numeric"),We.$require("corelib/complex/base"),function(be,ue,Le){var ae=o(be,ue,"Complex"),xe=[ae].concat(Le),ee=e.$r(xe),m=ae.$$prototype;return m.real=m.imag=ze,he(ae,"$rect",function(z,K){var C=this;return K==null&&(K=0),J(ce("Numeric"),z)&&p(z["$real?"]())&&J(ce("Numeric"),K)&&p(K["$real?"]())||D.$raise(ce("TypeError"),"not a real"),C.$new(z,K)},-2),he(ae,"$polar",function(z,K){var C=this;return K==null&&(K=0),J(ce("Numeric"),z)&&p(z["$real?"]())&&J(ce("Numeric"),K)&&p(K["$real?"]())||D.$raise(ce("TypeError"),"not a real"),C.$new(se(z,ce("Math").$cos(K)),se(z,ce("Math").$sin(K)))},-2),ae.$attr_reader("real","imag"),le(ae,"$initialize",function(z,K){var C=this;return K==null&&(K=0),C.real=z,C.imag=K,C.$freeze()},-2),le(ae,"$coerce",function(z){var K=this;return J(ce("Complex"),z)?[z,K]:J(ce("Numeric"),z)&&p(z["$real?"]())?[ce("Complex").$new(z,0),K]:D.$raise(ce("TypeError"),""+z.$class()+" can't be coerced into Complex")}),le(ae,"$==",function(z){var K=this,C=ze;return J(ce("Complex"),z)?p(C=K.real["$=="](z.$real()))?K.imag["$=="](z.$imag()):C:J(ce("Numeric"),z)&&p(z["$real?"]())?p(C=K.real["$=="](z))?K.imag["$=="](0):C:z["$=="](K)}),le(ae,"$-@",function(){var z=this;return D.$Complex(z.real["$-@"](),z.imag["$-@"]())}),le(ae,"$+",function(z){var K=this;return J(ce("Complex"),z)?D.$Complex(ne(K.real,z.$real()),ne(K.imag,z.$imag())):J(ce("Numeric"),z)&&p(z["$real?"]())?D.$Complex(ne(K.real,z),K.imag):K.$__coerced__("+",z)}),le(ae,"$-",function(z){var K=this;return J(ce("Complex"),z)?D.$Complex(F(K.real,z.$real()),F(K.imag,z.$imag())):J(ce("Numeric"),z)&&p(z["$real?"]())?D.$Complex(F(K.real,z),K.imag):K.$__coerced__("-",z)}),le(ae,"$*",function(z){var K=this;return J(ce("Complex"),z)?D.$Complex(F(se(K.real,z.$real()),se(K.imag,z.$imag())),ne(se(K.real,z.$imag()),se(K.imag,z.$real()))):J(ce("Numeric"),z)&&p(z["$real?"]())?D.$Complex(se(K.real,z),se(K.imag,z)):K.$__coerced__("*",z)}),le(ae,"$/",function(z){var K=this;return J(ce("Complex"),z)?J(ce("Number"),K.real)&&p(K.real["$nan?"]())||J(ce("Number"),K.imag)&&p(K.imag["$nan?"]())||J(ce("Number"),z.$real())&&p(z.$real()["$nan?"]())||J(ce("Number"),z.$imag())&&p(z.$imag()["$nan?"]())?ce("Complex").$new(ce(ce("Float"),"NAN"),ce(ce("Float"),"NAN")):Se(se(K,z.$conj()),z.$abs2()):J(ce("Numeric"),z)&&p(z["$real?"]())?D.$Complex(K.real.$quo(z),K.imag.$quo(z)):K.$__coerced__("/",z)}),le(ae,"$**",function(z){var K,C,Te=this,ie=ze,M=ze,d=ze,s=ze,n=ze,i=ze,$=ze,a=ze,b=ze,w=ze,Y=ze;if(ge(z,0))return ce("Complex").$new(1,0);if(J(ce("Complex"),z))return C=Te.$polar(),K=qe(C),ie=K[0]==null?ze:K[0],M=K[1]==null?ze:K[1],d=z.$real(),s=z.$imag(),n=ce("Math").$exp(F(se(d,ce("Math").$log(ie)),se(s,M))),i=ne(se(M,d),se(s,ce("Math").$log(ie))),ce("Complex").$polar(n,i);if(J(ce("Integer"),z))if(p(Pe(z,0))){for($=Te,a=$,b=F(z,1);je(b,0);){for(C=b.$divmod(2),K=qe(C),w=K[0]==null?ze:K[0],Y=K[1]==null?ze:K[1];ge(Y,0);)$=D.$Complex(F(se($.$real(),$.$real()),se($.$imag(),$.$imag())),se(se(2,$.$real()),$.$imag())),b=w,C=b.$divmod(2),K=qe(C),w=K[0]==null?ze:K[0],Y=K[1]==null?ze:K[1];a=se(a,$),b=F(b,1)}return a}else return Se(ce("Rational").$new(1,1),Te)["$**"](z["$-@"]());else return J(ce("Float"),z)||J(ce("Rational"),z)?(C=Te.$polar(),K=qe(C),ie=K[0]==null?ze:K[0],M=K[1]==null?ze:K[1],ce("Complex").$polar(ie["$**"](z),se(M,z))):Te.$__coerced__("**",z)}),le(ae,"$abs",function(){var z=this;return ce("Math").$hypot(z.real,z.imag)}),le(ae,"$abs2",function(){var z=this;return ne(se(z.real,z.real),se(z.imag,z.imag))}),le(ae,"$angle",function(){var z=this;return ce("Math").$atan2(z.imag,z.real)}),le(ae,"$conj",function(){var z=this;return D.$Complex(z.real,z.imag["$-@"]())}),le(ae,"$denominator",function(){var z=this;return z.real.$denominator().$lcm(z.imag.$denominator())}),le(ae,"$eql?",function(z){var K=this,C=ze,Te=ze;return p(C=p(Te=ee("Complex")["$==="](z))?K.real.$class()["$=="](K.imag.$class()):Te)?K["$=="](z):C}),le(ae,"$fdiv",function(z){var K=this;return J(ce("Numeric"),z)||D.$raise(ce("TypeError"),""+z.$class()+" can't be coerced into Complex"),Se(K,z)}),le(ae,"$finite?",function(){var z=this,K=ze;return p(K=z.real["$finite?"]())?z.imag["$finite?"]():K}),le(ae,"$hash",function(){var z=this;return"Complex:"+z.real+":"+z.imag}),le(ae,"$infinite?",function(){var z=this,K=ze;return p(K=z.real["$infinite?"]())?K:z.imag["$infinite?"]()}),le(ae,"$inspect",function(){var z=this;return"("+z+")"}),le(ae,"$numerator",function(){var z=this,K=ze;return K=z.$denominator(),D.$Complex(se(z.real.$numerator(),Se(K,z.real.$denominator())),se(z.imag.$numerator(),Se(K,z.imag.$denominator())))}),le(ae,"$polar",function(){var z=this;return[z.$abs(),z.$arg()]}),le(ae,"$rationalize",function(z){var K=this;return arguments.length>1&&D.$raise(ce("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),je(K.imag,0)&&D.$raise(ce("RangeError"),"can't convert "+K+" into Rational"),K.$real().$rationalize(z)},-1),le(ae,"$real?",ye(!1)),le(ae,"$rect",function(){var z=this;return[z.real,z.imag]}),le(ae,"$to_f",function(){var z=this;return ge(z.imag,0)||D.$raise(ce("RangeError"),"can't convert "+z+" into Float"),z.real.$to_f()}),le(ae,"$to_i",function(){var z=this;return ge(z.imag,0)||D.$raise(ce("RangeError"),"can't convert "+z+" into Integer"),z.real.$to_i()}),le(ae,"$to_r",function(){var z=this;return ge(z.imag,0)||D.$raise(ce("RangeError"),"can't convert "+z+" into Rational"),z.real.$to_r()}),le(ae,"$to_s",function(){var z=this,K=ze;return K=z.real.$inspect(),K=ne(K,J(ce("Number"),z.imag)&&p(z.imag["$nan?"]())||p(z.imag["$positive?"]())||p(z.imag["$zero?"]())?"+":"-"),K=ne(K,z.imag.$abs().$inspect()),J(ce("Number"),z.imag)&&(p(z.imag["$nan?"]())||p(z.imag["$infinite?"]()))&&(K=ne(K,"*")),ne(K,"i")}),Q(xe[0],"I",ae.$new(0,1)),he(ae,"$from_string",function(z){var K=/[+-]?[\d_]+(\.[\d_]+)?(e\d+)?/;z.match(K);var C,Te;function ie(){return K.test(z)}function M(){var s=z.match(K),n=s[0];return z=z.slice(n.length),n.replace(/_/g,"")}function d(){if(ie()){var s=parseFloat(M());if(z[0]==="/")if(z=z.slice(1),ie()){var n=parseFloat(M());return D.$Rational(s,n)}else return z="/"+z,s;else return s}else return null}return C=d(),C?(Te=d(),Te?D.$Complex(C,Te):z[0]==="i"?D.$Complex(0,C):D.$Complex(C,0)):z[0]==="i"?D.$Complex(0,1):z[0]==="-"&&z[1]==="i"?D.$Complex(0,-1):z[0]==="+"&&z[1]==="i"?D.$Complex(0,1):D.$Complex(0,0)}),function(_e,z){return Ae(_e,"rectangular","rect")}(e.get_singleton_class(ae)),Ae(ae,"arg","angle"),Ae(ae,"conjugate","conj"),Ae(ae,"divide","/"),Ae(ae,"imaginary","imag"),Ae(ae,"magnitude","abs"),Ae(ae,"phase","arg"),Ae(ae,"quo","/"),Ae(ae,"rectangular","rect"),e.udef(ae,"$negative?"),e.udef(ae,"$positive?"),e.udef(ae,"$step"),ze}("::",ce("Numeric"),Fe)};Opal.modules["corelib/rational/base"]=function(e){var o=e.module,p=e.def,J=e.klass;e.nil;var D=e.$$$;return e.add_stubs("convert,from_string"),function(he){var se=o(he,"Kernel");return p(se,"$Rational",function(ne,F){return F==null&&(F=1),D("Rational").$convert(ne,F)},-2)}("::"),function(he,se){var le=J(he,se,"String");return p(le,"$to_r",function(){var F=this;return D("Rational").$from_string(F)})}("::",null)};Opal.modules["corelib/rational"]=function(e){var o=e.klass,p=e.eqeq,J=e.Kernel,D=e.truthy,he=e.rb_lt,se=e.rb_divide,le=e.defs,ne=e.eqeqeq,F=e.not,Se=e.Opal,ge=e.def,qe=e.return_ivar,Pe=e.rb_minus,je=e.rb_times,ye=e.rb_plus,Q=e.rb_gt,Ae=e.rb_le,We=e.return_self,Fe=e.alias,ze=e.top,ce=e.nil,be=e.$$$;return e.add_stubs("require,to_i,==,raise,<,-@,new,gcd,/,nil?,===,reduce,to_r,!,equal?,coerce_to!,freeze,to_f,numerator,denominator,<=>,-,*,__coerced__,+,Rational,>,**,abs,ceil,with_precision,floor,<=,truncate,send"),ze.$require("corelib/numeric"),ze.$require("corelib/rational/base"),function(ue,Le){var ae=o(ue,Le,"Rational"),xe=ae.$$prototype;return xe.num=xe.den=ce,le(ae,"$reduce",function(m,_e){var z=this,K=ce;if(m=m.$to_i(),_e=_e.$to_i(),p(_e,0))J.$raise(be("ZeroDivisionError"),"divided by 0");else if(D(he(_e,0)))m=m["$-@"](),_e=_e["$-@"]();else if(p(_e,1))return z.$new(m,_e);return K=m.$gcd(_e),z.$new(se(m,K),se(_e,K))}),le(ae,"$convert",function(m,_e){var z=this;return(D(m["$nil?"]())||D(_e["$nil?"]()))&&J.$raise(be("TypeError"),"cannot convert nil into Rational"),ne(be("Integer"),m)&&ne(be("Integer"),_e)?z.$reduce(m,_e):((ne(be("Float"),m)||ne(be("String"),m)||ne(be("Complex"),m))&&(m=m.$to_r()),(ne(be("Float"),_e)||ne(be("String"),_e)||ne(be("Complex"),_e))&&(_e=_e.$to_r()),D(_e["$equal?"](1))&&F(be("Integer")["$==="](m))?Se["$coerce_to!"](m,be("Rational"),"to_r"):ne(be("Numeric"),m)&&ne(be("Numeric"),_e)?se(m,_e):z.$reduce(m,_e))}),ge(ae,"$initialize",function(m,_e){var z=this;return z.num=m,z.den=_e,z.$freeze()}),ge(ae,"$numerator",qe("num")),ge(ae,"$denominator",qe("den")),ge(ae,"$coerce",function(m){var _e=this,z=ce;return ne(be("Rational"),z=m)?[m,_e]:ne(be("Integer"),z)?[m.$to_r(),_e]:ne(be("Float"),z)?[m,_e.$to_f()]:ce}),ge(ae,"$==",function(m){var _e=this,z=ce,K=ce;return ne(be("Rational"),z=m)?D(K=_e.num["$=="](m.$numerator()))?_e.den["$=="](m.$denominator()):K:ne(be("Integer"),z)?D(K=_e.num["$=="](m))?_e.den["$=="](1):K:ne(be("Float"),z)?_e.$to_f()["$=="](m):m["$=="](_e)}),ge(ae,"$<=>",function(m){var _e=this,z=ce;return ne(be("Rational"),z=m)?Pe(je(_e.num,m.$denominator()),je(_e.den,m.$numerator()))["$<=>"](0):ne(be("Integer"),z)?Pe(_e.num,je(_e.den,m))["$<=>"](0):ne(be("Float"),z)?_e.$to_f()["$<=>"](m):_e.$__coerced__("<=>",m)}),ge(ae,"$+",function(m){var _e=this,z=ce,K=ce,C=ce;return ne(be("Rational"),z=m)?(K=ye(je(_e.num,m.$denominator()),je(_e.den,m.$numerator())),C=je(_e.den,m.$denominator()),J.$Rational(K,C)):ne(be("Integer"),z)?J.$Rational(ye(_e.num,je(m,_e.den)),_e.den):ne(be("Float"),z)?ye(_e.$to_f(),m):_e.$__coerced__("+",m)}),ge(ae,"$-",function(m){var _e=this,z=ce,K=ce,C=ce;return ne(be("Rational"),z=m)?(K=Pe(je(_e.num,m.$denominator()),je(_e.den,m.$numerator())),C=je(_e.den,m.$denominator()),J.$Rational(K,C)):ne(be("Integer"),z)?J.$Rational(Pe(_e.num,je(m,_e.den)),_e.den):ne(be("Float"),z)?Pe(_e.$to_f(),m):_e.$__coerced__("-",m)}),ge(ae,"$*",function(m){var _e=this,z=ce,K=ce,C=ce;return ne(be("Rational"),z=m)?(K=je(_e.num,m.$numerator()),C=je(_e.den,m.$denominator()),J.$Rational(K,C)):ne(be("Integer"),z)?J.$Rational(je(_e.num,m),_e.den):ne(be("Float"),z)?je(_e.$to_f(),m):_e.$__coerced__("*",m)}),ge(ae,"$/",function(m){var _e=this,z=ce,K=ce,C=ce;return ne(be("Rational"),z=m)?(K=je(_e.num,m.$denominator()),C=je(_e.den,m.$numerator()),J.$Rational(K,C)):ne(be("Integer"),z)?p(m,0)?se(_e.$to_f(),0):J.$Rational(_e.num,je(_e.den,m)):ne(be("Float"),z)?se(_e.$to_f(),m):_e.$__coerced__("/",m)}),ge(ae,"$**",function(m){var _e=this,z=ce;return ne(be("Integer"),z=m)?p(_e,0)&&D(he(m,0))?be(be("Float"),"INFINITY"):D(Q(m,0))?J.$Rational(_e.num["$**"](m),_e.den["$**"](m)):D(he(m,0))?J.$Rational(_e.den["$**"](m["$-@"]()),_e.num["$**"](m["$-@"]())):J.$Rational(1,1):ne(be("Float"),z)?_e.$to_f()["$**"](m):ne(be("Rational"),z)?p(m,0)?J.$Rational(1,1):p(m.$denominator(),1)?D(he(m,0))?J.$Rational(_e.den["$**"](m.$numerator().$abs()),_e.num["$**"](m.$numerator().$abs())):J.$Rational(_e.num["$**"](m.$numerator()),_e.den["$**"](m.$numerator())):p(_e,0)&&D(he(m,0))?J.$raise(be("ZeroDivisionError"),"divided by 0"):_e.$to_f()["$**"](m):_e.$__coerced__("**",m)}),ge(ae,"$abs",function(){var m=this;return J.$Rational(m.num.$abs(),m.den.$abs())}),ge(ae,"$ceil",function(m){var _e=this;return m==null&&(m=0),p(m,0)?se(_e.num["$-@"](),_e.den)["$-@"]().$ceil():_e.$with_precision("ceil",m)},-1),ge(ae,"$floor",function(m){var _e=this;return m==null&&(m=0),p(m,0)?se(_e.num["$-@"](),_e.den)["$-@"]().$floor():_e.$with_precision("floor",m)},-1),ge(ae,"$hash",function(){var m=this;return"Rational:"+m.num+":"+m.den}),ge(ae,"$inspect",function(){var m=this;return"("+m+")"}),ge(ae,"$rationalize",function(m){var _e=this;if(arguments.length>1&&J.$raise(be("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),m==null)return _e;for(var z=m.$abs(),K=Pe(_e,z),C=ye(_e,z),Te=0,ie=1,M=1,d=0,s,n,i,$,a;i=K.$ceil(),!Ae(i,C);)$=i-1,s=$*ie+Te,n=$*d+M,a=se(1,Pe(C,$)),C=se(1,Pe(K,$)),K=a,Te=ie,M=d,ie=s,d=n;return J.$Rational(i*ie+Te,i*d+M)},-1),ge(ae,"$round",function(m){var _e=this,z=ce,K=ce,C=ce;return m==null&&(m=0),p(m,0)?p(_e.num,0)?0:p(_e.den,1)?_e.num:(z=ye(je(_e.num.$abs(),2),_e.den),K=je(_e.den,2),C=se(z,K).$truncate(),D(he(_e.num,0))?C["$-@"]():C):_e.$with_precision("round",m)},-1),ge(ae,"$to_f",function(){var m=this;return se(m.num,m.den)}),ge(ae,"$to_i",function(){var m=this;return m.$truncate()}),ge(ae,"$to_r",We),ge(ae,"$to_s",function(){var m=this;return""+m.num+"/"+m.den}),ge(ae,"$truncate",function(m){var _e=this;return m==null&&(m=0),p(m,0)?D(he(_e.num,0))?_e.$ceil():_e.$floor():_e.$with_precision("truncate",m)},-1),ge(ae,"$with_precision",function(m,_e){var z=this,K=ce,C=ce;return ne(be("Integer"),_e)||J.$raise(be("TypeError"),"not an Integer"),K=10["$**"](_e),C=je(z,K),D(he(_e,1))?se(C.$send(m),K).$to_i():J.$Rational(C.$send(m),K)}),le(ae,"$from_string",function(m){var _e=m.trimLeft(),z=/^[+-]?[\d_]+(\.[\d_]+)?/;_e.match(z);var K,C;function Te(){return z.test(_e)}function ie(){var M=_e.match(z),d=M[0];return _e=_e.slice(d.length),d.replace(/_/g,"")}return Te()?(K=parseFloat(ie()),_e[0]==="/"?(_e=_e.slice(1),Te()?(C=parseFloat(ie()),J.$Rational(K,C)):J.$Rational(K,1)):J.$Rational(K,1)):J.$Rational(0,1)}),Fe(ae,"divide","/"),Fe(ae,"quo","/")}("::",be("Numeric"))};Opal.modules["corelib/time"]=function(e){var o=e.slice,p=e.deny_frozen_access,J=e.klass,D=e.Kernel,he=e.Opal,se=e.defs,le=e.eqeqeq,ne=e.def,F=e.truthy,Se=e.rb_gt,ge=e.rb_lt,qe=e.send,Pe=e.rb_plus,je=e.rb_divide,ye=e.rb_minus,Q=e.range,Ae=e.neqeq,We=e.rb_le,Fe=e.eqeq,ze=e.alias,ce=e.top,be=[],ue=e.nil,Le=e.$$$;return e.add_stubs("require,include,===,raise,coerce_to!,respond_to?,to_str,to_i,_parse_offset,new,<=>,to_f,nil?,>,<,strftime,each,define_method,year,month,day,+,round,/,-,copy_instance_variables,initialize_dup,is_a?,zero?,wday,utc?,mon,yday,hour,min,sec,rjust,ljust,zone,to_s,[],cweek_cyear,jd,to_date,format,isdst,!=,<=,==,ceil,local,gm,asctime,getgm,gmt_offset,inspect,usec,gmtime,gmt?"),ce.$require("corelib/comparable"),function(ae,xe,ee){var m=J(ae,xe,"Time"),_e=[m].concat(ee),z=e.$r(_e);m.$include(Le("Comparable"));var K=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],C=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Te=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ie=["January","February","March","April","May","June","July","August","September","October","November","December"];se(m,"$at",function(s,n){var i;return Le("Time")["$==="](s)?(n!==void 0&&D.$raise(Le("TypeError"),"can't convert Time into an exact number"),i=new Date(s.getTime()),i.timezone=s.timezone,i):(s.$$is_number||(s=he["$coerce_to!"](s,Le("Integer"),"to_int")),n===void 0?new Date(s*1e3):(n.$$is_number||(n=he["$coerce_to!"](n,Le("Integer"),"to_int")),new Date(s*1e3+n/1e3)))},-2);function M(d,s,n,i,$,a){if(d.$$is_string?d=parseInt(d,10):d=he["$coerce_to!"](d,Le("Integer"),"to_int"),s===ue)s=1;else if(!s.$$is_number)if(s["$respond_to?"]("to_str"))switch(s=s.$to_str(),s.toLowerCase()){case"jan":s=1;break;case"feb":s=2;break;case"mar":s=3;break;case"apr":s=4;break;case"may":s=5;break;case"jun":s=6;break;case"jul":s=7;break;case"aug":s=8;break;case"sep":s=9;break;case"oct":s=10;break;case"nov":s=11;break;case"dec":s=12;break;default:s=s.$to_i()}else s=he["$coerce_to!"](s,Le("Integer"),"to_int");return(s<1||s>12)&&D.$raise(Le("ArgumentError"),"month out of range: "+s),s=s-1,n===ue?n=1:n.$$is_string?n=parseInt(n,10):n=he["$coerce_to!"](n,Le("Integer"),"to_int"),(n<1||n>31)&&D.$raise(Le("ArgumentError"),"day out of range: "+n),i===ue?i=0:i.$$is_string?i=parseInt(i,10):i=he["$coerce_to!"](i,Le("Integer"),"to_int"),(i<0||i>24)&&D.$raise(Le("ArgumentError"),"hour out of range: "+i),$===ue?$=0:$.$$is_string?$=parseInt($,10):$=he["$coerce_to!"]($,Le("Integer"),"to_int"),($<0||$>59)&&D.$raise(Le("ArgumentError"),"min out of range: "+$),a===ue?a=0:a.$$is_number||(a.$$is_string?a=parseInt(a,10):a=he["$coerce_to!"](a,Le("Integer"),"to_int")),(a<0||a>60)&&D.$raise(Le("ArgumentError"),"sec out of range: "+a),[d,s,n,i,$,a]}return se(m,"$new",function(s,n,i,$,a,b,w){var Y=this;n==null&&(n=ue),i==null&&(i=ue),$==null&&($=ue),a==null&&(a=ue),b==null&&(b=ue),w==null&&(w=ue);var Ce,Oe,ot,lt;return s===void 0?new Date:(Ce=M(s,n,i,$,a,b),s=Ce[0],n=Ce[1],i=Ce[2],$=Ce[3],a=Ce[4],b=Ce[5],w===ue?(Oe=new Date(s,n,i,$,a,0,b*1e3),s<100&&Oe.setFullYear(s),Oe):(ot=Y.$_parse_offset(w),lt=new Date(Date.UTC(s,n,i,$,a,0,b*1e3)),s<100&&lt.setUTCFullYear(s),Oe=new Date(lt.getTime()-ot*36e5),Oe.timezone=ot,Oe))},-1),se(m,"$_parse_offset",function(s){var n;if(s.$$is_string)if(s=="UTC")n=0;else if(/^[+-]\d\d:[0-5]\d$/.test(s)){var i,$,a;i=s[0],$=+(s[1]+s[2]),a=+(s[4]+s[5]),n=(i=="-"?-1:1)*($+a/60)}else D.$raise(Le("ArgumentError"),'"+HH:MM", "-HH:MM", "UTC" expected for utc_offset: '+s);else s.$$is_number?n=s/3600:D.$raise(Le("ArgumentError"),"Opal doesn't support other types for a timezone argument than Integer and String");return n}),se(m,"$local",function(s,n,i,$,a,b,w,Y,Ce,Oe){n==null&&(n=ue),i==null&&(i=ue),$==null&&($=ue),a==null&&(a=ue),b==null&&(b=ue),w==null&&(w=ue),Y==null&&(Y=ue),Ce==null&&(Ce=ue),Oe==null&&(Oe=ue);var ot,lt;return arguments.length===10&&(ot=o(arguments),s=ot[5],n=ot[4],i=ot[3],$=ot[2],a=ot[1],b=ot[0]),ot=M(s,n,i,$,a,b),s=ot[0],n=ot[1],i=ot[2],$=ot[3],a=ot[4],b=ot[5],lt=new Date(s,n,i,$,a,0,b*1e3),s<100&&lt.setFullYear(s),lt},-2),se(m,"$gm",function(s,n,i,$,a,b,w,Y,Ce,Oe){n==null&&(n=ue),i==null&&(i=ue),$==null&&($=ue),a==null&&(a=ue),b==null&&(b=ue),w==null&&(w=ue),Y==null&&(Y=ue),Ce==null&&(Ce=ue),Oe==null&&(Oe=ue);var ot,lt;return arguments.length===10&&(ot=o(arguments),s=ot[5],n=ot[4],i=ot[3],$=ot[2],a=ot[1],b=ot[0]),ot=M(s,n,i,$,a,b),s=ot[0],n=ot[1],i=ot[2],$=ot[3],a=ot[4],b=ot[5],lt=new Date(Date.UTC(s,n,i,$,a,0,b*1e3)),s<100&&lt.setUTCFullYear(s),lt.timezone=0,lt},-2),se(m,"$now",function(){var s=this;return s.$new()}),ne(m,"$+",function(s){var n=this;le(Le("Time"),s)&&D.$raise(Le("TypeError"),"time + time?"),s.$$is_number||(s=he["$coerce_to!"](s,Le("Integer"),"to_int"));var i=new Date(n.getTime()+s*1e3);return i.timezone=n.timezone,i}),ne(m,"$-",function(s){var n=this;if(le(Le("Time"),s))return(n.getTime()-s.getTime())/1e3;s.$$is_number||(s=he["$coerce_to!"](s,Le("Integer"),"to_int"));var i=new Date(n.getTime()-s*1e3);return i.timezone=n.timezone,i}),ne(m,"$<=>",function(s){var n=this,i=ue;return le(Le("Time"),s)?n.$to_f()["$<=>"](s.$to_f()):(i=s["$<=>"](n),F(i["$nil?"]())?ue:F(Se(i,0))?-1:F(ge(i,0))?1:0)}),ne(m,"$==",function(s){var n=this,i=ue;return F(i=Le("Time")["$==="](s))?n.$to_f()===s.$to_f():i}),ne(m,"$asctime",function(){var s=this;return s.$strftime("%a %b %e %H:%M:%S %Y")}),qe([["year","getFullYear","getUTCFullYear"],["mon","getMonth","getUTCMonth",1],["wday","getDay","getUTCDay"],["day","getDate","getUTCDate"],["hour","getHours","getUTCHours"],["min","getMinutes","getUTCMinutes"],["sec","getSeconds","getUTCSeconds"]],"each",[],function d(s,n,i,$){var a=d.$$s==null?this:d.$$s;return s==null&&(s=ue),n==null&&(n=ue),i==null&&(i=ue),$==null&&($=0),qe(a,"define_method",[s],function b(){var w=b.$$s==null?this:b.$$s;return $+(w.timezone!=null?new Date(w.getTime()+w.timezone*36e5)[i]():w[n]())},{$$s:a})},{$$arity:-4,$$s:m}),ne(m,"$yday",function(){var s=this,n=ue,i=ue,$=ue;return n=z("Time").$new(s.$year()).$to_i(),i=z("Time").$new(s.$year(),s.$month(),s.$day()).$to_i(),$=86400,Pe(je(ye(i,n),$).$round(),1)}),ne(m,"$isdst",function(){var s=this,n=new Date(s.getFullYear(),0,1),i=new Date(s.getFullYear(),6,1);return s.getTimezoneOffset()<Math.max(n.getTimezoneOffset(),i.getTimezoneOffset())}),ne(m,"$dup",function(){var s=this,n=ue;return n=new Date(s.getTime()),n.$copy_instance_variables(s),n.$initialize_dup(s),n}),ne(m,"$eql?",function(s){var n=this,i=ue;return F(i=s["$is_a?"](Le("Time")))?n["$<=>"](s)["$zero?"]():i}),qe([["sunday?",0],["monday?",1],["tuesday?",2],["wednesday?",3],["thursday?",4],["friday?",5],["saturday?",6]],"each",[],function d(s,n){var i=d.$$s==null?this:d.$$s;return s==null&&(s=ue),n==null&&(n=ue),qe(i,"define_method",[s],function $(){var a=$.$$s==null?this:$.$$s;return a.$wday()===n},{$$s:i})},{$$s:m}),ne(m,"$hash",function(){var s=this;return"Time:"+s.getTime()}),ne(m,"$inspect",function(){var s=this;return F(s["$utc?"]())?s.$strftime("%Y-%m-%d %H:%M:%S UTC"):s.$strftime("%Y-%m-%d %H:%M:%S %z")}),ne(m,"$succ",function(){var s=this,n=new Date(s.getTime()+1e3);return n.timezone=s.timezone,n}),ne(m,"$usec",function(){var s=this;return s.getMilliseconds()*1e3}),ne(m,"$zone",function(){var s=this;if(s.timezone===0)return"UTC";if(s.timezone!=null)return ue;var n=s.toString(),i;return n.indexOf("(")==-1?i=n.match(/[A-Z]{3,4}/)[0]:i=n.match(/\((.+)\)(?:\s|$)/)[1],i=="GMT"&&/(GMT\W*\d{4})/.test(n)?RegExp.$1:i}),ne(m,"$getgm",function(){var s=this,n=new Date(s.getTime());return n.timezone=0,n}),ne(m,"$gmtime",function(){var s=this;return s.timezone!==0&&(p(s),s.timezone=0),s}),ne(m,"$gmt?",function(){var s=this;return s.timezone===0}),ne(m,"$gmt_offset",function(){var s=this;return s.timezone!=null?s.timezone*60:-s.getTimezoneOffset()*60}),ne(m,"$strftime",function(s){var n=this;return s.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(i,$,a,b,w){var Y="",Ce,Oe,ot,lt=$.indexOf("0")!==-1,gt=$.indexOf("-")===-1,_t=$.indexOf("_")!==-1,mt=$.indexOf("^")!==-1,dt=$.indexOf("#")!==-1,bt=($.match(":")||[]).length;switch(a=parseInt(a,10),lt&&_t&&($.indexOf("0")<$.indexOf("_")?lt=!1:_t=!1),w){case"Y":Y+=n.$year();break;case"C":lt=!_t,Y+=Math.round(n.$year()/100);break;case"y":lt=!_t,Y+=n.$year()%100;break;case"m":lt=!_t,Y+=n.$mon();break;case"B":Y+=ie[n.$mon()-1];break;case"b":case"h":_t=!lt,Y+=Te[n.$mon()-1];break;case"d":lt=!_t,Y+=n.$day();break;case"e":_t=!lt,Y+=n.$day();break;case"j":lt=!_t,a=isNaN(a)?3:a,Y+=n.$yday();break;case"H":lt=!_t,Y+=n.$hour();break;case"k":_t=!lt,Y+=n.$hour();break;case"I":lt=!_t,Y+=n.$hour()%12||12;break;case"l":_t=!lt,Y+=n.$hour()%12||12;break;case"P":Y+=n.$hour()>=12?"pm":"am";break;case"p":Y+=n.$hour()>=12?"PM":"AM";break;case"M":lt=!_t,Y+=n.$min();break;case"S":lt=!_t,Y+=n.$sec();break;case"L":lt=!_t,a=isNaN(a)?3:a,Y+=n.getMilliseconds();break;case"N":a=isNaN(a)?9:a,Y+=n.getMilliseconds().toString().$rjust(3,"0"),Y=Y.$ljust(a,"0");break;case"z":var vt=n.timezone==null?n.getTimezoneOffset():-n.timezone*60,Qe=Math.floor(Math.abs(vt)/60),pe=Math.abs(vt)%60;Y+=vt<0?"+":"-",Y+=Qe<10?"0":"",Y+=Qe,bt>0&&(Y+=":"),Y+=pe<10?"0":"",Y+=pe,bt>1&&(Y+=":00");break;case"Z":Y+=n.$zone();break;case"A":Y+=K[n.$wday()];break;case"a":Y+=C[n.$wday()];break;case"u":Y+=n.$wday()+1;break;case"w":Y+=n.$wday();break;case"V":Y+=n.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case"G":Y+=n.$cweek_cyear()["$[]"](1);break;case"g":Y+=n.$cweek_cyear()["$[]"](1)["$[]"](Q(-2,-1,!1));break;case"s":Y+=n.$to_i();break;case"n":Y+=`
`;break;case"t":Y+="	";break;case"%":Y+="%";break;case"c":Y+=n.$strftime("%a %b %e %T %Y");break;case"D":case"x":Y+=n.$strftime("%m/%d/%y");break;case"F":Y+=n.$strftime("%Y-%m-%d");break;case"v":Y+=n.$strftime("%e-%^b-%4Y");break;case"r":Y+=n.$strftime("%I:%M:%S %p");break;case"R":Y+=n.$strftime("%H:%M");break;case"T":case"X":Y+=n.$strftime("%H:%M:%S");break;case"J":if(Ce=n.$to_date().$jd(),Ce<2405160){Y+=n.$strftime("%Y-%m-%d");break}else Ce<2419614?(Oe="M",ot=1867):Ce<2424875?(Oe="T",ot=1911):Ce<2447535?(Oe="S",ot=1925):Ce<2458605?(Oe="H",ot=1988):(Oe="R",ot=2018);Y+=n.$format("%c%02d",Oe,ye(n.$year(),ot)),Y+=n.$strftime("-%m-%d");break;default:return i}return mt&&(Y=Y.toUpperCase()),dt&&(Y=Y.replace(/[A-Z]/,function(Re){Re.toLowerCase()}).replace(/[a-z]/,function(Re){Re.toUpperCase()})),gt&&(lt||_t)&&(Y=Y.$rjust(isNaN(a)?2:a,_t?" ":"0")),Y})}),ne(m,"$to_a",function(){var s=this;return[s.$sec(),s.$min(),s.$hour(),s.$day(),s.$month(),s.$year(),s.$wday(),s.$yday(),s.$isdst(),s.$zone()]}),ne(m,"$to_f",function(){var s=this;return s.getTime()/1e3}),ne(m,"$to_i",function(){var s=this;return parseInt(s.getTime()/1e3,10)}),ne(m,"$cweek_cyear",function(){var s=this,n=ue,i=ue,$=ue,a=ue,b=ue,w=ue,Y=ue;return n=Le("Time").$new(s.$year(),1,1),i=n.$wday(),$=s.$year(),F(We(i,4))&&Ae(i,0)?a=ye(i,1):(a=ye(ye(i,7),1),Fe(a,-8)&&(a=-1)),b=je(Pe(s.$yday(),a),7).$ceil(),F(We(b,0))?Le("Time").$new(ye(s.$year(),1),12,31).$cweek_cyear():(Fe(b,53)&&(w=Le("Time").$new(s.$year(),12,31),Y=w.$wday(),F(We(Y,3))&&Ae(Y,0)&&(b=1,$=Pe($,1))),[b,$])}),function(d,s){return ze(d,"mktime","local"),ze(d,"utc","gm")}(e.get_singleton_class(m)),ze(m,"ctime","asctime"),ze(m,"dst?","isdst"),ze(m,"getutc","getgm"),ze(m,"gmtoff","gmt_offset"),ze(m,"mday","day"),ze(m,"month","mon"),ze(m,"to_s","inspect"),ze(m,"tv_sec","to_i"),ze(m,"tv_usec","usec"),ze(m,"utc","gmtime"),ze(m,"utc?","gmt?"),ze(m,"utc_offset","gmt_offset")}("::",Date,be)};Opal.modules["corelib/struct"]=function(e){var o=e.klass,p=e.slice,J=e.extract_kwargs,D=e.ensure_kwargs,he=e.truthy,se=e.neqeq,le=e.eqeq,ne=e.Opal,F=e.send,Se=e.Class,ge=e.to_a,qe=e.def,Pe=e.defs,je=e.Kernel,ye=e.hash2,Q=e.rb_gt,Ae=e.rb_minus,We=e.eqeqeq,Fe=e.rb_lt,ze=e.rb_ge,ce=e.rb_plus,be=e.alias,ue=e.top,Le=[],ae=e.nil,xe=e.$$$;return e.add_stubs("require,include,!=,upcase,[],==,class,unshift,const_name!,map,coerce_to!,new,each,define_struct_attribute,allocate,initialize,alias_method,module_eval,to_proc,const_set,raise,<<,members,define_method,instance_eval,last,>,length,-,keys,any?,join,[]=,each_with_index,hash,===,<,-@,size,>=,include?,to_sym,instance_of?,__id__,eql?,enum_for,+,name,each_pair,inspect,to_h,args,each_with_object,flatten,to_a,respond_to?,dig"),ue.$require("corelib/enumerable"),function(ee,m,_e){var z=o(ee,m,"Struct"),K=[z].concat(_e),C=e.$r(K);z.$include(xe("Enumerable")),Pe(z,"$new",function ie(M,d,s){var n=ie.$$p||ae,i,$,a,b,w=this,Y=ae;if(ie.$$p=null,i=p(arguments,1),$=J(i),$=D($),a=i,b=$.$$smap.keyword_init,b==null&&(b=!1),he(M))if(le(M.$class(),xe("String"))&&se(M["$[]"](0).$upcase(),M["$[]"](0)))a.$unshift(M),M=ae;else try{M=ne["$const_name!"](M)}catch(Ce){if(e.rescue(Ce,[xe("TypeError"),xe("NameError")]))try{a.$unshift(M),M=ae}finally{e.pop_exception()}else throw Ce}return F(a,"map",[],function(Oe){return Oe==null&&(Oe=ae),ne["$coerce_to!"](Oe,xe("String"),"to_str")}),Y=F(Se,"new",[w],function Ce(){var Oe=Ce.$$s==null?this:Ce.$$s;return F(a,"each",[],function ot(lt){var gt=ot.$$s==null?this:ot.$$s;return lt==null&&(lt=ae),gt.$define_struct_attribute(lt)},{$$s:Oe}),function(ot,lt){return qe(ot,"$new",function(_t){var mt,dt,bt=this,vt=ae;return mt=p(arguments),dt=mt,vt=bt.$allocate(),vt.$$data={},F(vt,"initialize",ge(dt)),vt},-1),ot.$alias_method("[]","new")}(e.get_singleton_class(Oe))},{$$s:w}),he(n)&&F(Y,"module_eval",[],n.$to_proc()),Y.$$keyword_init=b,he(M)&&xe("Struct").$const_set(M,Y),Y},-2),Pe(z,"$define_struct_attribute",function(M){var d=this;return le(d,xe("Struct"))&&je.$raise(xe("ArgumentError"),"you cannot define attributes to the Struct class"),d.$members()["$<<"](M),F(d,"define_method",[M],function s(){var n=s.$$s==null?this:s.$$s;return n.$$data[M]},{$$s:d}),F(d,"define_method",[""+M+"="],function s(n){var i=s.$$s==null?this:s.$$s;return n==null&&(n=ae),i.$$data[M]=n},{$$s:d})}),Pe(z,"$members",function(){var M=this,d=ae;return M.members==null&&(M.members=ae),le(M,xe("Struct"))&&je.$raise(xe("ArgumentError"),"the Struct class has no members"),M.members=he(d=M.members)?d:[]}),Pe(z,"$inherited",function(M){var d=this,s=ae;return d.members==null&&(d.members=ae),s=d.members,F(M,"instance_eval",[],function n(){var i=n.$$s==null?this:n.$$s;return i.members=s},{$$s:d})}),qe(z,"$initialize",function(M){var d,s,n=this,i=ae,$=ae,a=ae;return d=p(arguments),s=d,he(n.$class().$$keyword_init)?(i=he($=s.$last())?$:ye([],{}),(he(Q(s.$length(),1))||he(s.length===1&&!i.$$is_hash))&&je.$raise(xe("ArgumentError"),"wrong number of arguments (given "+s.$length()+", expected 0)"),a=Ae(i.$keys(),n.$class().$members()),he(a["$any?"]())&&je.$raise(xe("ArgumentError"),"unknown keywords: "+a.$join(", ")),F(n.$class().$members(),"each",[],function b(w){var Y,Ce=b.$$s==null?this:b.$$s;return w==null&&(w=ae),Y=[w,i["$[]"](w)],F(Ce,"[]=",Y),Y[Y.length-1]},{$$s:n})):(he(Q(s.$length(),n.$class().$members().$length()))&&je.$raise(xe("ArgumentError"),"struct size differs"),F(n.$class().$members(),"each_with_index",[],function b(w,Y){var Ce,Oe=b.$$s==null?this:b.$$s;return w==null&&(w=ae),Y==null&&(Y=ae),Ce=[w,s["$[]"](Y)],F(Oe,"[]=",Ce),Ce[Ce.length-1]},{$$s:n}))},-1),qe(z,"$initialize_copy",function(M){var d=this;d.$$data={};var s=Object.keys(M.$$data),n,i,$;for(n=0,i=s.length;n<i;n++)$=s[n],d.$$data[$]=M.$$data[$]}),Pe(z,"$keyword_init?",function(){var M=this;return M.$$keyword_init}),qe(z,"$members",function(){var M=this;return M.$class().$members()}),qe(z,"$hash",function(){var M=this;return C("Hash").$new(M.$$data).$hash()}),qe(z,"$[]",function(M){var d=this;return We(xe("Integer"),M)?(he(Fe(M,d.$class().$members().$size()["$-@"]()))&&je.$raise(xe("IndexError"),"offset "+M+" too small for struct(size:"+d.$class().$members().$size()+")"),he(ze(M,d.$class().$members().$size()))&&je.$raise(xe("IndexError"),"offset "+M+" too large for struct(size:"+d.$class().$members().$size()+")"),M=d.$class().$members()["$[]"](M)):We(xe("String"),M)?d.$$data.hasOwnProperty(M)||je.$raise(xe("NameError").$new("no member '"+M+"' in struct",M)):je.$raise(xe("TypeError"),"no implicit conversion of "+M.$class()+" into Integer"),M=ne["$coerce_to!"](M,xe("String"),"to_str"),d.$$data[M]}),qe(z,"$[]=",function(M,d){var s=this;return We(xe("Integer"),M)?(he(Fe(M,s.$class().$members().$size()["$-@"]()))&&je.$raise(xe("IndexError"),"offset "+M+" too small for struct(size:"+s.$class().$members().$size()+")"),he(ze(M,s.$class().$members().$size()))&&je.$raise(xe("IndexError"),"offset "+M+" too large for struct(size:"+s.$class().$members().$size()+")"),M=s.$class().$members()["$[]"](M)):We(xe("String"),M)?he(s.$class().$members()["$include?"](M.$to_sym()))||je.$raise(xe("NameError").$new("no member '"+M+"' in struct",M)):je.$raise(xe("TypeError"),"no implicit conversion of "+M.$class()+" into Integer"),M=ne["$coerce_to!"](M,xe("String"),"to_str"),s.$$data[M]=d}),qe(z,"$==",function(M){var d=this;if(!he(M["$instance_of?"](d.$class())))return!1;var s={},n={};function i($,a){var b,w,Y;s[$.$__id__()]=!0,n[a.$__id__()]=!0;for(b in $.$$data)if(w=$.$$data[b],Y=a.$$data[b],xe("Struct")["$==="](w)){if((!s.hasOwnProperty(w.$__id__())||!n.hasOwnProperty(Y.$__id__()))&&!i(w,Y))return!1}else if(!w["$=="](Y))return!1;return!0}return i(d,M)}),qe(z,"$eql?",function(M){var d=this;if(!he(M["$instance_of?"](d.$class())))return!1;var s={},n={};function i($,a){var b,w,Y;s[$.$__id__()]=!0,n[a.$__id__()]=!0;for(b in $.$$data)if(w=$.$$data[b],Y=a.$$data[b],xe("Struct")["$==="](w)){if((!s.hasOwnProperty(w.$__id__())||!n.hasOwnProperty(Y.$__id__()))&&!i(w,Y))return!1}else if(!w["$eql?"](Y))return!1;return!0}return i(d,M)}),qe(z,"$each",function ie(){var M=ie.$$p||ae,d=this;return ie.$$p=null,M===ae?F(d,"enum_for",["each"],function s(){var n=s.$$s==null?this:s.$$s;return n.$size()},{$$s:d}):(F(d.$class().$members(),"each",[],function s(n){var i=s.$$s==null?this:s.$$s;return n==null&&(n=ae),e.yield1(M,i["$[]"](n))},{$$s:d}),d)}),qe(z,"$each_pair",function ie(){var M=ie.$$p||ae,d=this;return ie.$$p=null,M===ae?F(d,"enum_for",["each_pair"],function s(){var n=s.$$s==null?this:s.$$s;return n.$size()},{$$s:d}):(F(d.$class().$members(),"each",[],function s(n){var i=s.$$s==null?this:s.$$s;return n==null&&(n=ae),e.yield1(M,[n,i["$[]"](n)])},{$$s:d}),d)}),qe(z,"$length",function(){var M=this;return M.$class().$members().$length()}),qe(z,"$to_a",function(){var M=this;return F(M.$class().$members(),"map",[],function d(s){var n=d.$$s==null?this:d.$$s;return s==null&&(s=ae),n["$[]"](s)},{$$s:M})});var Te=[];return qe(z,"$inspect",function(){var M=this,d=ae,s=ae;return function(){try{return d="#<struct ",he(Te["$include?"](M.$__id__()))?ce(d,":...>"):(Te["$<<"](M.$__id__()),s=!0,We(xe("Struct"),M)&&he(M.$class().$name())&&(d=ce(d,""+M.$class()+" ")),d=ce(d,F(M.$each_pair(),"map",[],function(i,$){return i==null&&(i=ae),$==null&&($=ae),""+i+"="+C("Opal").$inspect($)}).$join(", ")),d=ce(d,">"),d)}finally{he(s)&&Te.pop()}}()}),qe(z,"$to_h",function ie(){var M=ie.$$p||ae,d=this;return ie.$$p=null,M!==ae?F(F(d,"map",[],M.$to_proc()),"to_h",ge(d.$args())):F(d.$class().$members(),"each_with_object",[ye([],{})],function s(n,i){var $,a=s.$$s==null?this:s.$$s;return n==null&&(n=ae),i==null&&(i=ae),$=[n,a["$[]"](n)],F(i,"[]=",$),$[$.length-1]},{$$s:d})}),qe(z,"$values_at",function(M){var d,s,n=this;d=p(arguments),s=d,s=F(s,"map",[],function(w){return w==null&&(w=ae),w.$$is_range?w.$to_a():w}).$flatten();for(var i=[],$=0,a=s.length;$<a;$++)s[$].$$is_number||je.$raise(xe("TypeError"),"no implicit conversion of "+s[$].$class()+" into Integer"),i.push(n["$[]"](s[$]));return i},-1),qe(z,"$dig",function(M,d){var s,n,i=this,$=ae;return s=p(arguments,1),n=s,$=he(M.$$is_string&&i.$$data.hasOwnProperty(M))&&i.$$data[M]||ae,$===ae||n.length===0?$:(he($["$respond_to?"]("dig"))||je.$raise(xe("TypeError"),""+$.$class()+" does not have #dig method"),F($,"dig",ge(n)))},-2),be(z,"size","length"),be(z,"to_s","inspect"),be(z,"values","to_a")}("::",null,Le)};Opal.modules["corelib/set"]=function(e){var o=e.freeze,p=e.klass,J=e.slice,D=e.defs,he=e.hash2,se=e.truthy,le=e.eqeqeq,ne=e.Kernel,F=e.send,Se=e.def,ge=e.eqeq,qe=e.rb_lt,Pe=e.rb_le,je=e.alias,ye=[],Q=e.nil,Ae=e.$$$;return e.add_stubs("include,new,nil?,===,raise,each,add,merge,class,respond_to?,subtract,dup,join,to_a,equal?,instance_of?,==,instance_variable_get,size,is_a?,all?,include?,[]=,enum_for,[],<<,replace,compare_by_identity,name,compare_by_identity?,delete,select,frozen?,freeze,reject,delete_if,to_proc,keep_if,each_key,empty?,eql?,instance_eval,clear,<,<=,any?,!,intersect?,keys,|,proper_subset?,subset?,proper_superset?,superset?,-,select!,collect!"),function(We,Fe,ze){var ce=p(We,Fe,"Set"),be=[ce].concat(ze),ue=e.$r(be),Le=Q,ae=ce.$$prototype;ae.hash=Q,ce.$include(Ae("Enumerable")),D(ce,"$[]",function(m){var _e,z,K=this;return _e=J(arguments),z=_e,K.$new(z)},-1),Se(ce,"$initialize",function ee(m){var _e=ee.$$p||Q,z=this;return ee.$$p=null,m==null&&(m=Q),z.hash=he([],{}),se(m["$nil?"]())?Q:(le(Ae("Enumerable"),m)||ne.$raise(Ae("ArgumentError"),"value must be enumerable"),se(_e)?F(m,"each",[],function K(C){var Te=K.$$s==null?this:K.$$s;return C==null&&(C=Q),Te.$add(e.yield1(_e,C))},{$$s:z}):z.$merge(m))},-1),Se(ce,"$dup",function(){var m=this,_e=Q;return _e=m.$class().$new(),_e.$merge(m)}),Se(ce,"$-",function(m){var _e=this;return se(m["$respond_to?"]("each"))||ne.$raise(Ae("ArgumentError"),"value must be enumerable"),_e.$dup().$subtract(m)}),Se(ce,"$inspect",function(){var m=this;return"#<Set: {"+m.$to_a().$join(",")+"}>"}),Se(ce,"$==",function(m){var _e=this;return se(_e["$equal?"](m))?!0:se(m["$instance_of?"](_e.$class()))?_e.hash["$=="](m.$instance_variable_get("@hash")):se(m["$is_a?"](Ae("Set")))&&ge(_e.$size(),m.$size())?F(m,"all?",[],function z(K){var C=z.$$s==null?this:z.$$s;return C.hash==null&&(C.hash=Q),K==null&&(K=Q),C.hash["$include?"](K)},{$$s:_e}):!1}),Se(ce,"$add",function(m){var _e=this;return _e.hash["$[]="](m,!0),_e}),Se(ce,"$classify",function ee(){var m=ee.$$p||Q,_e=this,z=Q;return ee.$$p=null,m===Q?_e.$enum_for("classify"):(z=F(Ae("Hash"),"new",[],function K(C,Te){var ie,M=K.$$s==null?this:K.$$s;return C==null&&(C=Q),Te==null&&(Te=Q),ie=[Te,M.$class().$new()],F(C,"[]=",ie),ie[ie.length-1]},{$$s:_e}),F(_e,"each",[],function(C){return C==null&&(C=Q),z["$[]"](e.yield1(m,C)).$add(C)}),z)}),Se(ce,"$collect!",function ee(){var m=ee.$$p||Q,_e=this,z=Q;return ee.$$p=null,m===Q?_e.$enum_for("collect!"):(z=_e.$class().$new(),F(_e,"each",[],function(C){return C==null&&(C=Q),z["$<<"](e.yield1(m,C))}),_e.$replace(z))}),Se(ce,"$compare_by_identity",function(){var m=this;return se(m.hash["$respond_to?"]("compare_by_identity"))?(m.hash.$compare_by_identity(),m):m.$raise(ue("NotImplementedError"),""+m.$class().$name()+"#compare_by_identity is not implemented")}),Se(ce,"$compare_by_identity?",function(){var m=this,_e=Q;return se(_e=m.hash["$respond_to?"]("compare_by_identity?"))?m.hash["$compare_by_identity?"]():_e}),Se(ce,"$delete",function(m){var _e=this;return _e.hash.$delete(m),_e}),Se(ce,"$delete?",function(m){var _e=this;return se(_e["$include?"](m))?(_e.$delete(m),_e):Q}),Se(ce,"$delete_if",function ee(){var m=ee.$$p||Q,_e=this;return ee.$$p=null,m===Q?_e.$enum_for("delete_if"):(F(F(_e,"select",[],function(K){return K==null&&(K=Q),e.yield1(m,K)}),"each",[],function z(K){var C=z.$$s==null?this:z.$$s;return C.hash==null&&(C.hash=Q),K==null&&(K=Q),C.hash.$delete(K)},{$$s:_e}),_e)}),Se(ce,"$freeze",function(){var m=this;return se(m["$frozen?"]())?m:(m.hash.$freeze(),o(m))}),Se(ce,"$keep_if",function ee(){var m=ee.$$p||Q,_e=this;return ee.$$p=null,m===Q?_e.$enum_for("keep_if"):(F(F(_e,"reject",[],function(K){return K==null&&(K=Q),e.yield1(m,K)}),"each",[],function z(K){var C=z.$$s==null?this:z.$$s;return C.hash==null&&(C.hash=Q),K==null&&(K=Q),C.hash.$delete(K)},{$$s:_e}),_e)}),Se(ce,"$reject!",function ee(){var m=ee.$$p||Q,_e=this,z=Q;return ee.$$p=null,m===Q?_e.$enum_for("reject!"):(z=_e.$size(),F(_e,"delete_if",[],m.$to_proc()),ge(_e.$size(),z)?Q:_e)}),Se(ce,"$select!",function ee(){var m=ee.$$p||Q,_e=this,z=Q;return ee.$$p=null,m===Q?_e.$enum_for("select!"):(z=_e.$size(),F(_e,"keep_if",[],m.$to_proc()),ge(_e.$size(),z)?Q:_e)}),Se(ce,"$add?",function(m){var _e=this;return se(_e["$include?"](m))?Q:_e.$add(m)}),Se(ce,"$each",function ee(){var m=ee.$$p||Q,_e=this;return ee.$$p=null,m===Q?_e.$enum_for("each"):(F(_e.hash,"each_key",[],m.$to_proc()),_e)}),Se(ce,"$empty?",function(){var m=this;return m.hash["$empty?"]()}),Se(ce,"$eql?",function(m){var _e=this;return _e.hash["$eql?"](F(m,"instance_eval",[],function z(){var K=z.$$s==null?this:z.$$s;return K.hash==null&&(K.hash=Q),K.hash},{$$s:_e}))}),Se(ce,"$clear",function(){var m=this;return m.hash.$clear(),m}),Se(ce,"$include?",function(m){var _e=this;return _e.hash["$include?"](m)}),Se(ce,"$merge",function(m){var _e=this;return F(m,"each",[],function z(K){var C=z.$$s==null?this:z.$$s;return K==null&&(K=Q),C.$add(K)},{$$s:_e}),_e}),Se(ce,"$replace",function(m){var _e=this;return _e.$clear(),_e.$merge(m),_e}),Se(ce,"$size",function(){var m=this;return m.hash.$size()}),Se(ce,"$subtract",function(m){var _e=this;return F(m,"each",[],function z(K){var C=z.$$s==null?this:z.$$s;return K==null&&(K=Q),C.$delete(K)},{$$s:_e}),_e}),Se(ce,"$|",function(m){var _e=this;return se(m["$respond_to?"]("each"))||ne.$raise(Ae("ArgumentError"),"value must be enumerable"),_e.$dup().$merge(m)});function xe(ee){se(Le=ee["$is_a?"](Ae("Set")))||ne.$raise(Ae("ArgumentError"),"value must be a set")}return Se(ce,"$superset?",function(m){var _e=this;return xe(m),se(qe(_e.$size(),m.$size()))?!1:F(m,"all?",[],function z(K){var C=z.$$s==null?this:z.$$s;return K==null&&(K=Q),C["$include?"](K)},{$$s:_e})}),Se(ce,"$proper_superset?",function(m){var _e=this;return xe(m),se(Pe(_e.$size(),m.$size()))?!1:F(m,"all?",[],function z(K){var C=z.$$s==null?this:z.$$s;return K==null&&(K=Q),C["$include?"](K)},{$$s:_e})}),Se(ce,"$subset?",function(m){var _e=this;return xe(m),se(qe(m.$size(),_e.$size()))?!1:F(_e,"all?",[],function(K){return K==null&&(K=Q),m["$include?"](K)})}),Se(ce,"$proper_subset?",function(m){var _e=this;return xe(m),se(Pe(m.$size(),_e.$size()))?!1:F(_e,"all?",[],function(K){return K==null&&(K=Q),m["$include?"](K)})}),Se(ce,"$intersect?",function(m){var _e=this;return xe(m),se(qe(_e.$size(),m.$size()))?F(_e,"any?",[],function(K){return K==null&&(K=Q),m["$include?"](K)}):F(m,"any?",[],function z(K){var C=z.$$s==null?this:z.$$s;return K==null&&(K=Q),C["$include?"](K)},{$$s:_e})}),Se(ce,"$disjoint?",function(m){var _e=this;return _e["$intersect?"](m)["$!"]()}),Se(ce,"$to_a",function(){var m=this;return m.hash.$keys()}),je(ce,"+","|"),je(ce,"<","proper_subset?"),je(ce,"<<","add"),je(ce,"<=","subset?"),je(ce,">","proper_superset?"),je(ce,">=","superset?"),je(ce,"difference","-"),je(ce,"filter!","select!"),je(ce,"length","size"),je(ce,"map!","collect!"),je(ce,"member?","include?"),je(ce,"union","|")}("::",null,ye)};Opal.modules["corelib/dir"]=function(e){var o=e.klass,p=e.def,J=e.truthy,D=e.alias,he=e.nil,se=e.$$$;return e.add_stubs("[],pwd"),function(le,ne,F){var Se=o(le,ne,"Dir");return function(ge,qe){return p(ge,"$chdir",function Pe(je){var ye=Pe.$$p||he,Q=he;return Pe.$$p=null,function(){try{return Q=e.current_dir,e.current_dir=je,e.yieldX(ye,[])}finally{e.current_dir=Q}}()}),p(ge,"$pwd",function(){return e.current_dir||"."}),p(ge,"$home",function(){var je=he;return J(je=se("ENV")["$[]"]("HOME"))?je:"."}),D(ge,"getwd","pwd")}(e.get_singleton_class(Se))}("::",null)};Opal.modules["corelib/file"]=function(e){var o=e.truthy,p=e.klass,J=e.const_set,D=e.Opal,he=e.regexp,se=e.rb_plus,le=e.def,ne=e.Kernel,F=e.eqeq,Se=e.rb_lt,ge=e.rb_minus,qe=e.range,Pe=e.send,je=e.slice,ye=e.alias,Q=[],Ae=e.nil,We=e.$$$;return e.add_stubs("respond_to?,to_path,coerce_to!,pwd,split,sub,+,unshift,join,home,raise,start_with?,absolute_path,==,<,dirname,-,basename,empty?,rindex,[],length,nil?,gsub,find,=~,map,each_with_index,flatten,reject,to_proc,end_with?,expand_path,exist?"),function(Fe,ze,ce){var be=p(Fe,ze,"File"),ue=[be].concat(ce),Le=Ae;return J(ue[0],"Separator",J(ue[0],"SEPARATOR","/")),J(ue[0],"ALT_SEPARATOR",Ae),J(ue[0],"PATH_SEPARATOR",":"),J(ue[0],"FNM_SYSCASE",0),Le=/^[a-zA-Z]:(?:\\|\/)/,function(ae,xe){var ee=[ae].concat(xe),m=e.$r(ee);le(ae,"$absolute_path",function(C,Te){var ie=Ae,M=Ae,d=Ae,s=Ae,n=Ae,i=Ae,$=Ae,a=Ae,b=Ae,w=Ae;Te==null&&(Te=Ae),ie=m("SEPARATOR"),M=z(),d=[],C=o(C["$respond_to?"]("to_path"))?C.$to_path():C,C=D["$coerce_to!"](C,We("String"),"to_str"),Te=o(s=Te)?s:We("Dir").$pwd(),n=C.substr(0,ie.length)===ie||Le.test(C),i=Te.substr(0,ie.length)===ie||Le.test(Te),o(n)?($=C.$split(he(["[",M,"]"])),a=Le.test(C)?"":C.$sub(he(["^([",M,"]+).*$"]),"\\1"),b=!0):($=se(Te.$split(he(["[",M,"]"])),C.$split(he(["[",M,"]"]))),a=Le.test(Te)?"":Te.$sub(he(["^([",M,"]+).*$"]),"\\1"),b=i);for(var Y,Ce=0,Oe=$.length;Ce<Oe;Ce++)Y=$[Ce],!(Y===Ae||Y===""&&(d.length===0||b)||Y==="."&&(d.length===0||b))&&(Y===".."?d.pop():d.push(Y));return!b&&$[0]!=="."&&d.$unshift("."),w=d.$join(ie),o(b)&&(w=se(a,w)),w},-2),le(ae,"$expand_path",function(C,Te){var ie=this,M=Ae,d=Ae,s=Ae,n=Ae,i=Ae;return Te==null&&(Te=Ae),M=m("SEPARATOR"),d=z(),o(C[0]==="~"||Te&&Te[0]==="~")&&(s=m("Dir").$home(),o(s)||ne.$raise(We("ArgumentError"),"couldn't find HOME environment -- expanding `~'"),n=Le.test(s)?"":s.$sub(he(["^([",d,"]+).*$"]),"\\1"),o(s["$start_with?"](n))||ne.$raise(We("ArgumentError"),"non-absolute home"),s=se(s,M),i=he(["^\\~(?:",M,"|$)"]),C=C.$sub(i,s),o(Te)&&(Te=Te.$sub(i,s))),ie.$absolute_path(C,Te)},-2);function _e(K){return o(K["$respond_to?"]("to_path"))&&(K=K.$to_path()),K=D["$coerce_to!"](K,We("String"),"to_str"),K}function z(){return m("ALT_SEPARATOR")===Ae?e.escape_regexp(m("SEPARATOR")):e.escape_regexp(se(m("SEPARATOR"),m("ALT_SEPARATOR")))}return le(ae,"$dirname",function(C,Te){var ie=this,M=Ae;if(Te==null&&(Te=1),F(Te,0))return C;o(Se(Te,0))&&ne.$raise(We("ArgumentError"),"level can't be negative"),M=z(),C=_e(C);var d=C.match(new RegExp("^["+M+"]")),s;return C=C.replace(new RegExp("["+M+"]+$"),""),C=C.replace(new RegExp("[^"+M+"]+$"),""),C=C.replace(new RegExp("["+M+"]+$"),""),C===""?s=d?"/":".":s=C,Te==1?s:ie.$dirname(s,ge(Te,1))},-2),le(ae,"$basename",function(C,Te){var ie=Ae;return Te==null&&(Te=Ae),ie=z(),C=_e(C),C.length==0||(Te!==Ae?Te=D["$coerce_to!"](Te,We("String"),"to_str"):Te=null,C=C.replace(new RegExp("(.)["+ie+"]*$"),"$1"),C=C.replace(new RegExp("^(?:.*["+ie+"])?([^"+ie+"]+)$"),"$1"),Te===".*"?C=C.replace(/\.[^\.]+$/,""):Te!==null&&(Te=e.escape_regexp(Te),C=C.replace(new RegExp(""+Te+"$"),""))),C},-2),le(ae,"$extname",function(C){var Te=this,ie=Ae,M=Ae;return C=_e(C),ie=Te.$basename(C),o(ie["$empty?"]())||(M=ie["$[]"](qe(1,-1,!1)).$rindex("."),o(M["$nil?"]())||F(se(M,1),ge(ie.$length(),1)))?"":ie["$[]"](e.Range.$new(se(M,1),-1,!1))}),le(ae,"$exist?",function(C){return e.modules[C]!=null}),le(ae,"$directory?",function(C){var Te=Ae;Te=[];for(var ie in e.modules)Te.push(ie);return C=C.$gsub(he(["(^.",m("SEPARATOR"),"+|",m("SEPARATOR"),"+$)"])),Pe(Te,"find",[],function(d){return d==null&&(d=Ae),d["$=~"](he(["^",C]))})}),le(ae,"$join",function(C){var Te,ie,M=Ae;return Te=je(arguments),ie=Te,o(ie["$empty?"]())?"":(M="",ie=Pe(ie.$flatten().$each_with_index(),"map",[],function(s,n){return s==null&&(s=Ae),n==null&&(n=Ae),F(n,0)&&o(s["$empty?"]())||F(ie.$length(),se(n,1))&&o(s["$empty?"]())?m("SEPARATOR"):s}),ie=Pe(ie,"reject",[],"empty?".$to_proc()),Pe(ie,"each_with_index",[],function(s,n){var i=Ae;return s==null&&(s=Ae),n==null&&(n=Ae),i=ie["$[]"](se(n,1)),o(i["$nil?"]())?M=""+M+s:(o(s["$end_with?"](m("SEPARATOR")))&&o(i["$start_with?"](m("SEPARATOR")))&&(s=s.$sub(he([m("SEPARATOR"),"+$"]),"")),M=o(s["$end_with?"](m("SEPARATOR")))||o(i["$start_with?"](m("SEPARATOR")))?""+M+s:""+M+s+m("SEPARATOR"))}),M)},-1),le(ae,"$split",function(C){return C.$split(m("SEPARATOR"))}),ye(ae,"realpath","expand_path"),ye(ae,"exists?","exist?")}(e.get_singleton_class(be),ue)}("::",We("IO"),Q)};Opal.modules["corelib/process/base"]=function(e){var o=e.klass,p=e.slice,J=e.defs,D=e.return_val,he=e.nil;return function(se,le){var ne=o(se,le,"Signal");return J(ne,"$trap",function(Se){return p(arguments),he},-1)}("::",null),function(se,le){var ne=o(se,le,"GC");return J(ne,"$start",D(he))}("::",null)};Opal.modules["corelib/process"]=function(e){var o=e.module,p=e.defs,J=e.truthy,D=e.return_val,he=e.Kernel,se=e.nil,le=e.$$$;return e.add_stubs("const_set,size,<<,__register_clock__,to_f,now,new,[],raise"),function(ne){var F=o(ne,"Process"),Se=se;if(F.__clocks__=[],p(F,"$__register_clock__",function(Pe,je){var ye=this;return ye.__clocks__==null&&(ye.__clocks__=se),ye.$const_set(Pe,ye.__clocks__.$size()),ye.__clocks__["$<<"](je)}),F.$__register_clock__("CLOCK_REALTIME",function(){return Date.now()}),Se=!1,e.global.performance)Se=function(){return performance.now()};else if(e.global.process&&process.hrtime){var ge=process.hrtime();Se=function(){var qe=process.hrtime(ge),Pe=qe[1]/1e3|0;return qe[0]*1e3+Pe/1e3}}return J(Se)&&F.$__register_clock__("CLOCK_MONOTONIC",Se),p(F,"$pid",D(0)),p(F,"$times",function(){var Pe=se;return Pe=le("Time").$now().$to_f(),le(le("Benchmark"),"Tms").$new(Pe,Pe,Pe,Pe,Pe)}),p(F,"$clock_gettime",function(Pe,je){var ye=this,Q=se;ye.__clocks__==null&&(ye.__clocks__=se),je==null&&(je="float_second"),J(Q=ye.__clocks__["$[]"](Pe))||he.$raise(le(le("Errno"),"EINVAL"),"clock_gettime("+Pe+") "+ye.__clocks__["$[]"](Pe));var Ae=Q();switch(je){case"float_second":return Ae/1e3;case"float_millisecond":return Ae/1;case"float_microsecond":return Ae*1e3;case"second":return Ae/1e3|0;case"millisecond":return Ae/1|0;case"microsecond":return Ae*1e3|0;case"nanosecond":return Ae*1e6|0;default:he.$raise(le("ArgumentError"),"unexpected unit: "+je)}},-2)}("::")};Opal.modules["corelib/random/formatter"]=function(e){var o=e.klass,p=e.module,J=e.def,D=e.range,he=e.send,se=e.rb_divide,le=e.Kernel,ne=e.Opal,F=[],Se=e.nil,ge=e.$$$;return e.add_stubs("_verify_count,bytes,encode,strict_encode64,random_bytes,urlsafe_encode64,split,hex,[]=,[],map,to_proc,join,times,<<,|,ord,/,abs,random_float,raise,coerce_to!,flatten,new,random_number,length,include,extend"),function(qe,Pe,je){var ye=o(qe,Pe,"Random"),Q=[ye].concat(je);return function(Ae,We){var Fe=p(Ae,"Formatter"),ze=[Fe].concat(We),ce=e.$r(ze);return J(Fe,"$hex",function(ue){var Le=this;ue==null&&(ue=Se),ue=ge("Random").$_verify_count(ue);for(var ae=Le.$bytes(ue),xe="",ee=0;ee<ue;ee++)xe+=ae.charCodeAt(ee).toString(16).padStart(2,"0");return xe.$encode("US-ASCII")},-1),J(Fe,"$random_bytes",function(ue){var Le=this;return ue==null&&(ue=Se),Le.$bytes(ue)},-1),J(Fe,"$base64",function(ue){var Le=this;return ue==null&&(ue=Se),ge("Base64").$strict_encode64(Le.$random_bytes(ue)).$encode("US-ASCII")},-1),J(Fe,"$urlsafe_base64",function(ue,Le){var ae=this;return ue==null&&(ue=Se),Le==null&&(Le=!1),ge("Base64").$urlsafe_encode64(ae.$random_bytes(ue),Le).$encode("US-ASCII")},-1),J(Fe,"$uuid",function(){var ue=this,Le=Se;return Le=ue.$hex(16).$split(""),Le["$[]="](12,"4"),Le["$[]="](16,(parseInt(Le["$[]"](16),16)&3|8).toString(16)),Le=[Le["$[]"](D(0,8,!0)),Le["$[]"](D(8,12,!0)),Le["$[]"](D(12,16,!0)),Le["$[]"](D(16,20,!0)),Le["$[]"](D(20,32,!0))],Le=he(Le,"map",[],"join".$to_proc()),Le.$join("-")}),J(Fe,"$random_float",function(){var ue=this,Le=Se,ae=Se;return Le=ue.$bytes(4),ae=0,he(4,"times",[],function(ee){return ee==null&&(ee=Se),ae=ae["$<<"](8),ae=ae["$|"](Le["$[]"](ee).$ord())}),se(ae.$abs(),2147483647)}),J(Fe,"$random_number",function(ue){var Le=this;function ae(){return Le.$random_float()}function xe(m){return Math.floor(ae()*m)}function ee(){var m=ue.begin,_e=ue.end;if(m===Se||_e===Se)return Se;var z=_e-m;return z<0?Se:z===0?m:(_e%1===0&&m%1===0&&!ue.excl&&z++,xe(z)+m)}return ue==null?ae():ue.$$is_range?ee():ue.$$is_number?(ue<=0&&le.$raise(ge("ArgumentError"),"invalid argument - "+ue),ue%1===0?xe(ue):ae()*ue):(ue=ne["$coerce_to!"](ue,ge("Integer"),"to_int"),ue<=0&&le.$raise(ge("ArgumentError"),"invalid argument - "+ue),xe(ue))},-1),J(Fe,"$alphanumeric",function(ue){var Le=this,ae=Se;return ue==null&&(ue=Se),ue=ce("Random").$_verify_count(ue),ae=he([D("0","9",!1),D("a","z",!1),D("A","Z",!1)],"map",[],"to_a".$to_proc()).$flatten(),he(ge("Array"),"new",[ue],function xe(ee){var m=xe.$$s==null?this:xe.$$s;return ae["$[]"](m.$random_number(ae.$length()))},{$$s:Le}).$join()},-1)}(ye,Q),ye.$include(ge(ge("Random"),"Formatter")),ye.$extend(ge(ge("Random"),"Formatter"))}("::",null,F)};Opal.modules["corelib/random/mersenne_twister"]=function(e){var o=e.klass,p=e.const_set,J=e.send,D=e.nil,he=e.$$$,se=D;return e.add_stubs("generator="),se=function(){var le=624,ne=397,F=2567483615,Se=2147483648,ge=2147483647,qe=function(ze,ce){return ze&Se|ce&ge},Pe=function(ze,ce){return qe(ze,ce)>>>1^(ce&1?F:0)};function je(ze){var ce={left:0,next:le,state:new Array(le)};return ye(ce,ze),ce}function ye(ze,ce){var be;for(ze.state[0]=ce>>>0,be=1;be<le;be++)ze.state[be]=1812433253*(ze.state[be-1]^ze.state[be-1]>>30>>>0)+be,ze.state[be]&=4294967295;ze.left=1,ze.next=le}function Q(ze){var ce=0,be=ze.state,ue;for(ze.left=le,ze.next=0,ue=le-ne+1;--ue;ce++)be[ce]=be[ce+ne]^Pe(be[ce+0],be[ce+1]);for(ue=ne;--ue;ce++)be[ce]=be[ce+(ne-le)]^Pe(be[ce+0],be[ce+1]);be[ce]=be[ce+(ne-le)]^Pe(be[ce+0],be[0])}function Ae(ze){var ce;return--ze.left<=0&&Q(ze),ce=ze.state[ze.next++],ce^=ce>>>11,ce^=ce<<7&2636928640,ce^=ce<<15&4022730752,ce^=ce>>>18,ce>>>0}function We(ze,ce){return ze>>>=5,ce>>>=6,(ze*67108864+ce)*(1/9007199254740992)}function Fe(ze){var ce=Ae(ze),be=Ae(ze);return We(ce,be)}return{genrand_real:Fe,init:je}}(),function(le,ne){var F=o(le,ne,"Random"),Se,ge=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1;return p(F,"MERSENNE_TWISTER_GENERATOR",{new_seed:function(){return Math.round(Math.random()*ge)},reseed:function(qe){return se.init(qe)},rand:function(qe){return se.genrand_real(qe)}}),Se=[he(F,"MERSENNE_TWISTER_GENERATOR")],J(F,"generator=",Se),Se[Se.length-1]}("::",null)};Opal.modules["corelib/random"]=function(e){var o=e.truthy,p=e.klass,J=e.Kernel,D=e.defs,he=e.Opal,se=e.def,le=e.eqeqeq,ne=e.send,F=e.top,Se=e.nil,ge=e.$$$;return e.add_stubs("require,attr_reader,to_int,raise,new_seed,coerce_to!,reseed,rand,seed,bytes,===,==,state,_verify_count,encode,join,new,chr,random_number,random_float,const_defined?,const_set"),F.$require("corelib/random/formatter"),function(qe,Pe){var je=p(qe,Pe,"Random");return je.$attr_reader("seed","state"),D(je,"$_verify_count",function(Q){return o(Q)||(Q=16),typeof Q!="number"&&(Q=Q.$to_int()),Q<0&&J.$raise(ge("ArgumentError"),"negative string size (or size too big)"),Q=Math.floor(Q),Q}),se(je,"$initialize",function(Q){var Ae=this;return Q==null&&(Q=ge("Random").$new_seed()),Q=he["$coerce_to!"](Q,ge("Integer"),"to_int"),Ae.state=Q,Ae.$reseed(Q)},-1),se(je,"$reseed",function(Q){var Ae=this;return Ae.seed=Q,Ae.$rng=e.$$rand.reseed(Q)}),D(je,"$new_seed",function(){return e.$$rand.new_seed()}),D(je,"$rand",function(Q){var Ae=this;return ge(Ae,"DEFAULT").$rand(Q)},-1),D(je,"$srand",function(Q){var Ae=this,We=Se;return Q==null&&(Q=ge("Random").$new_seed()),Q=he["$coerce_to!"](Q,ge("Integer"),"to_int"),We=ge(Ae,"DEFAULT").$seed(),ge(Ae,"DEFAULT").$reseed(Q),We},-1),D(je,"$urandom",function(Q){return ge("SecureRandom").$bytes(Q)}),se(je,"$==",function(Q){var Ae=this,We=Se;return le(ge("Random"),Q)?o(We=Ae.$seed()["$=="](Q.$seed()))?Ae.$state()["$=="](Q.$state()):We:!1}),se(je,"$bytes",function(Q){var Ae=this;return Q=ge("Random").$_verify_count(Q),ne(ge("Array"),"new",[Q],function We(){var Fe=We.$$s==null?this:We.$$s;return Fe.$rand(255).$chr()},{$$s:Ae}).$join().$encode("ASCII-8BIT")}),D(je,"$bytes",function(Q){var Ae=this;return ge(Ae,"DEFAULT").$bytes(Q)}),se(je,"$rand",function(Q){var Ae=this;return Ae.$random_number(Q)},-1),se(je,"$random_float",function(){var Q=this;return Q.state++,e.$$rand.rand(Q.$rng)}),D(je,"$random_float",function(){var Q=this;return ge(Q,"DEFAULT").$random_float()}),D(je,"$generator=",function(Q){var Ae=this;return e.$$rand=Q,o(Ae["$const_defined?"]("DEFAULT"))?ge(Ae,"DEFAULT").$reseed():Ae.$const_set("DEFAULT",Ae.$new(Ae.$new_seed()))})}("::",null),F.$require("corelib/random/mersenne_twister")};Opal.modules["corelib/unsupported"]=function(e){var o=e.Kernel,p=e.klass,J=e.send,D=e.slice,he=e.module,se=e.def,le=e.return_val,ne=e.alias,F=e.defs,Se=e.top,ge=[],qe=e.nil,Pe=e.$$$;e.add_stubs("raise,warn,each,define_method,%,public,private_method_defined?,private_class_method,instance_method,instance_methods,method_defined?,private_methods");var je={};function ye(Ae){switch(e.config.unsupported_features_severity){case"error":o.$raise(Pe("NotImplementedError"),Ae);break;case"warning":Q(Ae);break}}function Q(Ae){je[Ae]||(je[Ae]=!0,Se.$warn(Ae))}return function(Ae,We){var Fe=p(Ae,We,"String"),ze="String#%s not supported. Mutable String methods are not supported in Opal.";return J(["<<","capitalize!","chomp!","chop!","downcase!","gsub!","lstrip!","next!","reverse!","slice!","squeeze!","strip!","sub!","succ!","swapcase!","tr!","tr_s!","upcase!","prepend","[]=","clear","encode!","unicode_normalize!"],"each",[],function ce(be){var ue=ce.$$s==null?this:ce.$$s;return be==null&&(be=qe),J(ue,"define_method",[be],function(ae){return D(arguments),o.$raise(Pe("NotImplementedError"),ze["$%"](be))},-1)},{$$s:Fe})}("::",null),function(Ae){var We=he(Ae,"Kernel"),Fe="Object tainting is not supported by Opal";return se(We,"$taint",function(){var ce=this;return ye(Fe),ce}),se(We,"$untaint",function(){var ce=this;return ye(Fe),ce}),se(We,"$tainted?",function(){return ye(Fe),!1})}("::"),function(Ae,We){var Fe=p(Ae,We,"Module");return se(Fe,"$public",function(ce){var be,ue,Le=this;return be=D(arguments),ue=be,ue.length===0?(Le.$$module_function=!1,qe):ue.length===1?ue[0]:ue},-1),se(Fe,"$private_class_method",function(ce){var be,ue;return be=D(arguments),ue=be,ue.length===1?ue[0]:ue},-1),se(Fe,"$private_method_defined?",le(!1)),se(Fe,"$private_constant",function(ce){return D(arguments),qe},-1),ne(Fe,"nesting","public"),ne(Fe,"private","public"),ne(Fe,"protected","public"),ne(Fe,"protected_method_defined?","private_method_defined?"),ne(Fe,"public_class_method","private_class_method"),ne(Fe,"public_instance_method","instance_method"),ne(Fe,"public_instance_methods","instance_methods"),ne(Fe,"public_method_defined?","method_defined?")}("::",null),function(Ae){var We=he(Ae,"Kernel");return se(We,"$private_methods",function(ze){return D(arguments),[]},-1),ne(We,"protected_methods","private_methods"),ne(We,"private_instance_methods","private_methods"),ne(We,"protected_instance_methods","private_methods")}("::"),function(Ae,We){var Fe=he(Ae,"Kernel"),ze=[Fe].concat(We),ce=e.$r(ze);return se(Fe,"$eval",function(ue){return D(arguments),o.$raise(Pe("NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. "+("See https://github.com/opal/opal/blob/"+ce("RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details."))},-1)}("::",ge),F(Se,"$public",function(We){var Fe,ze;return Fe=D(arguments),ze=Fe,ze.length===1?ze[0]:ze},-1),F(Se,"$private",function(We){var Fe,ze;return Fe=D(arguments),ze=Fe,ze.length===1?ze[0]:ze},-1)};Opal.queue(function(e){var o=e.Object;return e.nil,e.add_stubs("require,autoload"),o.$require("opal/base"),o.$require("opal/mini"),o.$require("corelib/kernel/format"),o.$require("corelib/string/encoding"),o.$autoload("Math","corelib/math"),o.$require("corelib/complex/base"),o.$autoload("Complex","corelib/complex"),o.$require("corelib/rational/base"),o.$autoload("Rational","corelib/rational"),o.$require("corelib/time"),o.$autoload("Struct","corelib/struct"),o.$autoload("Set","corelib/set"),o.$autoload("Dir","corelib/dir"),o.$autoload("File","corelib/file"),o.$require("corelib/process/base"),o.$autoload("Process","corelib/process"),o.$autoload("Random","corelib/random"),o.$require("corelib/unsupported")});function fi(e){Opal.modules["asciidoctor/js/opal_ext/browser/file"]=function(t){var W=t.klass,H=t.defs,T=[];return t.nil,t.add_stubs("new"),function(O,c,N){var Ne=W(O,c,"File"),L=[Ne].concat(N),ve=t.$r(L);return H(Ne,"$read",function(Ve){var de="",Ue=-1;try{var we=new XMLHttpRequest;we.open("GET",Ve,!1),we.addEventListener("load",function(){Ue=this.status,(Ue===0||Ue===200)&&(de=this.responseText)}),we.overrideMimeType("text/plain"),we.send()}catch(Ie){throw ve("IOError").$new("Error reading file or directory: "+Ve+"; reason: "+Ie.message)}if(Ue===404||Ue===0&&!de)throw ve("IOError").$new("No such file or directory: "+Ve);return de})}(T[0],null,T)},Opal.modules["asciidoctor/js/opal_ext/browser"]=function(t){var W=t.const_set,H=t.top,T=[];t.nil,t.add_stubs("require");var O,c,N,Ne;if(typeof e=="object"&&typeof e.runtime=="object"){var L=e.runtime;O=L.platform,c=L.engine,N=L.framework,Ne=L.ioModule}return Ne=Ne||"xmlhttprequest",O=O||"browser",c=c||"",N=N||"",W(T[0],"JAVASCRIPT_IO_MODULE",Ne),W(T[0],"JAVASCRIPT_PLATFORM",O),W(T[0],"JAVASCRIPT_ENGINE",c),W(T[0],"JAVASCRIPT_FRAMEWORK",N),H.$require("asciidoctor/js/opal_ext/browser/file")},Opal.modules["asciidoctor/js/asciidoctor_ext/browser/abstract_node"]=function(t){var W=t.module,H=t.klass,T=t.hash2,O=t.truthy,c=t.def,N=[],Ne=t.nil,L=t.$$$;return t.add_stubs("web_path,path_resolver,uriish?,[],attr?,start_with?,descends_from?,base_dir,join,prepare_source_string,read,fetch,warn,logger,normalize_system_path,read_asset"),function(ve,v){var Ve=W(ve,"Asciidoctor"),de=[Ve].concat(v);return function(Ue,we,Ie){var st=H(Ue,we,"AbstractNode"),De=[st].concat(Ie),et=t.$r(De),Me=st.$$prototype;return Me.document=Ne,c(st,"$read_contents",function(it,x){var Xe=this,g=Ne,Ze=Ne,rt=Ne;if(x==null&&(x=T([],{})),g=Xe.document,O(et("Helpers")["$uriish?"](it))||O(Ze=x["$[]"]("start"))&&O(et("Helpers")["$uriish?"](Ze))&&O(it=g.$path_resolver().$web_path(it,Ze)))if(O(g.$path_resolver()["$descends_from?"](it,g.$base_dir()))||O(it["$start_with?"]("chrome://"))||O(g["$attr?"]("allow-uri-read")))try{return O(x["$[]"]("normalize"))?et("Helpers").$prepare_source_string(L("File").$read(it)).$join(et("LF")):L("File").$read(it)}catch(B){if(t.rescue(B,[et("StandardError")]))try{return O(x.$fetch("warn_on_failure",!0))&&Xe.$logger().$warn("could not retrieve contents of "+(O(rt=x["$[]"]("label"))?rt:"asset")+" at URI: "+it),Ne}finally{t.pop_exception()}else throw B}else return O(x.$fetch("warn_on_failure",!0))&&Xe.$logger().$warn("cannot retrieve contents of "+(O(rt=x["$[]"]("label"))?rt:"asset")+" at URI: "+it+" (allow-uri-read attribute not enabled)"),Ne;else return it=Xe.$normalize_system_path(it,x["$[]"]("start"),Ne,T(["target_name"],{target_name:O(rt=x["$[]"]("label"))?rt:"asset"})),Xe.$read_asset(it,T(["normalize","warn_on_failure","label"],{normalize:x["$[]"]("normalize"),warn_on_failure:x.$fetch("warn_on_failure",!0),label:x["$[]"]("label")}))},-2),c(st,"$generate_data_uri_from_uri",function(it,x){var Xe=this,g="",Ze="",rt=-1;try{var B=new XMLHttpRequest;B.open("GET",it,!1),B.overrideMimeType("text/plain; charset=x-user-defined"),B.addEventListener("load",function(){if(rt=this.status,rt===0||rt===200){for(var A="",Be=this.responseText,$e=0,me=Be.length;$e<me;++$e){var fe=Be.charCodeAt($e),V=fe&255;A+=String.fromCharCode(V)}Ze=btoa(A),g=this.getResponseHeader("content-type")}}),B.send(null),g||(it.endsWith(".jpeg")||it.endsWith(".jpg")||it.endsWith(".jpe")?g="image/jpg":it.endsWith(".png")?g="image/png":it.endsWith(".svg")?g="image/svg+xml":it.endsWith(".bmp")?g="image/bmp":(it.endsWith(".tif")||it.endsWith(".tiff"))&&(g="image/tiff"))}catch{rt=0}return rt===404||rt===0&&(!Ze||!g)?(Xe.$logger().$warn("could not retrieve image data from URI: "+it),it):"data:"+g+";base64,"+Ze},-2)}(de[0],null,de)}(N[0],N)},Opal.modules["asciidoctor/js/asciidoctor_ext/browser/open_uri"]=function(t){var W=t.module,H=t.slice,T=t.send,O=t.to_a,c=t.defs,N=[],Ne=t.nil;return t.add_stubs("new,path"),function(L,ve){var v=W(L,"OpenURI"),Ve=[v].concat(ve),de=t.$r(Ve);return c(de("OpenURI"),"$open_uri",function Ue(we,Ie){var st,De,et=Ue.$$p||Ne,Me=this,Ge=Ne;return Ue.$$p=null,st=H(arguments,1),De=st,Ge=T(de("File"),"new",[Me.$path()].concat(O(De))),et!==Ne?t.yield1(et,Ge):Ge},-2)}(N[0],N)},Opal.modules["asciidoctor/js/asciidoctor_ext/browser/path_resolver"]=function(t){var W=t.module,H=t.klass,T=t.truthy,O=t.def,c=[],N=t.nil;return t.add_stubs("absolute_path?,start_with?"),function(Ne,L){var ve=W(Ne,"Asciidoctor"),v=[ve].concat(L);return function(Ve,de){var Ue=H(Ve,de,"PathResolver");return O(Ue,"$root?",function(Ie){var st=this,De=N;return T(De=st["$absolute_path?"](Ie))?De:Ie["$start_with?"]("file://","http://","https://","chrome://")})}(v[0],null)}(c[0],c)},Opal.modules["asciidoctor/js/asciidoctor_ext/browser/reader"]=function(t){var W=t.module,H=t.klass,T=t.truthy,O=t.eqeq,c=t.not,N=t.def,Ne=[],L=t.nil;return t.add_stubs("posixify,new,base_dir,start_with?,uriish?,key?,attributes,descends_from?,replace_next_line,absolute_path?,==,empty?,!,slice,length"),function(ve,v){var Ve=W(ve,"Asciidoctor"),de=[Ve].concat(v),Ue=t.$r(de);return function(we,Ie,st){var De=H(we,Ie,"PreprocessorReader"),et=[De].concat(st),Me=t.$r(et),Ge=De.$$prototype;return Ge.path_resolver=Ge.document=Ge.include_stack=Ge.dir=L,N(De,"$resolve_include_path",function(x,Xe,g){var Ze,rt=this,B=L,A=L,Be=L,$e=L,me=L,fe=L,V=L,te=L;if(B=(rt.path_resolver=T(A=rt.path_resolver)?A:Me("PathResolver").$new("\\")).$posixify(x),Ze=["file",rt.document.$base_dir()],Ze[0],Be=Ze[1],T(B["$start_with?"]("file://")))$e=me=B;else if(T(Me("Helpers")["$uriish?"](B))){if(!(T(rt.path_resolver["$descends_from?"](B,Be))||T(rt.document.$attributes()["$key?"]("allow-uri-read"))))return rt.$replace_next_line("link:"+x+"["+Xe+"]");$e=me=B}else if(T(rt.path_resolver["$absolute_path?"](B)))$e=me="file://"+(T(B["$start_with?"]("/"))?"":"/")+B;else if(O(fe=T(V=rt.include_stack["$empty?"]())?Be:rt.dir,"."))$e=me=B;else if(T(fe["$start_with?"]("file://"))||c(Me("Helpers")["$uriish?"](fe)))$e=""+fe+"/"+B,T(V)?me=B:O(Be,".")||c(te=rt.path_resolver["$descends_from?"]($e,Be))?me=$e:me=$e.$slice(te,$e.$length());else if(T(V))$e=""+fe+"/"+(me=B);else if(T(te=rt.path_resolver["$descends_from?"](fe,Be))||T(rt.document.$attributes()["$key?"]("allow-uri-read")))$e=""+fe+"/"+B,me=T(te)?$e.$slice(te,$e.$length()):B;else return rt.$replace_next_line("link:"+x+"["+Xe+"]");return[$e,"file",me]})}(de[0],Ue("Reader"),de)}(Ne[0],Ne)},Opal.modules["asciidoctor/js/asciidoctor_ext/browser"]=function(t){var W=t.eqeq,H=t.top,T=[],O=t.$r(T),c=t.nil;return t.add_stubs("==,require"),W(O("JAVASCRIPT_IO_MODULE"),"xmlhttprequest")?(H.$require("asciidoctor/js/asciidoctor_ext/browser/abstract_node"),H.$require("asciidoctor/js/asciidoctor_ext/browser/open_uri"),H.$require("asciidoctor/js/asciidoctor_ext/browser/path_resolver"),H.$require("asciidoctor/js/asciidoctor_ext/browser/reader")):c},Opal.modules.set=Opal.return_val(Opal.nil),Opal.modules["asciidoctor/js/opal_ext/kernel"]=function(t){var W=t.module,H=t.slice,T=t.send,O=t.to_a,c=t.def,N=t.return_val,Ne=[],L=t.nil;return t.add_stubs("new"),function(ve,v){var Ve=W(ve,"Kernel"),de=[Ve].concat(v),Ue=t.$r(de);return c(Ve,"$open",function we(Ie,st){var De,et,Me=we.$$p||L,Ge=L;return we.$$p=null,De=H(arguments,1),et=De,Ge=T(Ue("File"),"new",[Ie].concat(O(et))),Me!==L?t.yield1(Me,Ge):Ge},-2),c(Ve,"$__dir__",N(""))}(Ne[0],Ne)},Opal.modules["asciidoctor/js/opal_ext/file"]=function(t){var W=t.klass,H=t.def,T=t.truthy,O=t.gvars,c=t.return_val,N=t.defs,Ne=[],L=t.nil;return t.add_stubs("attr_reader,delete,gsub,read,size,to_enum,chomp,each_line,readlines,split"),function(ve,v,Ve){var de=W(ve,v,"File"),Ue=[de].concat(Ve),we=t.$r(Ue),Ie=de.$$prototype;return Ie.eof=Ie.path=L,de.$attr_reader("eof"),de.$attr_reader("lineno"),de.$attr_reader("path"),H(de,"$initialize",function(De,et){var Me=this,Ge=L;return et==null&&(et="r"),Me.path=De,Me.contents=L,Me.eof=!1,Me.lineno=0,et=et.$delete("b"),Ge=/:(.*)/,et=et.$gsub(Ge,""),Me.flags=et},-2),H(de,"$read",function(){var De=this,et=L;return T(De.eof)?"":(et=we("File").$read(De.path),De.eof=!0,De.lineno=et.$size(),et)}),H(de,"$each_line",function st(De){var et=st.$$p||L,Me=this,Ge=L;if(O["/"]==null&&(O["/"]=L),st.$$p=null,De==null&&(De=O["/"]),T(Me.eof))return et!==L?Me:[].$to_enum();if(et!==L){Ge=we("File").$read(Me.path),Me.eof=!1,Me.lineno=0;for(var it=Ge.$chomp(),x=Ge.length!=it.length,Xe=it.split(De),g=0,Ze=Xe.length;g<Ze;g++)Me.lineno+=1,g<Ze-1||x?t.yield1(et,Xe[g]+De):t.yield1(et,Xe[g]);return Me.eof=!0,Me}else return Me.$read().$each_line()},-1),H(de,"$readlines",function(){var De=this;return we("File").$readlines(De.path)}),function(st,De){var et=[st].concat(De),Me=t.$r(et);return H(st,"$readlines",function(it,x){var Xe=L;return O["/"]==null&&(O["/"]=L),x==null&&(x=O["/"]),Xe=Me("File").$read(it),Xe.$split(x)},-2),H(st,"$file?",c(!0)),H(st,"$readable?",c(!0)),H(st,"$read",c(""))}(t.get_singleton_class(de),Ue)}(Ne[0],null,Ne),function(ve,v,Ve){var de=W(ve,v,"IO"),Ue=[de].concat(Ve),we=t.$r(Ue);return N(de,"$read",function(st){return we("File").$read(st)})}(Ne[0],null,Ne)},Opal.modules["asciidoctor/js/opal_ext/match_data"]=function(t){var W=t.klass,H=t.send,T=t.def,O=[],c=t.nil;return t.add_stubs("[]="),function(N,Ne){var L=W(N,Ne,"MatchData"),ve=L.$$prototype;return ve.matches=c,T(L,"$[]=",function(Ve,de){var Ue,we=this;return Ue=[Ve,de],H(we.matches,"[]=",Ue),Ue[Ue.length-1]})}(O[0],null)},Opal.modules["asciidoctor/js/opal_ext/string"]=function(t){var W=t.klass,H=t.truthy,T=t.rb_lt,O=t.def,c=t.alias,N=t.rb_ge,Ne=t.eqeq,L=t.rb_minus,ve=[],v=t.nil;return t.add_stubs("method_defined?,<,length,bytes,to_s,byteslice,limit_bytesize,>=,==,-,_original_byteslice,unpack,_original_unpack"),function(Ve,de){var Ue=W(Ve,de,"String");return H(Ue["$method_defined?"]("limit_bytesize"))||O(Ue,"$limit_bytesize",function(Ie){var st=this,De=v;return H(T(Ie,st.$bytes().$length()))?(De=st.$byteslice(0,Ie),De.$to_s()):st.$to_s()}),H(Ue["$method_defined?"]("limit"))||c(Ue,"limit","limit_bytesize"),c(Ue,"_original_byteslice","byteslice"),O(Ue,"$byteslice",function(Ie,st){var De=this;return st==null&&(st=1),Ne(Ie,3)&&H(N(st,Ie))&&H(De.charCodeAt()===65279)?De.substr(1).$byteslice(0,L(st,3)):De.$_original_byteslice(Ie,st)},-2),c(Ue,"_original_unpack","unpack"),O(Ue,"$unpack",function(Ie){var st=this;if(Ne(Ie,"C3")){if(H(st.charCodeAt()===65279))return[239,187,191];for(var De=[],et=0;et<3;et++)et<st.length?De.push(st.charCodeAt(et)):De.push(v);return De}else return st.$_original_unpack(Ie)})}(ve[0],null)},Opal.modules["asciidoctor/js/opal_ext/uri"]=function(t){var W=t.module,H=t.defs,T=t.return_self,O=t.def,c=[];return t.nil,t.add_stubs("extend"),function(N,Ne){var L=W(N,"URI"),ve=[L].concat(Ne),v=t.$r(ve);return H(L,"$parse",function(de){return de.$extend(v("URI"))}),O(L,"$path",T)}(c[0],c)},Opal.modules["asciidoctor/js/opal_ext/base64"]=function(t){var W=t.module,H=t.defs,T=t.ensure_kwargs,O=t.truthy,c=[],N=t.nil;return t.add_stubs("delete"),function(Ne){var L=W(Ne,"Base64"),ve,v;return ve=t.global.btoa||function(Ve){var de;return Ve instanceof Buffer?de=Ve:de=Buffer.from(Ve.toString(),"binary"),de.toString("base64")},v=t.global.atob||function(Ve){return Buffer.from(Ve,"base64").toString("binary")},H(L,"$decode64",function(de){return v(de.replace(/\r?\n/g,""))}),H(L,"$encode64",function(de){return ve(de).replace(/(.{60})/g,`$1
`).replace(/([^\n])$/g,`$1
`)}),H(L,"$strict_decode64",function(de){return v(de)}),H(L,"$strict_encode64",function(de){return ve(de)}),H(L,"$urlsafe_decode64",function(de){return v(de.replace(/\-/g,"+").replace(/_/g,"/"))}),H(L,"$urlsafe_encode64",function(de,Ue){var we,Ie=N;return Ue=T(Ue),we=Ue.$$smap.padding,we==null&&(we=!0),Ie=ve(de).replace(/\+/g,"-").replace(/\//g,"_"),O(we)||(Ie=Ie.$delete("=")),Ie},-2)}(c[0])},Opal.modules["asciidoctor/js/opal_ext/number"]=function(t){var W=t.klass,H=t.truthy,T=t.rb_gt,O=t.def,c=[],N=t.$r(c);return t.nil,t.add_stubs("coerce_to!,>"),function(Ne,L,ve){var v=W(Ne,L,"Number"),Ve=[v].concat(ve),de=t.$r(Ve);return O(v,"$round",function(we){var Ie=this;return we=de("Opal")["$coerce_to!"](we,de("Integer"),"to_int"),H(T(we,0))?Number(Ie.toFixed(we)):Math.round(Ie)},-1)}(c[0],N("Numeric"),c)},Opal.modules["asciidoctor/js/opal_ext"]=function(t){var W=t.top;t.nil,t.add_stubs("require"),W.$require("asciidoctor/js/opal_ext/kernel"),W.$require("asciidoctor/js/opal_ext/file"),W.$require("asciidoctor/js/opal_ext/match_data"),W.$require("asciidoctor/js/opal_ext/string"),W.$require("asciidoctor/js/opal_ext/uri"),W.$require("asciidoctor/js/opal_ext/base64"),W.$require("asciidoctor/js/opal_ext/number"),t.config.unsupported_features_severity="ignore",W.$require("asciidoctor/js/opal_ext/browser")},Opal.modules["asciidoctor/js/rx"]=function(t){var W=t.module,H=t.const_set,T=t.send,O=t.gvars,c=t.truthy,N=t.defs,Ne=t.rb_plus,L=[],ve=t.nil;return t.add_stubs("gsub,+,unpack_hex_range"),function(v,Ve){var de=W(v,"Asciidoctor"),Ue=[de].concat(Ve),we=t.$r(Ue);return H(Ue[0],"HEX_RANGE_RX",/([A-F0-9]{4})(?:-([A-F0-9]{4}))?/),N(de,"$unpack_hex_range",function(st){return T(st,"gsub",[we("HEX_RANGE_RX")],function(){var et,Me=ve;return"\\u"+((et=O["~"])===ve?ve:et["$[]"](1))+(c(Me=(et=O["~"])===ve?ve:et["$[]"](2))?"-\\u"+((et=O["~"])===ve?ve:et["$[]"](2)):Me)})}),H(Ue[0],"P_L",Ne("A-Za-z",de.$unpack_hex_range("00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D037F03860388-038A038C038E-03A103A3-03F503F7-0481048A-052F0531-055605590561-058705D0-05EA05F0-05F20620-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280840-085808A0-08B20904-0939093D09500958-09610971-09800985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10CF10CF20D05-0D0C0D0E-0D100D12-0D3A0D3D0D4E0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC-0EDF0F000F40-0F470F49-0F6C0F88-0F8C1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510C710CD10D0-10FA10FC-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA16F1-16F81700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191E1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1BBA-1BE51C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11CF51CF61D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209C21022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2CF22CF32D00-2D252D272D2D2D30-2D672D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31BA31F0-31FF3400-4DB54E00-9FCCA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A66EA67F-A69DA6A0-A6E5A717-A71FA722-A788A78B-A78EA790-A7ADA7B0A7B1A7F7-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFA9E0-A9E4A9E6-A9EFA9FA-A9FEAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA7E-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDAAE0-AAEAAAF2-AAF4AB01-AB06AB09-AB0EAB11-AB16AB20-AB26AB28-AB2EAB30-AB5AAB5C-AB5FAB64AB65ABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC"))),H(Ue[0],"P_Nl",de.$unpack_hex_range("16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF")),H(Ue[0],"P_Nd",Ne("0-9",de.$unpack_hex_range("0660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0DE6-0DEF0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19D91A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9A9F0-A9F9AA50-AA59ABF0-ABF9FF10-FF19"))),H(Ue[0],"P_Pc",de.$unpack_hex_range("005F203F20402054FE33FE34FE4D-FE4FFF3F")),H(Ue[0],"CC_ALPHA",""+we("P_L")+we("P_Nl")),H(Ue[0],"CG_ALPHA","["+we("CC_ALPHA")+"]"),H(Ue[0],"CC_ALNUM",""+we("CC_ALPHA")+we("P_Nd")),H(Ue[0],"CG_ALNUM","["+we("CC_ALNUM")+"]"),H(Ue[0],"CC_WORD",""+we("CC_ALNUM")+we("P_Pc")),H(Ue[0],"CG_WORD","["+we("CC_WORD")+"]"),H(Ue[0],"CG_BLANK","[ \\t]"),H(Ue[0],"CC_EOL","(?=\\n|$)"),H(Ue[0],"CG_GRAPH","[^\\s\\x00-\\x1F\\x7F]"),H(Ue[0],"CC_ALL","[\\s\\S]"),H(Ue[0],"CC_ANY","[^\\n]")}(L[0],L)},Opal.modules.strscan=function(t){var W=t.klass,H=t.def,T=t.truthy,O=t.eqeqeq,c=t.Opal,N=t.return_ivar,Ne=t.send,L=t.alias,ve=[],v=t.nil;return t.add_stubs("attr_reader,anchor,empty?,===,to_s,coerce_to!,scan_until,length,size,rest,pos=,beginning_of_line?,get_byte,private"),function(Ve,de,Ue){var we=W(Ve,de,"StringScanner"),Ie=[we].concat(Ue),st=t.$r(Ie),De=we.$$prototype;return De.pos=De.string=De.working=De.matched=De.prev_pos=De.match=v,we.$attr_reader("pos","matched"),H(we,"$initialize",function(Me){var Ge=this;return Ge.string=Me,Ge.pos=0,Ge.matched=v,Ge.working=Me,Ge.match=[]}),we.$attr_reader("string"),H(we,"$beginning_of_line?",function(){var Me=this;return Me.pos===0||Me.string.charAt(Me.pos-1)===`
`}),H(we,"$scan",function(Me){var Ge=this;Me=Ge.$anchor(Me);var it=Me.exec(Ge.working);return it==null?Ge.matched=v:(Ge.prev_pos=Ge.pos,Ge.pos+=it[0].length,Ge.working=Ge.working.substring(it[0].length),Ge.matched=it[0],Ge.match=it,it[0])}),H(we,"$scan_until",function(Me){var Ge=this;Me=Ge.$anchor(Me);for(var it=Ge.working,x=0;it.length!=x;++x){var Xe=Me.exec(it.substr(x));if(Xe!==null){var g=x+Xe[0].length,Ze=it.substr(0,g);return Ge.matched=Xe[0],Ge.match=Xe,Ge.prev_pos=Ge.pos+x,Ge.pos+=g,Ge.working=it.substr(g),Ze}}return Ge.matched=v}),H(we,"$[]",function(Me){var Ge=this,it=v;if(T(Ge.match["$empty?"]()))return v;O(st("Symbol"),it=Me)?Me=Me.$to_s():O(st("String"),it)||(Me=c["$coerce_to!"](Me,st("Integer"),"to_int"));var x=Ge.match;return Me<0&&(Me+=x.length),Me<0||Me>=x.length||x[Me]==null?v:x[Me]}),H(we,"$check",function(Me){var Ge=this;Me=Ge.$anchor(Me);var it=Me.exec(Ge.working);return it==null?Ge.matched=v:Ge.matched=it[0]}),H(we,"$check_until",function(Me){var Ge=this,it=Ge.prev_pos,x=Ge.pos,Xe=Ge.working,g=Ge.$scan_until(Me);return Ge.prev_pos=it,Ge.pos=x,Ge.working=Xe,g}),H(we,"$peek",function(Me){var Ge=this;return Ge.working.substring(0,Me)}),H(we,"$eos?",function(){var Me=this;return Me.working.length===0}),H(we,"$exist?",function(Me){var Ge=this,it=Me.exec(Ge.working);return it==null?v:it.index==0?0:it.index+1}),H(we,"$skip",function(Me){var Ge=this;Me=Ge.$anchor(Me);var it=Me.exec(Ge.working);if(it==null)return Ge.match=[],Ge.matched=v;var x=it[0],Xe=x.length;return Ge.matched=x,Ge.match=it,Ge.prev_pos=Ge.pos,Ge.pos+=Xe,Ge.working=Ge.working.substring(Xe),Xe}),H(we,"$skip_until",function(Me){var Ge=this,it=Ge.$scan_until(Me);return it===v?v:(Ge.matched=it.substr(-1),it.length)}),H(we,"$get_byte",function(){var Me=this,Ge=v;return Me.pos<Me.string.length?(Me.prev_pos=Me.pos,Me.pos+=1,Ge=Me.matched=Me.working.substring(0,1),Me.working=Me.working.substring(1)):Me.matched=v,Ge}),H(we,"$match?",function(Me){var Ge=this;Me=Ge.$anchor(Me);var it=Me.exec(Ge.working);return it==null?v:(Ge.prev_pos=Ge.pos,it[0].length)}),H(we,"$pos=",function(Me){var Ge=this;return Me<0&&(Me+=Ge.string.$length()),Ge.pos=Me,Ge.working=Ge.string.slice(Me)}),H(we,"$matched_size",function(){var Me=this;return Me.matched===v?v:Me.matched.length}),H(we,"$post_match",function(){var Me=this;return Me.matched===v?v:Me.string.substr(Me.pos)}),H(we,"$pre_match",function(){var Me=this;return Me.matched===v?v:Me.string.substr(0,Me.prev_pos)}),H(we,"$reset",function(){var Me=this;return Me.working=Me.string,Me.matched=v,Me.pos=0}),H(we,"$rest",N("working")),H(we,"$rest?",function(){var Me=this;return Me.working.length!==0}),H(we,"$rest_size",function(){var Me=this;return Me.$rest().$size()}),H(we,"$terminate",function(){var Me,Ge=this;return Ge.match=v,Me=[Ge.string.$length()],Ne(Ge,"pos=",Me),Me[Me.length-1]}),H(we,"$unscan",function(){var Me=this;return Me.pos=Me.prev_pos,Me.prev_pos=v,Me.match=v,Me}),L(we,"bol?","beginning_of_line?"),L(we,"getch","get_byte"),we.$private(),H(we,"$anchor",function(Me){var Ge=Me.toString().match(/\/([^\/]+)$/);return Ge=Ge?Ge[1]:void 0,new RegExp("^(?:"+Me.source+")",Ge)})}(ve[0],null,ve)},Opal.modules["asciidoctor/js"]=function(t){var W=t.top;return t.nil,t.add_stubs("require"),W.$require("asciidoctor/js/opal_ext"),W.$require("asciidoctor/js/rx"),W.$require("strscan")},Opal.modules["asciidoctor/core_ext/nil_or_empty"]=function(t){var W=t.klass,H=t.truthy,T=t.alias,O=[],c=t.nil;return t.add_stubs("method_defined?,nil?,empty?"),function(N,Ne){var L=W(N,Ne,"NilClass");return H(L["$method_defined?"]("nil_or_empty?"))?c:T(L,"nil_or_empty?","nil?")}(O[0],null),function(N,Ne){var L=W(N,Ne,"String");return H(L["$method_defined?"]("nil_or_empty?"))?c:T(L,"nil_or_empty?","empty?")}(O[0],null),function(N,Ne){var L=W(N,Ne,"Array");return H(L["$method_defined?"]("nil_or_empty?"))?c:T(L,"nil_or_empty?","empty?")}(O[0],null),function(N,Ne){var L=W(N,Ne,"Hash");return H(L["$method_defined?"]("nil_or_empty?"))?c:T(L,"nil_or_empty?","empty?")}(O[0],null),function(N,Ne){var L=W(N,Ne,"Numeric");return H(L["$method_defined?"]("nil_or_empty?"))?c:T(L,"nil_or_empty?","nil?")}(O[0],null)},Opal.modules["asciidoctor/core_ext/hash/merge"]=function(t){var W=t.eqeq,H=t.send,T=t.slice,O=t.truthy,c=t.rb_lt,N=t.rb_gt,Ne=t.send2,L=t.find_super,ve=t.def,v=t.top,Ve=[],de=t.$r(Ve),Ue=t.nil;return t.add_stubs("==,arity,instance_method,send,new,<,length,dup,>,inject,merge,[]"),W(de("Hash").$instance_method("merge").$arity(),1)?de("Hash").$send("prepend",H(de("Module"),"new",[],function we(){var Ie=we.$$s==null?this:we.$$s;return ve(Ie,"$merge",function st(De){var et,Me;st.$$p;var Ge=this,it=Ue;return st.$$p=null,et=T(arguments),Me=et,O(c(it=Me.$length(),1))?Ge.$dup():O(N(it,1))?H(Me,"inject",[Ge],function(Xe,g){return Xe==null&&(Xe=Ue),g==null&&(g=Ue),Xe.$merge(g)}):Ne(Ge,L(Ge,"merge",st,!1,!0),"merge",[Me["$[]"](0)],null)},-1)},{$$s:v})):Ue},Opal.modules["asciidoctor/core_ext/match_data/names"]=function(t){var W=t.truthy,H=t.klass,T=t.def,O=[],c=t.$r(O),N=t.nil;return t.add_stubs("method_defined?"),W(c("MatchData")["$method_defined?"]("names"))?N:function(Ne,L){var ve=H(Ne,L,"MatchData");return T(ve,"$names",function(){return[]})}(O[0],null)},Opal.modules["asciidoctor/core_ext"]=function(t){var W=t.top;return t.nil,W.$require("asciidoctor/core_ext.rb/../core_ext/nil_or_empty"),W.$require("asciidoctor/core_ext.rb/../core_ext/hash/merge"),W.$require("asciidoctor/core_ext.rb/../core_ext/match_data/names")},Opal.modules["asciidoctor/helpers"]=function(t){var W=t.module,H=t.truthy,T=t.eqeq,O=t.gvars,c=t.def,N=t.send,Ne=t.neqeq,L=t.const_set,ve=t.hash2,v=t.to_ary,Ve=t.rb_times,de=t.eqeqeq,Ue=t.rb_plus,we=t.Class,Ie=t.Object,st=[],De=t.nil,et=t.$$$;return t.add_stubs("module_function,require,include?,include,==,path,message,raise,warn,logger,chomp,empty?,slice,unpack,[],[]=,byteslice,bytesize,map,rstrip,encode,encoding,nil_or_empty?,!=,tap,each_line,<<,!,start_with?,match?,gsub,rindex,index,basename,extname,length,directory?,dirname,mkdir_p,mkdir,private_constant,join,divmod,*,===,+,to_s,to_i,succ,class_for_name,const_get"),function(Me,Ge){var it=W(Me,"Asciidoctor"),x=[it].concat(Ge);return function(Xe,g){var Ze=W(Xe,"Helpers"),rt=[Ze].concat(g),B=t.$r(rt);return Ze.$module_function(),c(Ze,"$require_library",function(Be,$e,me){var fe=this,V=De;O["!"]==null&&(O["!"]=De),$e==null&&($e=!0),me==null&&(me="abort");try{return fe.$require(Be)}catch(te){if(t.rescue(te,[et("LoadError")]))try{if(H(fe["$include?"](B("Logging")))||fe.$include(B("Logging")),H($e))switch(T($e,!0)&&($e=Be),me){case"abort":V=T(O["!"].$path(),$e)?"":" (reason: "+(H(O["!"].$path())?"cannot load '"+O["!"].$path()+"'":O["!"].$message())+")",fe.$raise(et("LoadError"),"asciidoctor: FAILED: required gem '"+$e+"' is not available"+V+". Processing aborted.");break;case"warn":V=T(O["!"].$path(),$e)?"":" (reason: "+(H(O["!"].$path())?"cannot load '"+O["!"].$path()+"'":O["!"].$message())+")",fe.$logger().$warn("optional gem '"+$e+"' is not available"+V+". Functionality disabled.");break;default:}else switch(me){case"abort":fe.$raise(et("LoadError"),"asciidoctor: FAILED: "+O["!"].$message().$chomp(".")+". Processing aborted.");break;case"warn":fe.$logger().$warn(""+O["!"].$message().$chomp(".")+". Functionality disabled.");break;default:}return De}finally{t.pop_exception()}else throw te}},-2),c(Ze,"$prepare_source_array",function(Be,$e){var me=De,fe=De,V=De;return $e==null&&($e=!0),H(Be["$empty?"]())?[]:T(me=(fe=(V=Be["$[]"](0)).$unpack("C3")).$slice(0,2),B("BOM_BYTES_UTF_16LE"))?(Be["$[]="](0,V.$byteslice(2,V.$bytesize())),H($e)?N(Be,"map",[],function(P){return P==null&&(P=De),P.$encode(B("UTF_8"),et(et("Encoding"),"UTF_16LE")).$rstrip()}):N(Be,"map",[],function(P){return P==null&&(P=De),P.$encode(B("UTF_8"),et(et("Encoding"),"UTF_16LE")).$chomp()})):T(me,B("BOM_BYTES_UTF_16BE"))?(Be["$[]="](0,V.$byteslice(2,V.$bytesize())),H($e)?N(Be,"map",[],function(P){return P==null&&(P=De),P.$encode(B("UTF_8"),et(et("Encoding"),"UTF_16BE")).$rstrip()}):N(Be,"map",[],function(P){return P==null&&(P=De),P.$encode(B("UTF_8"),et(et("Encoding"),"UTF_16BE")).$chomp()})):(T(fe,B("BOM_BYTES_UTF_8"))&&Be["$[]="](0,V.$byteslice(3,V.$bytesize())),T(V.$encoding(),B("UTF_8"))?H($e)?N(Be,"map",[],function(P){return P==null&&(P=De),P.$rstrip()}):N(Be,"map",[],function(P){return P==null&&(P=De),P.$chomp()}):H($e)?N(Be,"map",[],function(P){return P==null&&(P=De),P.$encode(B("UTF_8")).$rstrip()}):N(Be,"map",[],function(P){return P==null&&(P=De),P.$encode(B("UTF_8")).$chomp()}))},-2),c(Ze,"$prepare_source_string",function(Be,$e){var me=De,fe=De;return $e==null&&($e=!0),H(Be["$nil_or_empty?"]())?[]:(T(me=(fe=Be.$unpack("C3")).$slice(0,2),B("BOM_BYTES_UTF_16LE"))?Be=Be.$byteslice(2,Be.$bytesize()).$encode(B("UTF_8"),et(et("Encoding"),"UTF_16LE")):T(me,B("BOM_BYTES_UTF_16BE"))?Be=Be.$byteslice(2,Be.$bytesize()).$encode(B("UTF_8"),et(et("Encoding"),"UTF_16BE")):T(fe,B("BOM_BYTES_UTF_8"))?(Be=Be.$byteslice(3,Be.$bytesize()),T(Be.$encoding(),B("UTF_8"))||(Be=Be.$encode(B("UTF_8")))):Ne(Be.$encoding(),B("UTF_8"))&&(Be=Be.$encode(B("UTF_8"))),H($e)?N([],"tap",[],function(te){return te==null&&(te=De),N(Be,"each_line",[],function(q){return q==null&&(q=De),te["$<<"](q.$rstrip())})}):N([],"tap",[],function(te){return te==null&&(te=De),N(Be,"each_line",[],function(q){return q==null&&(q=De),te["$<<"](q.$chomp())})}))},-2),T(et("RUBY_ENGINE"),"jruby")?c(Ze,"$uriish?",function(Be){var $e=De,me=De;return H($e=H(me=Be["$include?"](":"))?Be["$start_with?"]("uri:classloader:")["$!"]():me)?B("UriSniffRx")["$match?"](Be):$e}):c(Ze,"$uriish?",function(Be){var $e=De;return H($e=Be["$include?"](":"))?B("UriSniffRx")["$match?"](Be):$e}),c(Ze,"$encode_uri_component",function(Be){return encodeURIComponent(Be).replace(/%20|[!'()*]/g,function($e){return $e==="%20"?"+":"%"+$e.charCodeAt(0).toString(16)})}),c(Ze,"$encode_spaces_in_uri",function(Be){return H(Be["$include?"](" "))?Be.$gsub(" ","%20"):Be}),c(Ze,"$rootname",function(Be){var $e=De;return H($e=Be.$rindex("."))?H(Be.$index("/",$e))?Be:Be.$slice(0,$e):Be}),c(Ze,"$basename",function(Be,$e){var me=this;return $e==null&&($e=De),H($e)?et("File").$basename(Be,T($e,!0)?me.$extname(Be):$e):et("File").$basename(Be)},-2),c(Ze,"$extname?",function(Be){var $e=De,me=De;return H($e=me=Be.$rindex("."))?Be.$index("/",me)["$!"]():$e}),H(et(et("File"),"ALT_SEPARATOR"))?c(Ze,"$extname",function(Be,$e){var me=De;return $e==null&&($e=""),H(me=Be.$rindex("."))?H(Be.$index("/",me))||H(Be.$index(et(et("File"),"ALT_SEPARATOR"),me))?$e:Be.$slice(me,Be.$length()):$e},-2):c(Ze,"$extname",function(Be,$e){var me=De;return $e==null&&($e=""),H(me=Be.$rindex("."))?H(Be.$index("/",me))?$e:Be.$slice(me,Be.$length()):$e},-2),c(Ze,"$mkdir_p",function(Be){var $e=this,me=De;if(H(et("File")["$directory?"](Be)))return De;T(me=et("File").$dirname(Be),".")||$e.$mkdir_p(me);try{return et("Dir").$mkdir(Be)}catch(fe){if(t.rescue(fe,[et("SystemCallError")]))try{return H(et("File")["$directory?"](Be))?De:$e.$raise()}finally{t.pop_exception()}else throw fe}}),L(rt[0],"ROMAN_NUMERALS",ve(["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"],{M:1e3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1})),Ze.$private_constant("ROMAN_NUMERALS"),c(Ze,"$int_to_roman",function(Be){return N(B("ROMAN_NUMERALS"),"map",[],function(me,fe){var V,te,P=De;return me==null&&(me=De),fe==null&&(fe=De),te=Be.$divmod(fe),V=v(te),P=V[0]==null?De:V[0],Be=V[1]==null?De:V[1],Ve(me,P)}).$join()}),c(Ze,"$nextval",function(Be){var $e=De;return de(et("Integer"),Be)?Ue(Be,1):T(($e=Be.$to_i()).$to_s(),Be.$to_s())?Ue($e,1):Be.$succ()}),c(Ze,"$resolve_class",function(Be){var $e=this;return de(we,Be)?Be:de(et("String"),Be)?$e.$class_for_name(Be):De}),c(Ze,"$class_for_name",function(Be){var $e=this,me=De;try{return de(we,me=Ie.$const_get(Be,!1))||$e.$raise(),me}catch(fe){if(t.rescue(fe,[B("StandardError")]))try{return $e.$raise(et("NameError"),"Could not resolve class for name: "+Be)}finally{t.pop_exception()}else throw fe}})}(x[0],x)}(st[0],st)},Opal.modules.logger=function(t){var W=t.klass,H=t.module,T=t.const_set,O=t.send,c=t.def,N=t.eqeqeq,Ne=t.rb_plus,L=t.truthy,ve=t.rb_le,v=t.rb_lt,Ve=[],de=t.nil,Ue=t.$$$;return t.add_stubs("include,to_h,map,constants,const_get,to_s,format,chr,strftime,message_as_string,===,+,message,class,join,backtrace,inspect,attr_reader,attr_accessor,new,key,upcase,raise,add,to_proc,<=,<,write,call,[],now"),function(we,Ie,st){var De=W(we,Ie,"Logger"),et=[De].concat(st),Me=t.$r(et),Ge=De.$$prototype;return Ge.level=Ge.progname=Ge.pipe=Ge.formatter=de,function(it,x){var Xe=H(it,"Severity"),g=[Xe].concat(x);return T(g[0],"DEBUG",0),T(g[0],"INFO",1),T(g[0],"WARN",2),T(g[0],"ERROR",3),T(g[0],"FATAL",4),T(g[0],"UNKNOWN",5)}(et[0],et),De.$include(Me("Severity")),T(et[0],"SEVERITY_LABELS",O(Me("Severity").$constants(),"map",[],function(x){return x==null&&(x=de),[Me("Severity").$const_get(x),x.$to_s()]}).$to_h()),function(it,x,Xe){var g=W(it,x,"Formatter"),Ze=[g].concat(Xe),rt=t.$r(Ze);return T(Ze[0],"MESSAGE_FORMAT",`%s, [%s] %5s -- %s: %s
`),T(Ze[0],"DATE_TIME_FORMAT","%Y-%m-%dT%H:%M:%S.%6N"),c(g,"$call",function(A,Be,$e,me){var fe=this;return fe.$format(rt("MESSAGE_FORMAT"),A.$chr(),Be.$strftime(rt("DATE_TIME_FORMAT")),A,$e,fe.$message_as_string(me))}),c(g,"$message_as_string",function(A){var Be=de,$e=de;return N(Ue("String"),Be=A)?A:N(Ue("Exception"),Be)?Ne(""+A.$message()+" ("+A.$class()+`)
`,(L($e=A.$backtrace())?$e:[]).$join(`
`)):A.$inspect()})}(et[0],null,et),De.$attr_reader("level"),De.$attr_accessor("progname"),De.$attr_accessor("formatter"),c(De,"$initialize",function(x){var Xe=this;return Xe.pipe=x,Xe.level=Me("DEBUG"),Xe.formatter=Me("Formatter").$new()}),c(De,"$level=",function(x){var Xe=this,g=de;return N(Ue("Integer"),x)?Xe.level=x:L(g=Me("SEVERITY_LABELS").$key(x.$to_s().$upcase()))?Xe.level=g:Xe.$raise(Me("ArgumentError"),"invalid log level: "+x)}),c(De,"$info",function it(x){var Xe=it.$$p||de,g=this;return it.$$p=null,x==null&&(x=de),O(g,"add",[Me("INFO"),de,x],Xe.$to_proc())},-1),c(De,"$debug",function it(x){var Xe=it.$$p||de,g=this;return it.$$p=null,x==null&&(x=de),O(g,"add",[Me("DEBUG"),de,x],Xe.$to_proc())},-1),c(De,"$warn",function it(x){var Xe=it.$$p||de,g=this;return it.$$p=null,x==null&&(x=de),O(g,"add",[Me("WARN"),de,x],Xe.$to_proc())},-1),c(De,"$error",function it(x){var Xe=it.$$p||de,g=this;return it.$$p=null,x==null&&(x=de),O(g,"add",[Me("ERROR"),de,x],Xe.$to_proc())},-1),c(De,"$fatal",function it(x){var Xe=it.$$p||de,g=this;return it.$$p=null,x==null&&(x=de),O(g,"add",[Me("FATAL"),de,x],Xe.$to_proc())},-1),c(De,"$unknown",function it(x){var Xe=it.$$p||de,g=this;return it.$$p=null,x==null&&(x=de),O(g,"add",[Me("UNKNOWN"),de,x],Xe.$to_proc())},-1),c(De,"$info?",function(){var x=this;return ve(x.level,Me("INFO"))}),c(De,"$debug?",function(){var x=this;return ve(x.level,Me("DEBUG"))}),c(De,"$warn?",function(){var x=this;return ve(x.level,Me("WARN"))}),c(De,"$error?",function(){var x=this;return ve(x.level,Me("ERROR"))}),c(De,"$fatal?",function(){var x=this;return ve(x.level,Me("FATAL"))}),c(De,"$add",function it(x,Xe,g){var Ze=it.$$p||de,rt=this,B=de;return it.$$p=null,Xe==null&&(Xe=de),g==null&&(g=de),L(v(x=L(B=x)?B:Me("UNKNOWN"),rt.level))||(g=L(B=g)?B:rt.progname,L(Xe)||(Ze!==de?Xe=t.yieldX(Ze,[]):(Xe=g,g=rt.progname)),rt.pipe.$write(rt.formatter.$call(L(B=Me("SEVERITY_LABELS")["$[]"](x))?B:"ANY",Ue("Time").$now(),g,Xe))),!0},-2)}(Ve[0],null,Ve)},Opal.modules["asciidoctor/logging"]=function(t){var W=t.module,H=t.klass,T=t.slice,O=t.send2,c=t.find_super,N=t.to_a,Ne=t.send,L=t.def,ve=t.truthy,v=t.rb_gt,Ve=t.const_set,de=t.hash2,Ue=t.eqeqeq,we=t.gvars,Ie=t.alias,st=t.defs,De=t.top,et=[],Me=t.nil,Ge=t.$$$;return t.add_stubs("require,attr_reader,progname=,formatter=,new,level=,>,[],===,inspect,to_h,map,constants,const_get,<<,clear,empty?,max,attr_accessor,memoize_logger,private,logger,extend,private_class_method,merge"),De.$require("logger"),function(it,x){var Xe=W(it,"Asciidoctor"),g=[Xe].concat(x);return function(Ze,rt,B){var A=H(Ze,rt,"Logger"),Be=[A].concat(B),$e=t.$r(Be),me=A.$$prototype;return me.max_severity=Me,A.$attr_reader("max_severity"),L(A,"$initialize",function fe(V){var te,P,q,E=fe.$$p||Me,j=this;return fe.$$p=null,te=T(arguments),P=te,O(j,c(j,"initialize",fe,!1,!0),"initialize",N(P),E),j["$progname="]("asciidoctor"),j["$formatter="]($e("BasicFormatter").$new()),q=[$e("WARN")],Ne(j,"level=",q),q[q.length-1]},-1),L(A,"$add",function fe(V,te,P){var q=fe.$$p||Me,E=this,j=Me;return fe.$$p=null,te==null&&(te=Me),P==null&&(P=Me),ve(v(V=ve(j=V)?j:$e("UNKNOWN"),E.max_severity=ve(j=E.max_severity)?j:V))&&(E.max_severity=V),O(E,c(E,"add",fe,!1,!0),"add",[V,te,P],q)},-2),function(fe,V,te){var P=H(fe,V,"BasicFormatter"),q=[P].concat(te),E=t.$r(q);return Ve(q[0],"SEVERITY_LABEL_SUBSTITUTES",de(["WARN","FATAL"],{WARN:"WARNING",FATAL:"FAILED"})),L(P,"$call",function(U,X,I,u){var r=Me;return""+I+": "+(ve(r=E("SEVERITY_LABEL_SUBSTITUTES")["$[]"](U))?r:U)+": "+(Ue(Ge("String"),u)?u:u.$inspect())+E("LF")})}(Be[0],$e("Formatter"),Be),function(fe){var V=W(fe,"AutoFormattingMessage");return L(V,"$inspect",function(){var P=this,q=Me;return ve(q=P["$[]"]("source_location"))?""+q+": "+P["$[]"]("text"):P["$[]"]("text")})}(Be[0])}(g[0],Ge("Logger"),g),function(Ze,rt,B){var A=H(Ze,rt,"MemoryLogger"),Be=[A].concat(B),$e=t.$r(Be),me=A.$$prototype;return me.messages=Me,Ve(Be[0],"SEVERITY_SYMBOL_BY_VALUE",Ne($e("Severity").$constants(!1),"map",[],function(V){return V==null&&(V=Me),[$e("Severity").$const_get(V),V]}).$to_h()),A.$attr_reader("messages"),L(A,"$initialize",function(){var V=this;return V["$level="]($e("WARN")),V.messages=[]}),L(A,"$add",function fe(V,te,P){var q=fe.$$p||Me,E=this,j=Me;return fe.$$p=null,te==null&&(te=Me),P==null&&(P=Me),te=ve(j=te)?j:q!==Me?t.yieldX(q,[]):P,E.messages["$<<"](de(["severity","message"],{severity:$e("SEVERITY_SYMBOL_BY_VALUE")["$[]"](ve(j=V)?j:$e("UNKNOWN")),message:te})),!0},-2),L(A,"$clear",function(){var V=this;return V.messages.$clear()}),L(A,"$empty?",function(){var V=this;return V.messages["$empty?"]()}),L(A,"$max_severity",function(){var V=this;return ve(V["$empty?"]())?Me:Ne(V.messages,"map",[],function(P){return P==null&&(P=Me),$e("Severity").$const_get(P["$[]"]("severity"))}).$max()})}(g[0],Ge("Logger"),g),function(Ze,rt,B){var A=H(Ze,rt,"NullLogger"),Be=[A].concat(B),$e=t.$r(Be),me=A.$$prototype;return me.max_severity=Me,A.$attr_reader("max_severity"),L(A,"$initialize",function(){var V,te=this;return V=[$e("WARN")],Ne(te,"level=",V),V[V.length-1]}),L(A,"$add",function(V,te,P){var q=this,E=Me;return ve(v(V=ve(E=V)?E:$e("UNKNOWN"),q.max_severity=ve(E=q.max_severity)?E:V))&&(q.max_severity=V),!0},-2)}(g[0],Ge("Logger"),g),function(Ze,rt){var B=W(Ze,"LoggerManager"),A=[B].concat(rt),Be=t.$r(A);return B.logger_class=Be("Logger"),function($e,me){return $e.$attr_accessor("logger_class"),L($e,"$logger",function(V){var te=this,P=Me;return te.logger==null&&(te.logger=Me),te.logger_class==null&&(te.logger_class=Me),we.stderr==null&&(we.stderr=Me),V==null&&(V=we.stderr),te.$memoize_logger(),te.logger=ve(P=te.logger)?P:te.logger_class.$new(V)},-1),L($e,"$logger=",function(V){var te=this,P=Me;return te.logger_class==null&&(te.logger_class=Me),we.stderr==null&&(we.stderr=Me),te.logger=ve(P=V)?P:te.logger_class.$new(we.stderr)}),$e.$private(),L($e,"$memoize_logger",function(){var V=this;return function(te,P){return Ie(te,"logger","logger"),te.$attr_reader("logger")}(t.get_singleton_class(V))})}(t.get_singleton_class(B))}(g[0],g),function(Ze,rt){var B=W(Ze,"Logging"),A=[B].concat(rt),Be=t.$r(A);return st(B,"$included",function(me){return me.$extend(Be("Logging"))}),B.$private_class_method("included"),L(B,"$logger",function(){return Be("LoggerManager").$logger()}),L(B,"$message_with_context",function(me,fe){return fe==null&&(fe=de([],{})),de(["text"],{text:me}).$merge(fe).$extend(Ge(Be("Logger"),"AutoFormattingMessage"))},-2)}(g[0],g)}(et[0],et)},Opal.modules["asciidoctor/rx"]=function(t){var W=t.module,H=t.const_set,T=t.regexp,O=t.hash2,c=t.send,N=t.truthy,Ne=t.hash,L=[],ve=t.nil,v=t.$$$;return t.add_stubs("join,to_a,new,[]=,empty?,escape"),function(Ve,de){var Ue=W(Ve,"Asciidoctor"),we=[Ue].concat(de),Ie=t.$r(we);return W(we[0],"Rx"),H(we[0],"AuthorInfoLineRx",T(["^(",Ie("CG_WORD"),"[",Ie("CC_WORD"),"\\-'.]*)(?: +(",Ie("CG_WORD"),"[",Ie("CC_WORD"),"\\-'.]*))?(?: +(",Ie("CG_WORD"),"[",Ie("CC_WORD"),"\\-'.]*))?(?: +<([^>]+)>)?$"])),H(we[0],"AuthorDelimiterRx",/;(?: |$)/),H(we[0],"RevisionInfoLineRx",T(["^(?:[^\\d{]*(",Ie("CC_ANY"),"*?),)? *(?!:)(",Ie("CC_ANY"),"*?)(?: *(?!^),?: *(",Ie("CC_ANY"),"*))?$"])),H(we[0],"ManpageTitleVolnumRx",T(["^(",Ie("CC_ANY"),"+?) *\\( *(",Ie("CC_ANY"),"+?) *\\)$"])),H(we[0],"ManpageNamePurposeRx",T(["^(",Ie("CC_ANY"),"+?) +- +(",Ie("CC_ANY"),"+)$"])),H(we[0],"ConditionalDirectiveRx",T(["^(\\\\)?(ifdef|ifndef|ifeval|endif)::(\\S*?(?:([,+])\\S*?)?)\\[(",Ie("CC_ANY"),"+)?\\]$"])),H(we[0],"EvalExpressionRx",T(["^(",Ie("CC_ANY"),"+?) *([=!><]=|[><]) *(",Ie("CC_ANY"),"+)$"])),H(we[0],"IncludeDirectiveRx",T(["^(\\\\)?include::([^\\s\\[](?:[^\\[]*[^\\s\\[])?)\\[(",Ie("CC_ANY"),"+)?\\]$"])),H(we[0],"TagDirectiveRx",/\b(?:tag|(e)nd)::(\S+?)\[\](?=$|[ \r])/m),H(we[0],"AttributeEntryRx",T(["^:(!?",Ie("CG_WORD"),"[^:]*):(?:[ \\t]+(",Ie("CC_ANY"),"*))?$"])),H(we[0],"InvalidAttributeNameCharsRx",T(["[^",Ie("CC_WORD"),"-]"])),H(we[0],"AttributeEntryPassMacroRx",T(["^pass:([a-z]+(?:,[a-z-]+)*)?\\[(",Ie("CC_ALL"),"*)\\]$"])),H(we[0],"AttributeReferenceRx",T(["(\\\\)?\\{(",Ie("CG_WORD"),"[",Ie("CC_WORD"),"-]*|(set|counter2?):",Ie("CC_ANY"),"+?)(\\\\)?\\}"])),H(we[0],"BlockAnchorRx",T(["^\\[\\[(?:|([",Ie("CC_ALPHA"),"_:][",Ie("CC_WORD"),"\\-:.]*)(?:, *(",Ie("CC_ANY"),"+))?)\\]\\]$"])),H(we[0],"BlockAttributeListRx",T(["^\\[(|[",Ie("CC_WORD"),`.#%{,"']`,Ie("CC_ANY"),"*)\\]$"])),H(we[0],"BlockAttributeLineRx",T(["^\\[(?:|[",Ie("CC_WORD"),`.#%{,"']`,Ie("CC_ANY"),"*|\\[(?:|[",Ie("CC_ALPHA"),"_:][",Ie("CC_WORD"),"\\-:.]*(?:, *",Ie("CC_ANY"),"+)?)\\])\\]$"])),H(we[0],"BlockTitleRx",T(["^\\.(\\.?[^ \\t.]",Ie("CC_ANY"),"*)$"])),H(we[0],"AdmonitionParagraphRx",T(["^(",Ie("ADMONITION_STYLES").$to_a().$join("|"),"):[ \\t]+"])),H(we[0],"LiteralParagraphRx",T(["^([ \\t]+",Ie("CC_ANY"),"*)$"])),H(we[0],"AtxSectionTitleRx",T(["^(=={0,5})[ \\t]+(",Ie("CC_ANY"),"+?)(?:[ \\t]+\\1)?$"])),H(we[0],"ExtAtxSectionTitleRx",T(["^(=={0,5}|#\\#{0,5})[ \\t]+(",Ie("CC_ANY"),"+?)(?:[ \\t]+\\1)?$"])),H(we[0],"SetextSectionTitleRx",T(["^((?!\\.)",Ie("CC_ANY"),"*?",Ie("CG_ALNUM"),Ie("CC_ANY"),"*)$"])),H(we[0],"InlineSectionAnchorRx",T([" (\\\\)?\\[\\[([",Ie("CC_ALPHA"),"_:][",Ie("CC_WORD"),"\\-:.]*)(?:, *(",Ie("CC_ANY"),"+))?\\]\\]$"])),H(we[0],"InvalidSectionIdCharsRx",T(["<[^>]+>|&(?:[a-z][a-z]+\\d{0,2}|#\\d\\d\\d{0,4}|#x[\\da-f][\\da-f][\\da-f]{0,3});|[^ ",Ie("CC_WORD"),"\\-.]+?"])),H(we[0],"SectionLevelStyleRx",/^sect\d$/),H(we[0],"AnyListRx",T(["^(?:[ \\t]*(?:-|\\*\\**|\\.\\.*|\\u2022|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))[ \\t]|(?!//[^/])[ \\t]*[^ \\t]",Ie("CC_ANY"),"*?(?::::{0,2}|;;)(?:$|[ \\t])|<(?:\\d+|\\.)>[ \\t])"])),H(we[0],"UnorderedListRx",T(["^[ \\t]*(-|\\*\\**|\\u2022)[ \\t]+(",Ie("CC_ANY"),"*)$"])),H(we[0],"OrderedListRx",T(["^[ \\t]*(\\.\\.*|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))[ \\t]+(",Ie("CC_ANY"),"*)$"])),H(we[0],"OrderedListMarkerRxMap",O(["arabic","loweralpha","lowerroman","upperalpha","upperroman"],{arabic:/\d+\./,loweralpha:/[a-z]\./,lowerroman:/[ivx]+\)/,upperalpha:/[A-Z]\./,upperroman:/[IVX]+\)/})),H(we[0],"DescriptionListRx",T(["^(?!//[^/])[ \\t]*([^ \\t]",Ie("CC_ANY"),"*?)(:::{0,2}|;;)(?:$|[ \\t]+(",Ie("CC_ANY"),"*)$)"])),H(we[0],"DescriptionListSiblingRx",O(["::",":::","::::",";;"],{"::":T(["^(?!//[^/])[ \\t]*([^ \\t]",Ie("CC_ANY"),"*?[^:]|[^ \\t:])(::)(?:$|[ \\t]+(",Ie("CC_ANY"),"*)$)"]),":::":T(["^(?!//[^/])[ \\t]*([^ \\t]",Ie("CC_ANY"),"*?[^:]|[^ \\t:])(:::)(?:$|[ \\t]+(",Ie("CC_ANY"),"*)$)"]),"::::":T(["^(?!//[^/])[ \\t]*([^ \\t]",Ie("CC_ANY"),"*?[^:]|[^ \\t:])(::::)(?:$|[ \\t]+(",Ie("CC_ANY"),"*)$)"]),";;":T(["^(?!//[^/])[ \\t]*([^ \\t]",Ie("CC_ANY"),"*?)(;;)(?:$|[ \\t]+(",Ie("CC_ANY"),"*)$)"])})),H(we[0],"CalloutListRx",T(["^<(\\d+|\\.)>[ \\t]+(",Ie("CC_ANY"),"*)$"])),H(we[0],"CalloutExtractRx",/((?:\/\/|#|--|;;) ?)?(\\)?<!?(|--)(\d+|\.)\3>(?=(?: ?\\?<!?\3(?:\d+|\.)\3>)*$)/),H(we[0],"CalloutExtractRxt","(\\\\)?<()(\\d+|\\.)>(?=(?: ?\\\\?<(?:\\d+|\\.)>)*$)"),H(we[0],"CalloutExtractRxMap",c(v("Hash"),"new",[],function(De,et){var Me;return De==null&&(De=ve),et==null&&(et=ve),Me=[et,T(["(",N(et["$empty?"]())?"":""+v("Regexp").$escape(et)+" ?",")?",Ie("CalloutExtractRxt")])],c(De,"[]=",Me),Me[Me.length-1]})),H(we[0],"CalloutScanRx",T(["\\\\?<!?(|--)(\\d+|\\.)\\1>(?=(?: ?\\\\?<!?\\1(?:\\d+|\\.)\\1>)*",Ie("CC_EOL"),")"])),H(we[0],"CalloutSourceRx",T(["((?://|#|--|;;) ?)?(\\\\)?&lt;!?(|--)(\\d+|\\.)\\3&gt;(?=(?: ?\\\\?&lt;!?\\3(?:\\d+|\\.)\\3&gt;)*",Ie("CC_EOL"),")"])),H(we[0],"CalloutSourceRxt","(\\\\)?&lt;()(\\d+|\\.)&gt;(?=(?: ?\\\\?&lt;(?:\\d+|\\.)&gt;)*"+Ie("CC_EOL")+")"),H(we[0],"CalloutSourceRxMap",c(v("Hash"),"new",[],function(De,et){var Me;return De==null&&(De=ve),et==null&&(et=ve),Me=[et,T(["(",N(et["$empty?"]())?"":""+v("Regexp").$escape(et)+" ?",")?",Ie("CalloutSourceRxt")])],c(De,"[]=",Me),Me[Me.length-1]})),H(we[0],"ListRxMap",O(["ulist","olist","dlist","colist"],{ulist:Ie("UnorderedListRx"),olist:Ie("OrderedListRx"),dlist:Ie("DescriptionListRx"),colist:Ie("CalloutListRx")})),H(we[0],"ColumnSpecRx",/^(?:(\d+)\*)?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?(\d+%?|~)?([a-z])?$/),H(we[0],"CellSpecStartRx",/^[ \t]*(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/),H(we[0],"CellSpecEndRx",/[ \t]+(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/),H(we[0],"CustomBlockMacroRx",T(["^(",Ie("CG_WORD"),"[",Ie("CC_WORD"),"-]*)::(|\\S|\\S",Ie("CC_ANY"),"*?\\S)\\[(",Ie("CC_ANY"),"+)?\\]$"])),H(we[0],"BlockMediaMacroRx",T(["^(image|video|audio)::(\\S|\\S",Ie("CC_ANY"),"*?\\S)\\[(",Ie("CC_ANY"),"+)?\\]$"])),H(we[0],"BlockTocMacroRx",T(["^toc::\\[(",Ie("CC_ANY"),"+)?\\]$"])),H(we[0],"InlineAnchorRx",T(["(\\\\)?(?:\\[\\[([",Ie("CC_ALPHA"),"_:][",Ie("CC_WORD"),"\\-:.]*)(?:, *(",Ie("CC_ANY"),"+?))?\\]\\]|anchor:([",Ie("CC_ALPHA"),"_:][",Ie("CC_WORD"),"\\-:.]*)\\[(?:\\]|(",Ie("CC_ANY"),"*?[^\\\\])\\]))"])),H(we[0],"InlineAnchorScanRx",T(["(?:^|[^\\\\\\[])\\[\\[([",Ie("CC_ALPHA"),"_:][",Ie("CC_WORD"),"\\-:.]*)(?:, *(",Ie("CC_ANY"),"+?))?\\]\\]|(?:^|[^\\\\])anchor:([",Ie("CC_ALPHA"),"_:][",Ie("CC_WORD"),"\\-:.]*)\\[(?:\\]|(",Ie("CC_ANY"),"*?[^\\\\])\\])"])),H(we[0],"LeadingInlineAnchorRx",T(["^\\[\\[([",Ie("CC_ALPHA"),"_:][",Ie("CC_WORD"),"\\-:.]*)(?:, *(",Ie("CC_ANY"),"+?))?\\]\\]"])),H(we[0],"InlineBiblioAnchorRx",T(["^\\[\\[\\[([",Ie("CC_ALPHA"),"_:][",Ie("CC_WORD"),"\\-:.]*)(?:, *(",Ie("CC_ANY"),"+?))?\\]\\]\\]"])),H(we[0],"InlineEmailRx",T(["([\\\\>:/])?",Ie("CG_WORD"),"(?:&amp;|[",Ie("CC_WORD"),"\\-.%+])*@",Ie("CG_ALNUM"),"[",Ie("CC_ALNUM"),"_\\-.]*\\.[a-zA-Z]{2,5}\\b"])),H(we[0],"InlineFootnoteMacroRx",T(["\\\\?footnote(?:(ref):|:([",Ie("CC_WORD"),"-]+)?)\\[(?:|(",Ie("CC_ALL"),"*?[^\\\\]))\\](?!</a>)"],"m")),H(we[0],"InlineImageMacroRx",T(["\\\\?i(?:mage|con):([^:\\s\\[](?:[^\\n\\[]*[^\\s\\[])?)\\[(|",Ie("CC_ALL"),"*?[^\\\\])\\]"],"m")),H(we[0],"InlineIndextermMacroRx",T(["\\\\?(?:(indexterm2?):\\[(",Ie("CC_ALL"),"*?[^\\\\])\\]|\\(\\((",Ie("CC_ALL"),"+?)\\)\\)(?!\\)))"],"m")),H(we[0],"InlineKbdBtnMacroRx",T(["(\\\\)?(kbd|btn):\\[(",Ie("CC_ALL"),"*?[^\\\\])\\]"],"m")),H(we[0],"InlineLinkRx",T(["(^|link:|",Ie("CG_BLANK"),`|&lt;|[>\\(\\)\\[\\];"'])(\\\\?(?:https?|file|ftp|irc)://)(?:([^\\s\\[\\]]+)\\[(|`,Ie("CC_ALL"),"*?[^\\\\])\\]|([^\\s\\[\\]<]*([^\\s,.?!\\[\\]<\\)])))"],"m")),H(we[0],"InlineLinkMacroRx",T(["\\\\?(?:link|(mailto)):(|[^:\\s\\[][^\\s\\[]*)\\[(|",Ie("CC_ALL"),"*?[^\\\\])\\]"],"m")),H(we[0],"MacroNameRx",T(["^",Ie("CG_WORD"),"[",Ie("CC_WORD"),"-]*$"])),H(we[0],"InlineStemMacroRx",T(["\\\\?(stem|(?:latex|ascii)math):([a-z]+(?:,[a-z-]+)*)?\\[(",Ie("CC_ALL"),"*?[^\\\\])\\]"],"m")),H(we[0],"InlineMenuMacroRx",T(["\\\\?menu:(",Ie("CG_WORD"),"|[",Ie("CC_WORD"),"&][^\\n\\[]*[^\\s\\[])\\[ *(?:|(",Ie("CC_ALL"),"*?[^\\\\]))\\]"],"m")),H(we[0],"InlineMenuRx",T(['\\\\?"([',Ie("CC_WORD"),'&][^"]*?[ \\n]+&gt;[ \\n]+[^"]*)"'])),H(we[0],"InlinePassRx",Ne(!1,["+","-]",T(["((?:^|[^",Ie("CC_WORD"),";:\\\\])(?=(\\[)|\\+)|\\\\(?=\\[)|(?=\\\\\\+))(?:\\2(x-|[^\\]]+ x-)\\]|(?:\\[([^\\]]+)\\])?(?=(\\\\)?\\+))(\\5?(\\+|`)(\\S|\\S",Ie("CC_ALL"),"*?\\S)\\7)(?!",Ie("CG_WORD"),")"],"m")],!0,["`",ve,T(["(^|[^`",Ie("CC_WORD"),"])(?:(\\Z)()|\\[([^\\]]+)\\](?=(\\\\))?)?(\\5?(`)([^`\\s]|[^`\\s]",Ie("CC_ALL"),"*?\\S)\\7)(?![`",Ie("CC_WORD"),"])"],"m")])),H(we[0],"InlinePassMacroRx",T(["(?:(?:(\\\\?)\\[([^\\]]+)\\])?(\\\\{0,2})(\\+\\+\\+?|\\$\\$)(",Ie("CC_ALL"),"*?)\\4|(\\\\?)pass:([a-z]+(?:,[a-z-]+)*)?\\[(|",Ie("CC_ALL"),"*?[^\\\\])\\])"],"m")),H(we[0],"InlineXrefMacroRx",T(["\\\\?(?:&lt;&lt;([",Ie("CC_WORD"),"#/.:{]",Ie("CC_ALL"),"*?)&gt;&gt;|xref:([",Ie("CC_WORD"),"#/.:{]",Ie("CC_ALL"),"*?)\\[(?:\\]|(",Ie("CC_ALL"),"*?[^\\\\])\\]))"],"m")),H(we[0],"HardLineBreakRx",T(["^(",Ie("CC_ANY"),"*) \\+$"],"m")),H(we[0],"MarkdownThematicBreakRx",/^ {0,3}([-*_])( *)\1\2\1$/),H(we[0],"ExtLayoutBreakRx",/^(?:'{3,}|<{3,}|([-*_])( *)\1\2\1)$/),H(we[0],"BlankLineRx",/\n{2,}/),H(we[0],"EscapedSpaceRx",/\\([ \t\n])/),H(we[0],"ReplaceableTextRx",/[&']|--|\.\.\.|\([CRT]M?\)/),H(we[0],"SpaceDelimiterRx",/([^\\])[ \t\n]+/),H(we[0],"SubModifierSniffRx",/[+-]/),H(we[0],"TrailingDigitsRx",/\d+$/),H(we[0],"UriSniffRx",T(["^",Ie("CG_ALPHA"),"[",Ie("CC_ALNUM"),".+-]+:/{0,2}"])),H(we[0],"XmlSanitizeRx",/<[^>]+>/)}(L[0],L)},Opal.modules["asciidoctor/substitutors"]=function(t){var W=t.module,H=t.const_set,T=t.hash2,O=t.hash,c=t.rb_plus,N=t.regexp,Ne=t.not,L=t.truthy,ve=t.send,v=t.def,Ve=t.alias,de=t.gvars,Ue=t.eqeq,we=t.to_ary,Ie=t.neqeq,st=t.to_a,De=t.eqeqeq,et=t.rb_gt,Me=t.slice,Ge=t.rb_minus,it=t.rb_lt,x=t.rb_times,Xe=[],g=t.nil,Ze=t.$$$;return t.add_stubs("freeze,+,keys,!,empty?,===,[],join,include?,extract_passthroughs,each,sub_specialchars,sub_quotes,sub_attributes,sub_replacements,sub_macros,highlight_source,sub_callouts,sub_post_replacements,warn,logger,restore_passthroughs,clear,split,apply_subs,gsub,match?,compat_mode,convert_quoted_text,attributes,==,shift,store_attribute,!=,attribute_undefined,counter,key?,downcase,attribute_missing,info,squeeze,delete,reject,start_with?,do_replacement,inline_macros?,extensions,inline_macros,regexp,instance,slice,length,names,config,merge,[]=,normalize_text,parse_attributes,process_method,expand_subs,text=,text,convert,class,strip,index,min,compact,>,end_with?,map,chop,new,pop,rstrip,register,tr,basename,parse,lstrip,split_simple_csv,-,partition,extract_attributes_from_text,sub,encode_uri_component,style,extname?,rindex,catalog,info?,fetch,outfilesuffix,natural_xrefs,resolve_id,find,footnotes,id,<,size,<<,attr?,attr,to_s,read_next_id,callouts,highlight?,syntax_highlighter,sub_source,extract_callouts,name,to_i,to_sym,resolve_lines_to_highlight,highlight,nil_or_empty?,restore_callouts,count,to_a,|,sort,*,parse_quoted_text_attributes,resolve_pass_subs,basebackend?,error,chr,drop,&,resolve_subs,resolve_block_subs,parse_into,private,shorthand_property_syntax,each_char"),function(rt,B){var A=W(rt,"Asciidoctor"),Be=[A].concat(B);return function($e,me){var fe=W($e,"Substitutors"),V=[fe].concat(me),te=t.$r(V);return H(V[0],"SpecialCharsRx",/[<&>]/),H(V[0],"SpecialCharsTr",T([">","<","&"],{">":"&gt;","<":"&lt;","&":"&amp;"})),H(V[0],"QuotedTextSniffRx",O(!1,/[*_`#^~]/,!0,/[*'_+#^~]/)),H(V[0],"BASIC_SUBS",["specialcharacters"]).$freeze(),H(V[0],"HEADER_SUBS",["specialcharacters","attributes"]).$freeze(),H(V[0],"NO_SUBS",[]).$freeze(),H(V[0],"NORMAL_SUBS",["specialcharacters","quotes","attributes","replacements","macros","post_replacements"]).$freeze(),H(V[0],"REFTEXT_SUBS",["specialcharacters","quotes","replacements"]).$freeze(),H(V[0],"VERBATIM_SUBS",["specialcharacters","callouts"]).$freeze(),H(V[0],"SUB_GROUPS",T(["none","normal","verbatim","specialchars"],{none:te("NO_SUBS"),normal:te("NORMAL_SUBS"),verbatim:te("VERBATIM_SUBS"),specialchars:te("BASIC_SUBS")})),H(V[0],"SUB_HINTS",T(["a","m","n","p","q","r","c","v"],{a:"attributes",m:"macros",n:"normal",p:"post_replacements",q:"quotes",r:"replacements",c:"specialcharacters",v:"verbatim"})),H(V[0],"SUB_OPTIONS",T(["block","inline"],{block:c(c(te("SUB_GROUPS").$keys(),te("NORMAL_SUBS")),["callouts"]),inline:c(te("SUB_GROUPS").$keys(),te("NORMAL_SUBS"))})),H(V[0],"CAN",""),H(V[0],"DEL",""),H(V[0],"PASS_START",""),H(V[0],"PASS_END",""),H(V[0],"PassSlotRx",N([te("PASS_START"),"(\\d+)",te("PASS_END")])),H(V[0],"HighlightedPassSlotRx",N(["<span\\b[^>]*>",te("PASS_START"),"</span>[^\\d]*(\\d+)[^\\d]*<span\\b[^>]*>",te("PASS_END"),"</span>"])),H(V[0],"RS","\\"),H(V[0],"R_SB","]"),H(V[0],"ESC_R_SB","\\]"),H(V[0],"PLUS","+"),v(fe,"$apply_subs",function(q,E){var j=this,U=g,X=g,I=g,u=g;return j.passthroughs==null&&(j.passthroughs=g),j.passthroughs_locked==null&&(j.passthroughs_locked=g),E==null&&(E=te("NORMAL_SUBS")),L(q["$empty?"]())||Ne(E)?q:(L(U=Ze("Array")["$==="](q))&&(q=L(q["$[]"](1))?q.$join(te("LF")):q["$[]"](0)),L(E["$include?"]("macros"))&&(q=j.$extract_passthroughs(q),L(j.passthroughs["$empty?"]())||(X=j.passthroughs,j.passthroughs_locked=L(I=j.passthroughs_locked)?I:u=!0)),ve(E,"each",[],function r(l){var y=r.$$s==null?this:r.$$s;switch(l==null&&(l=g),l){case"specialcharacters":return q=y.$sub_specialchars(q);case"quotes":return q=y.$sub_quotes(q);case"attributes":return L(q["$include?"](te("ATTR_REF_HEAD")))?q=y.$sub_attributes(q):g;case"replacements":return q=y.$sub_replacements(q);case"macros":return q=y.$sub_macros(q);case"highlight":return q=y.$highlight_source(q,E["$include?"]("callouts"));case"callouts":return L(E["$include?"]("highlight"))?g:q=y.$sub_callouts(q);case"post_replacements":return q=y.$sub_post_replacements(q);default:return y.$logger().$warn("unknown substitution type "+l)}},{$$s:j}),L(X)&&(q=j.$restore_passthroughs(q),L(u)&&(X.$clear(),j.passthroughs_locked=g)),L(U)?q.$split(te("LF"),-1):q)},-2),v(fe,"$apply_normal_subs",function(q){var E=this;return E.$apply_subs(q,te("NORMAL_SUBS"))}),v(fe,"$apply_header_subs",function(q){var E=this;return E.$apply_subs(q,te("HEADER_SUBS"))}),Ve(fe,"apply_title_subs","apply_subs"),v(fe,"$apply_reftext_subs",function(q){var E=this;return E.$apply_subs(q,te("REFTEXT_SUBS"))}),v(fe,"$sub_specialchars",function(q){return L(q["$include?"](">"))||L(q["$include?"]("&"))||L(q["$include?"]("<"))?q.$gsub(te("SpecialCharsRx"),te("SpecialCharsTr")):q}),Ve(fe,"sub_specialcharacters","sub_specialchars"),v(fe,"$sub_quotes",function(q){var E=this,j=g;return E.document==null&&(E.document=g),L(te("QuotedTextSniffRx")["$[]"](j=E.document.$compat_mode())["$match?"](q))&&ve(te("QUOTE_SUBS")["$[]"](j),"each",[],function U(X,I,u){var r=U.$$s==null?this:U.$$s;return X==null&&(X=g),I==null&&(I=g),u==null&&(u=g),q=ve(q,"gsub",[u],function l(){var y=l.$$s==null?this:l.$$s;return de["~"]==null&&(de["~"]=g),y.$convert_quoted_text(de["~"],X,I)},{$$s:r})},{$$s:E}),q}),v(fe,"$sub_attributes",function(q,E){var j=this,U=g,X=g,I=g,u=g,r=g,l=g,y=g,h=g;return j.document==null&&(j.document=g),E==null&&(E=T([],{})),U=j.document.$attributes(),X=I=u=r=l=y=g,q=ve(q,"gsub",[te("AttributeReferenceRx")],function f(){var S,R,Z=f.$$s==null?this:f.$$s,G=g,oe=g,Ee=g,Ke=g,Je=g,$t=g;if(Z.document==null&&(Z.document=g),Ue((S=de["~"])===g?g:S["$[]"](1),te("RS"))||Ue((S=de["~"])===g?g:S["$[]"](4),te("RS")))return"{"+((S=de["~"])===g?g:S["$[]"](2))+"}";if(L((S=de["~"])===g?g:S["$[]"](3)))switch((G=((S=de["~"])===g?g:S["$[]"](2)).$split(":",3)).$shift()){case"set":return R=te("Parser").$store_attribute(G["$[]"](0),L(oe=G["$[]"](1))?oe:"",Z.document),S=we(R),S[0]==null||S[0],Ee=S[1]==null?g:S[1],L(Ee)||Ie(l=L(oe=l)?oe:L(Ke=U["$[]"]("attribute-undefined"))?Ke:te("Compliance").$attribute_undefined(),"drop-line")?X=r=te("DEL"):X=I=te("CAN");case"counter2":return ve(Z.document,"counter",st(G)),X=r=te("DEL");default:return ve(Z.document,"counter",st(G))}else{if(L(U["$key?"](Je=((S=de["~"])===g?g:S["$[]"](2)).$downcase())))return U["$[]"](Je);if(L(Ee=te("INTRINSIC_ATTRIBUTES")["$[]"](Je)))return Ee;switch(y=L(oe=y)?oe:L(Ke=L($t=E["$[]"]("attribute_missing"))?$t:U["$[]"]("attribute-missing"))?Ke:te("Compliance").$attribute_missing()){case"drop":return X=r=te("DEL");case"drop-line":return Ue(u=L(oe=u)?oe:L(Ke=E["$[]"]("drop_line_severity"))?Ke:"info","info")&&ve(Z.$logger(),"info",[],function(){return"dropping line containing reference to missing attribute: "+Je}),X=I=te("CAN");case"warn":return Z.$logger().$warn("skipping reference to missing attribute: "+Je),(S=de["~"])===g?g:S["$[]"](0);default:return(S=de["~"])===g?g:S["$[]"](0)}}},{$$s:j}),L(X)?L(r)?(h=q.$squeeze(te("DEL")).$split(te("LF"),-1),L(I)?ve(h,"reject",[],function(S){var R=g,Z=g,G=g;return S==null&&(S=g),L(R=L(Z=L(G=S["$=="](te("DEL")))?G:S["$=="](te("CAN")))?Z:S["$start_with?"](te("CAN")))?R:S["$include?"](te("CAN"))}).$join(te("LF")).$delete(te("DEL")):ve(h,"reject",[],function(S){return S==null&&(S=g),S["$=="](te("DEL"))}).$join(te("LF")).$delete(te("DEL"))):L(q["$include?"](te("LF")))?ve(q.$split(te("LF"),-1),"reject",[],function(S){var R=g,Z=g;return S==null&&(S=g),L(R=L(Z=S["$=="](te("CAN")))?Z:S["$start_with?"](te("CAN")))?R:S["$include?"](te("CAN"))}).$join(te("LF")):"":q},-2),v(fe,"$sub_replacements",function(q){var E=this;return L(te("ReplaceableTextRx")["$match?"](q))&&ve(te("REPLACEMENTS"),"each",[],function j(U,X,I){var u=j.$$s==null?this:j.$$s;return U==null&&(U=g),X==null&&(X=g),I==null&&(I=g),q=ve(q,"gsub",[U],function r(){var l=r.$$s==null?this:r.$$s;return de["~"]==null&&(de["~"]=g),l.$do_replacement(de["~"],X,I)},{$$s:u})},{$$s:E}),q}),v(fe,"$sub_macros",function(q){var E=this,j=g,U=g,X=g,I=g,u=g,r=g,l=g,y=g;return E.document==null&&(E.document=g),E.parent==null&&(E.parent=g),E.context==null&&(E.context=g),j=q["$include?"]("["),U=q["$include?"](":"),X=L(I=j)?U:I,u=L(I=X)?q["$include?"](":["):I,r=(l=E.document).$attributes(),L(y=l.$extensions())&&L(y["$inline_macros?"]())&&ve(y.$inline_macros(),"each",[],function h(f){var S=h.$$s==null?this:h.$$s;return f==null&&(f=g),q=ve(q,"gsub",[f.$instance().$regexp()],function R(){var Z,G,oe=R.$$s==null?this:R.$$s,Ee=g,Ke=g,Je=g,$t=g,tt=g,at=g,ct=g,ft=g,ut=g;return de["~"]==null&&(de["~"]=g),L((Ee=(Z=de["~"])===g?g:Z["$[]"](0))["$start_with?"](te("RS")))?((Z=de["~"])===g?g:Z["$[]"](0)).$slice(1,((Z=de["~"])===g?g:Z["$[]"](0)).$length()):(L(de["~"].$names()["$empty?"]())?(Z=[(G=de["~"])===g?g:G["$[]"](1),(G=de["~"])===g?g:G["$[]"](2)],Ke=Z[0],Je=Z[1]):(Z=[function(){try{return de["~"]["$[]"]("target")}catch(pt){if(t.rescue(pt,[te("StandardError")]))try{return g}finally{t.pop_exception()}else throw pt}}(),function(){try{return de["~"]["$[]"]("content")}catch(pt){if(t.rescue(pt,[te("StandardError")]))try{return g}finally{t.pop_exception()}else throw pt}}()],Ke=Z[0],Je=Z[1]),$t=L(tt=(at=f.$config())["$[]"]("default_attrs"))?tt.$merge():T([],{}),L(Je)&&(L(Je["$empty?"]())?Ue(at["$[]"]("content_model"),"attributes")||$t["$[]="]("text",Je):(Je=oe.$normalize_text(Je,!0,!0),Ue(at["$[]"]("content_model"),"attributes")?oe.$parse_attributes(Je,L(I=L(ct=at["$[]"]("positional_attrs"))?ct:at["$[]"]("pos_attrs"))?I:[],T(["into"],{into:$t})):$t["$[]="]("text",Je)),Ke=L(I=Ke)?I:Ue(at["$[]"]("format"),"short")?Je:Ke),De(te("Inline"),ft=f.$process_method()["$[]"](oe,Ke,$t))?(L(ut=ft.$attributes().$delete("subs"))&&L(ut=oe.$expand_subs(ut,"custom inline macro"))&&ft["$text="](oe.$apply_subs(ft.$text(),ut)),ft.$convert()):L(ft)?(ve(oe.$logger(),"info",[],function(){return"expected substitution value for custom inline macro to be of type Inline; got "+ft.$class()+": "+Ee}),ft):"")},{$$s:S})},{$$s:E}),L(r["$key?"]("experimental"))&&(L(u)&&(L(q["$include?"]("kbd:"))||L(q["$include?"]("btn:")))&&(q=ve(q,"gsub",[te("InlineKbdBtnMacroRx")],function h(){var f,S=h.$$s==null?this:h.$$s,R=g,Z=g,G=g;return L((f=de["~"])===g?g:f["$[]"](1))?((f=de["~"])===g?g:f["$[]"](0)).$slice(1,((f=de["~"])===g?g:f["$[]"](0)).$length()):Ue((f=de["~"])===g?g:f["$[]"](2),"kbd")?(L((R=((f=de["~"])===g?g:f["$[]"](3)).$strip())["$include?"](te("R_SB")))&&(R=R.$gsub(te("ESC_R_SB"),te("R_SB"))),L(et(R.$length(),1))&&L(Z=L(Z=R.$index(",",1))?[Z,R.$index("+",1)].$compact().$min():R.$index("+",1))?(G=R.$slice(Z,1),L(R["$end_with?"](G))?(R=ve(R.$chop().$split(G,-1),"map",[],function(Ee){return Ee==null&&(Ee=g),Ee.$strip()}),R["$[]="](-1,c(R["$[]"](-1),G))):R=ve(R.$split(G),"map",[],function(Ee){return Ee==null&&(Ee=g),Ee.$strip()})):R=[R],te("Inline").$new(S,"kbd",g,T(["attributes"],{attributes:T(["keys"],{keys:R})})).$convert()):te("Inline").$new(S,"button",S.$normalize_text((f=de["~"])===g?g:f["$[]"](3),!0,!0)).$convert()},{$$s:E})),L(X)&&L(q["$include?"]("menu:"))&&(q=ve(q,"gsub",[te("InlineMenuMacroRx")],function h(){var f,S=h.$$s==null?this:h.$$s,R=g,Z=g,G=g,oe=g,Ee=g;return L(((f=de["~"])===g?g:f["$[]"](0))["$start_with?"](te("RS")))?((f=de["~"])===g?g:f["$[]"](0)).$slice(1,((f=de["~"])===g?g:f["$[]"](0)).$length()):(R=(f=de["~"])===g?g:f["$[]"](1),L(Z=(f=de["~"])===g?g:f["$[]"](2))?(L(Z["$include?"](te("R_SB")))&&(Z=Z.$gsub(te("ESC_R_SB"),te("R_SB"))),L(G=L(Z["$include?"]("&gt;"))?"&gt;":L(Z["$include?"](","))?",":g)?(oe=ve(Z.$split(G),"map",[],function(Je){return Je==null&&(Je=g),Je.$strip()}),Ee=oe.$pop()):(f=[[],Z.$rstrip()],oe=f[0],Ee=f[1])):(f=[[],g],oe=f[0],Ee=f[1]),te("Inline").$new(S,"menu",g,T(["attributes"],{attributes:T(["menu","submenus","menuitem"],{menu:R,submenus:oe,menuitem:Ee})})).$convert())},{$$s:E})),L(q["$include?"]('"'))&&L(q["$include?"]("&gt;"))&&(q=ve(q,"gsub",[te("InlineMenuRx")],function h(){var f,S,R,Z=h.$$s==null?this:h.$$s,G=g,oe=g,Ee=g;return L(((f=de["~"])===g?g:f["$[]"](0))["$start_with?"](te("RS")))?((f=de["~"])===g?g:f["$[]"](0)).$slice(1,((f=de["~"])===g?g:f["$[]"](0)).$length()):(S=ve(((R=de["~"])===g?g:R["$[]"](1)).$split("&gt;"),"map",[],function(Je){return Je==null&&(Je=g),Je.$strip()}),f=we(S),G=f[0]==null?g:f[0],oe=Me(f,1),Ee=oe.$pop(),te("Inline").$new(Z,"menu",g,T(["attributes"],{attributes:T(["menu","submenus","menuitem"],{menu:G,submenus:oe,menuitem:Ee})})).$convert())},{$$s:E}))),L(X)&&(L(q["$include?"]("image:"))||L(q["$include?"]("icon:")))&&(q=ve(q,"gsub",[te("InlineImageMacroRx")],function h(){var f,S=h.$$s==null?this:h.$$s,R=g,Z=g,G=g,oe=g;return L(((f=de["~"])===g?g:f["$[]"](0))["$start_with?"](te("RS")))?((f=de["~"])===g?g:f["$[]"](0)).$slice(1,((f=de["~"])===g?g:f["$[]"](0)).$length()):(L(((f=de["~"])===g?g:f["$[]"](0))["$start_with?"]("icon:"))?(f=["icon",["size"]],R=f[0],Z=f[1]):(f=["image",["alt","width","height"]],R=f[0],Z=f[1]),G=(f=de["~"])===g?g:f["$[]"](1),oe=S.$parse_attributes((f=de["~"])===g?g:f["$[]"](2),Z,T(["unescape_input"],{unescape_input:!0})),Ue(R,"icon")||(l.$register("images",G),oe["$[]="]("imagesdir",r["$[]"]("imagesdir"))),L(I=oe["$[]"]("alt"))||oe["$[]="]("alt",(f=["default-alt",te("Helpers").$basename(G,!0).$tr("_-"," ")],ve(oe,"[]=",f),f[f.length-1])),te("Inline").$new(S,"image",g,T(["type","target","attributes"],{type:R,target:G,attributes:oe})).$convert())},{$$s:E})),(L(q["$include?"]("(("))&&L(q["$include?"]("))"))||L(u)&&L(q["$include?"]("dexterm")))&&(q=ve(q,"gsub",[te("InlineIndextermMacroRx")],function h(){var f,S,R=h.$$s==null?this:h.$$s,Z=g,G=g,oe=g,Ee=g,Ke=g,Je=g,$t=g,tt=g,at=g,ct=g,ft=g,ut=g,pt=g,ht=g;switch((f=de["~"])===g?g:f["$[]"](1)){case"indexterm":return L(((f=de["~"])===g?g:f["$[]"](0))["$start_with?"](te("RS")))?((f=de["~"])===g?g:f["$[]"](0)).$slice(1,((f=de["~"])===g?g:f["$[]"](0)).$length()):(L((Z=R.$normalize_text((f=de["~"])===g?g:f["$[]"](2),!0,!0))["$include?"]("="))?L(G=(oe=te("AttributeList").$new(Z,R).$parse())["$[]"](1))?(oe["$[]="]("terms",[G]),L(Ee=oe["$[]"]("see-also"))&&oe["$[]="]("see-also",L(Ee["$include?"](","))?ve(Ee.$split(","),"map",[],function(yt){return yt==null&&(yt=g),yt.$lstrip()}):[Ee])):oe=T(["terms"],{terms:Z}):oe=T(["terms"],{terms:R.$split_simple_csv(Z)}),te("Inline").$new(R,"indexterm",g,T(["attributes"],{attributes:oe})).$convert());case"indexterm2":return L(((f=de["~"])===g?g:f["$[]"](0))["$start_with?"](te("RS")))?((f=de["~"])===g?g:f["$[]"](0)).$slice(1,((f=de["~"])===g?g:f["$[]"](0)).$length()):(L((Ke=R.$normalize_text((f=de["~"])===g?g:f["$[]"](2),!0,!0))["$include?"]("="))&&(Ke=L(Je=L($t=(oe=te("AttributeList").$new(Ke,R).$parse())["$[]"](1))?$t:oe=g)?Je:Ke,L(oe)&&L(Ee=oe["$[]"]("see-also"))&&oe["$[]="]("see-also",L(Ee["$include?"](","))?ve(Ee.$split(","),"map",[],function(yt){return yt==null&&(yt=g),yt.$lstrip()}):[Ee])),te("Inline").$new(R,"indexterm",Ke,T(["attributes","type"],{attributes:oe,type:"visible"})).$convert());default:if(tt=(f=de["~"])===g?g:f["$[]"](3),L(((f=de["~"])===g?g:f["$[]"](0))["$start_with?"](te("RS"))))if(L(tt["$start_with?"]("("))&&L(tt["$end_with?"](")")))tt=tt.$slice(1,Ge(tt.$length(),2)),f=[!0,"(",")"],at=f[0],ct=f[1],ft=f[2];else return((f=de["~"])===g?g:f["$[]"](0)).$slice(1,((f=de["~"])===g?g:f["$[]"](0)).$length());else at=!0,L(tt["$start_with?"]("("))?L(tt["$end_with?"](")"))?(f=[tt.$slice(1,Ge(tt.$length(),2)),!1],tt=f[0],at=f[1]):(f=[tt.$slice(1,tt.$length()),"(",""],tt=f[0],ct=f[1],ft=f[2]):L(tt["$end_with?"](")"))&&(f=[tt.$chop(),"",")"],tt=f[0],ct=f[1],ft=f[2]);return L(at)?(L((Ke=R.$normalize_text(tt,!0))["$include?"](";&"))&&(L(Ke["$include?"](" &gt;&gt; "))?(S=Ke.$partition(" &gt;&gt; "),f=we(S),Ke=f[0]==null?g:f[0],f[1]==null||f[1],ut=f[2]==null?g:f[2],oe=T(["see"],{see:ut})):L(Ke["$include?"](" &amp;&gt; "))&&(S=Ke.$split(" &amp;&gt; "),f=we(S),Ke=f[0]==null?g:f[0],Ee=Me(f,1),oe=T(["see-also"],{"see-also":Ee}))),pt=te("Inline").$new(R,"indexterm",Ke,T(["attributes","type"],{attributes:oe,type:"visible"})).$convert()):(oe=T([],{}),L((ht=R.$normalize_text(tt,!0))["$include?"](";&"))&&(L(ht["$include?"](" &gt;&gt; "))?(S=ht.$partition(" &gt;&gt; "),f=we(S),ht=f[0]==null?g:f[0],f[1]==null||f[1],ut=f[2]==null?g:f[2],oe["$[]="]("see",ut)):L(ht["$include?"](" &amp;&gt; "))&&(S=ht.$split(" &amp;&gt; "),f=we(S),ht=f[0]==null?g:f[0],Ee=Me(f,1),oe["$[]="]("see-also",Ee))),oe["$[]="]("terms",R.$split_simple_csv(ht)),pt=te("Inline").$new(R,"indexterm",g,T(["attributes"],{attributes:oe})).$convert()),L(ct)?""+ct+pt+ft:pt}},{$$s:E})),L(U)&&L(q["$include?"]("://"))&&(q=ve(q,"gsub",[te("InlineLinkRx")],function h(){var f,S,R=h.$$s==null?this:h.$$s,Z=g,G=g,oe=g,Ee=g,Ke=g,Je=g,$t=g,tt=g,at=g;if(L((Z=c((f=de["~"])===g?g:f["$[]"](2),L(I=(f=de["~"])===g?g:f["$[]"](3))?I:(f=de["~"])===g?g:f["$[]"](5)))["$start_with?"](te("RS"))))return c(((f=de["~"])===g?g:f["$[]"](0)).$slice(0,G=((f=de["~"])===g?g:f["$[]"](1)).$length()),((f=de["~"])===g?g:f["$[]"](0)).$slice(c(G,1),((f=de["~"])===g?g:f["$[]"](0)).$length()));if(f=[(S=de["~"])===g?g:S["$[]"](1),""],oe=f[0],Ee=f[1],L((f=de["~"])===g?g:f["$[]"](4)))Ue(oe,"link:")&&(oe=""),L((Ke=(f=de["~"])===g?g:f["$[]"](4))["$empty?"]())&&(Ke=g);else{switch(oe){case"link:":case'"':case"'":return(f=de["~"])===g?g:f["$[]"](0)}switch((f=de["~"])===g?g:f["$[]"](6)){case";":if(L(oe["$start_with?"]("&lt;"))&&L(Z["$end_with?"]("&gt;"))?(oe=oe.$slice(4,oe.$length()),Z=Z.$slice(0,Ge(Z.$length(),4))):L((Z=Z.$chop())["$end_with?"](")"))?(Z=Z.$chop(),Ee=");"):Ee=";",L(Z["$end_with?"]("://")))return(f=de["~"])===g?g:f["$[]"](0);break;case":":if(L((Z=Z.$chop())["$end_with?"](")"))?(Z=Z.$chop(),Ee="):"):Ee=":",L(Z["$end_with?"]("://")))return(f=de["~"])===g?g:f["$[]"](0);break}}return f=[g,T(["type"],{type:"link"})],Je=f[0],$t=f[1],L(Ke)?(L(Ke["$include?"](te("R_SB")))&&(tt=Ke=Ke.$gsub(te("ESC_R_SB"),te("R_SB"))),Ne(l.$compat_mode())&&L(Ke["$include?"]("="))&&(S=R.$extract_attributes_from_text(Ke,""),f=we(S),Ke=f[0]==null?g:f[0],Je=f[1]==null?g:f[1],tt=Ke,$t["$[]="]("id",Je["$[]"]("id"))),L(Ke["$end_with?"]("^"))&&(tt=Ke=Ke.$chop(),L(Je)?L(I=Je["$[]"]("window"))||Je["$[]="]("window","_blank"):Je=T(["window"],{window:"_blank"})),L(tt)&&L(tt["$empty?"]())&&(Ke=L(r["$key?"]("hide-uri-scheme"))?Z.$sub(te("UriSniffRx"),""):Z,at=!0)):(Ke=L(r["$key?"]("hide-uri-scheme"))?Z.$sub(te("UriSniffRx"),""):Z,at=!0),L(at)&&(L(Je)?Je["$[]="]("role",L(Je["$key?"]("role"))?"bare "+Je["$[]"]("role"):"bare"):Je=T(["role"],{role:"bare"})),l.$register("links",(f=["target",Z],ve($t,"[]=",f),f[f.length-1])),L(Je)&&$t["$[]="]("attributes",Je),""+oe+te("Inline").$new(R,"anchor",Ke,$t).$convert()+Ee},{$$s:E})),L(X)&&(L(q["$include?"]("link:"))||L(q["$include?"]("ilto:")))&&(q=ve(q,"gsub",[te("InlineLinkMacroRx")],function h(){var f,S,R=h.$$s==null?this:h.$$s,Z=g,G=g,oe=g,Ee=g,Ke=g,Je=g;return L(((f=de["~"])===g?g:f["$[]"](0))["$start_with?"](te("RS")))?((f=de["~"])===g?g:f["$[]"](0)).$slice(1,((f=de["~"])===g?g:f["$[]"](0)).$length()):(L(Z=(f=de["~"])===g?g:f["$[]"](1))?G=c("mailto:",oe=(f=de["~"])===g?g:f["$[]"](2)):G=(f=de["~"])===g?g:f["$[]"](2),f=[g,T(["type"],{type:"link"})],Ee=f[0],Ke=f[1],L((Je=(f=de["~"])===g?g:f["$[]"](3))["$empty?"]())||(L(Je["$include?"](te("R_SB")))&&(Je=Je.$gsub(te("ESC_R_SB"),te("R_SB"))),L(Z)?Ne(l.$compat_mode())&&L(Je["$include?"](","))&&(S=R.$extract_attributes_from_text(Je,""),f=we(S),Je=f[0]==null?g:f[0],Ee=f[1]==null?g:f[1],Ke["$[]="]("id",Ee["$[]"]("id")),L(Ee["$key?"](2))&&(L(Ee["$key?"](3))?G=""+G+"?subject="+te("Helpers").$encode_uri_component(Ee["$[]"](2))+"&amp;body="+te("Helpers").$encode_uri_component(Ee["$[]"](3)):G=""+G+"?subject="+te("Helpers").$encode_uri_component(Ee["$[]"](2)))):Ne(l.$compat_mode())&&L(Je["$include?"]("="))&&(S=R.$extract_attributes_from_text(Je,""),f=we(S),Je=f[0]==null?g:f[0],Ee=f[1]==null?g:f[1],Ke["$[]="]("id",Ee["$[]"]("id"))),L(Je["$end_with?"]("^"))&&(Je=Je.$chop(),L(Ee)?L(I=Ee["$[]"]("window"))||Ee["$[]="]("window","_blank"):Ee=T(["window"],{window:"_blank"}))),L(Je["$empty?"]())&&(L(Z)?Je=oe:(L(r["$key?"]("hide-uri-scheme"))?L((Je=G.$sub(te("UriSniffRx"),""))["$empty?"]())&&(Je=G):Je=G,L(Ee)?Ee["$[]="]("role",L(Ee["$key?"]("role"))?"bare "+Ee["$[]"]("role"):"bare"):Ee=T(["role"],{role:"bare"}))),l.$register("links",(f=["target",G],ve(Ke,"[]=",f),f[f.length-1])),L(Ee)&&Ke["$[]="]("attributes",Ee),te("Inline").$new(R,"anchor",Je,Ke).$convert())},{$$s:E})),L(q["$include?"]("@"))&&(q=ve(q,"gsub",[te("InlineEmailRx")],function h(){var f,S=h.$$s==null?this:h.$$s,R=g,Z=g;return L((f=de["~"])===g?g:f["$[]"](1))?Ue((f=de["~"])===g?g:f["$[]"](1),te("RS"))?((f=de["~"])===g?g:f["$[]"](0)).$slice(1,((f=de["~"])===g?g:f["$[]"](0)).$length()):(f=de["~"])===g?g:f["$[]"](0):(R=c("mailto:",Z=(f=de["~"])===g?g:f["$[]"](0)),l.$register("links",R),te("Inline").$new(S,"anchor",Z,T(["type","target"],{type:"link",target:R})).$convert())},{$$s:E})),L(j)&&Ue(E.context,"list_item")&&Ue(E.parent.$style(),"bibliography")&&(q=ve(q,"sub",[te("InlineBiblioAnchorRx")],function h(){var f,S=h.$$s==null?this:h.$$s;return te("Inline").$new(S,"anchor",(f=de["~"])===g?g:f["$[]"](2),T(["type","id"],{type:"bibref",id:(f=de["~"])===g?g:f["$[]"](1)})).$convert()},{$$s:E})),(L(j)&&L(q["$include?"]("[["))||L(X)&&L(q["$include?"]("or:")))&&(q=ve(q,"gsub",[te("InlineAnchorRx")],function h(){var f,S=h.$$s==null?this:h.$$s,R=g,Z=g;return L((f=de["~"])===g?g:f["$[]"](1))?((f=de["~"])===g?g:f["$[]"](0)).$slice(1,((f=de["~"])===g?g:f["$[]"](0)).$length()):(L(R=(f=de["~"])===g?g:f["$[]"](2))?Z=(f=de["~"])===g?g:f["$[]"](3):(R=(f=de["~"])===g?g:f["$[]"](4),L(Z=(f=de["~"])===g?g:f["$[]"](5))&&L(Z["$include?"](te("R_SB")))&&(Z=Z.$gsub(te("ESC_R_SB"),te("R_SB")))),te("Inline").$new(S,"anchor",Z,T(["type","id"],{type:"ref",id:R})).$convert())},{$$s:E})),(L(q["$include?"]("&"))&&L(q["$include?"](";&l"))||L(X)&&L(q["$include?"]("xref:")))&&(q=ve(q,"gsub",[te("InlineXrefMacroRx")],function h(){var f,S,R=h.$$s==null?this:h.$$s,Z=g,G=g,oe=g,Ee=g,Ke=g,Je=g,$t=g,tt=g,at=g,ct=g;return L(((f=de["~"])===g?g:f["$[]"](0))["$start_with?"](te("RS")))?((f=de["~"])===g?g:f["$[]"](0)).$slice(1,((f=de["~"])===g?g:f["$[]"](0)).$length()):(Z=T([],{}),L(G=(f=de["~"])===g?g:f["$[]"](1))?L(G["$include?"](","))&&(S=G.$partition(","),f=we(S),G=f[0]==null?g:f[0],f[1]==null||f[1],oe=f[2]==null?g:f[2],L((oe=oe.$lstrip())["$empty?"]())&&(oe=g)):(Ee=!0,G=(f=de["~"])===g?g:f["$[]"](2),L(oe=(f=de["~"])===g?g:f["$[]"](3))&&(L(oe["$include?"](te("R_SB")))&&(oe=oe.$gsub(te("ESC_R_SB"),te("R_SB"))),Ne(l.$compat_mode())&&L(oe["$include?"]("="))&&(S=R.$extract_attributes_from_text(oe),f=we(S),oe=f[0]==null?g:f[0],Z=f[1]==null?g:f[1]))),L(l.$compat_mode())?Ke=G:L(Je=G.$index("#"))&&Ie(G["$[]"](Ge(Je,1)),"&")?L(et(Je,0))?(L(et($t=Ge(Ge(G.$length(),1),Je),0))?(f=[G.$slice(0,Je),G.$slice(c(Je,1),$t)],tt=f[0],Ke=f[1]):tt=G.$chop(),L(Ee)?L(tt["$end_with?"](".adoc"))?at=tt=tt.$slice(0,Ge(tt.$length(),5)):Ne(te("Helpers")["$extname?"](tt))&&(at=tt):L(ve(tt,"end_with?",st(te("ASCIIDOC_EXTENSIONS").$keys())))?at=tt=tt.$slice(0,tt.$rindex(".")):at=tt):(f=[G,G.$slice(1,G.$length())],ct=f[0],Ke=f[1]):L(Ee)?L(G["$end_with?"](".adoc"))?at=tt=G.$slice(0,Ge(G.$length(),5)):L(te("Helpers")["$extname?"](G))?tt=G:Ke=G:Ke=G,L(ct)?(G=Ke,L(R.$logger()["$info?"]())&&Ne(l.$catalog()["$[]"]("refs")["$[]"](G))&&R.$logger().$info("possible invalid reference: "+G)):L(tt)?L(at)&&(Ue(l.$attributes()["$[]"]("docname"),tt)||L(l.$catalog()["$[]"]("includes")["$[]"](tt)))?L(Ke)?(f=[Ke,g,"#"+Ke],G=f[0],tt=f[1],ct=f[2],L(R.$logger()["$info?"]())&&Ne(l.$catalog()["$[]"]("refs")["$[]"](G))&&R.$logger().$info("possible invalid reference: "+G)):(f=[g,g,"#"],G=f[0],tt=f[1],ct=f[2]):(f=[tt,""+(L(I=l.$attributes()["$[]"]("relfileprefix"))?I:"")+tt+(L(at)?l.$attributes().$fetch("relfilesuffix",l.$outfilesuffix()):"")],G=f[0],tt=f[1],L(Ke)?(f=[""+G+"#"+Ke,""+tt+"#"+Ke],G=f[0],ct=f[1]):ct=tt):L(l.$compat_mode())||Ne(te("Compliance").$natural_xrefs())?(f=[Ke,"#"+Ke],G=f[0],ct=f[1],L(R.$logger()["$info?"]())&&Ne(l.$catalog()["$[]"]("refs")["$[]"](G))&&R.$logger().$info("possible invalid reference: "+G)):L(l.$catalog()["$[]"]("refs")["$[]"](Ke))?(f=[Ke,"#"+Ke],G=f[0],ct=f[1]):(L(Ke["$include?"](" "))||Ie(Ke.$downcase(),Ke))&&L(G=l.$resolve_id(Ke))?(f=[G,"#"+G],Ke=f[0],ct=f[1]):(f=[Ke,"#"+Ke],G=f[0],ct=f[1],L(R.$logger()["$info?"]())&&R.$logger().$info("possible invalid reference: "+G)),Z["$[]="]("path",tt),Z["$[]="]("fragment",Ke),Z["$[]="]("refid",G),te("Inline").$new(R,"anchor",oe,T(["type","target","attributes"],{type:"xref",target:ct,attributes:Z})).$convert())},{$$s:E})),L(X)&&L(q["$include?"]("tnote"))&&(q=ve(q,"gsub",[te("InlineFootnoteMacroRx")],function h(){var f,S,R,Z=h.$$s==null?this:h.$$s,G=g,oe=g,Ee=g,Ke=g,Je=g,$t=g;if(L(((f=de["~"])===g?g:f["$[]"](0))["$start_with?"](te("RS"))))return((f=de["~"])===g?g:f["$[]"](0)).$slice(1,((f=de["~"])===g?g:f["$[]"](0)).$length());if(L((f=de["~"])===g?g:f["$[]"](1)))if(L((f=de["~"])===g?g:f["$[]"](3)))S=((R=de["~"])===g?g:R["$[]"](3)).$split(",",2),f=we(S),G=f[0]==null?g:f[0],oe=f[1]==null?g:f[1],L(l.$compat_mode())||Z.$logger().$warn("found deprecated footnoteref macro: "+((f=de["~"])===g?g:f["$[]"](0))+"; use footnote macro with target instead");else return(f=de["~"])===g?g:f["$[]"](0);else G=(f=de["~"])===g?g:f["$[]"](2),oe=(f=de["~"])===g?g:f["$[]"](3);if(L(G))L(Ee=ve(l.$footnotes(),"find",[],function(at){return at==null&&(at=g),at.$id()["$=="](G)}))?(f=[Ee.$index(),Ee.$text()],Ke=f[0],oe=f[1],f=["xref",G,g],Je=f[0],$t=f[1],G=f[2]):L(oe)?(oe=Z.$restore_passthroughs(Z.$normalize_text(oe,!0,!0)),Ke=l.$counter("footnote-number"),l.$register("footnotes",Ze(te("Document"),"Footnote").$new(Ke,G,oe)),f=["ref",g],Je=f[0],$t=f[1]):(Z.$logger().$warn("invalid footnote reference: "+G),f=["xref",G,G,g],Je=f[0],$t=f[1],oe=f[2],G=f[3]);else if(L(oe))oe=Z.$restore_passthroughs(Z.$normalize_text(oe,!0,!0)),Ke=l.$counter("footnote-number"),l.$register("footnotes",Ze(te("Document"),"Footnote").$new(Ke,G,oe)),Je=$t=g;else return(f=de["~"])===g?g:f["$[]"](0);return te("Inline").$new(Z,"footnote",oe,T(["attributes","id","target","type"],{attributes:T(["index"],{index:Ke}),id:G,target:$t,type:Je})).$convert()},{$$s:E})),q}),v(fe,"$sub_post_replacements",function(q){var E=this,j=g,U=g;return E.document==null&&(E.document=g),E.attributes==null&&(E.attributes=g),L(E.attributes["$[]"]("hardbreaks-option"))||L(E.document.$attributes()["$[]"]("hardbreaks-option"))?(j=q.$split(te("LF"),-1),L(it(j.$size(),2))?q:(U=j.$pop(),ve(j,"map",[],function X(I){var u=X.$$s==null?this:X.$$s;return I==null&&(I=g),te("Inline").$new(u,"break",L(I["$end_with?"](te("HARD_LINE_BREAK")))?I.$slice(0,Ge(I.$length(),2)):I,T(["type"],{type:"line"})).$convert()},{$$s:E})["$<<"](U).$join(te("LF")))):L(q["$include?"](te("PLUS")))&&L(q["$include?"](te("HARD_LINE_BREAK")))?ve(q,"gsub",[te("HardLineBreakRx")],function X(){var I,u=X.$$s==null?this:X.$$s;return te("Inline").$new(u,"break",(I=de["~"])===g?g:I["$[]"](1),T(["type"],{type:"line"})).$convert()},{$$s:E}):q}),v(fe,"$sub_source",function(q,E){var j=this;return L(E)?j.$sub_callouts(j.$sub_specialchars(q)):j.$sub_specialchars(q)}),v(fe,"$sub_callouts",function(q){var E=this,j=g,U=g;return j=L(E["$attr?"]("line-comment"))?te("CalloutSourceRxMap")["$[]"](E.$attr("line-comment")):te("CalloutSourceRx"),U=0,ve(q,"gsub",[j],function X(){var I,u=X.$$s==null?this:X.$$s,r=g;return u.document==null&&(u.document=g),L((I=de["~"])===g?g:I["$[]"](2))?((I=de["~"])===g?g:I["$[]"](0)).$sub(te("RS"),""):te("Inline").$new(u,"callout",Ue((I=de["~"])===g?g:I["$[]"](4),".")?(U=c(U,1)).$to_s():(I=de["~"])===g?g:I["$[]"](4),T(["id","attributes"],{id:u.document.$callouts().$read_next_id(),attributes:T(["guard"],{guard:L(r=(I=de["~"])===g?g:I["$[]"](1))?r:Ue((I=de["~"])===g?g:I["$[]"](3),"--")?["\x3C!--","-->"]:g})})).$convert()},{$$s:E})}),v(fe,"$highlight_source",function(q,E){var j,U,X=this,I=g,u=g,r=g,l=g,y=g,h=g,f=g,S=g,R=g,Z=g;return X.document==null&&(X.document=g),X.passthroughs==null&&(X.passthroughs=g),L(I=X.document.$syntax_highlighter())&&L(I["$highlight?"]())?(L(E)&&(U=X.$extract_callouts(q),j=we(U),q=j[0]==null?g:j[0],u=j[1]==null?g:j[1]),r=X.document.$attributes(),l=I.$name(),L(h=L(X["$attr?"]("linenums"))?(L(f=r["$[]"](""+l+"-linenums-mode"))?f:"table").$to_sym():g)&&L(it(y=X.$attr("start",1).$to_i(),1))&&(y=1),L(X["$attr?"]("highlight"))&&(S=X.$resolve_lines_to_highlight(q,X.$attr("highlight"),y)),U=I.$highlight(X,q,X.$attr("language"),T(["callouts","css_mode","highlight_lines","number_lines","start_line_number","style"],{callouts:u,css_mode:(L(f=r["$[]"](""+l+"-css"))?f:"class").$to_sym(),highlight_lines:S,number_lines:h,start_line_number:y,style:r["$[]"](""+l+"-style")})),j=we(U),R=j[0]==null?g:j[0],Z=j[1]==null?g:j[1],L(X.passthroughs["$empty?"]())||(R=R.$gsub(te("HighlightedPassSlotRx"),""+te("PASS_START")+"\\1"+te("PASS_END"))),L(u["$nil_or_empty?"]())?R:X.$restore_callouts(R,u,Z)):X.$sub_source(q,E)}),v(fe,"$resolve_lines_to_highlight",function(q,E,j){var U=g,X=g;return j==null&&(j=g),U=[],L(E["$include?"](" "))&&(E=E.$delete(" ")),ve(L(E["$include?"](","))?E.$split(","):E.$split(";"),"map",[],function(u){var r,l,y=g,h=g,f=g,S=g,R=g;return u==null&&(u=g),L(u["$start_with?"]("!"))&&(u=u.$slice(1,u.$length()),y=!0),L(h=L(u["$include?"](".."))?"..":L(u["$include?"]("-"))?"-":g)?(l=u.$partition(h),r=we(l),f=r[0]==null?g:r[0],r[1]==null||r[1],S=r[2]==null?g:r[2],(L(S["$empty?"]())||L(it(S=S.$to_i(),0)))&&(S=c(q.$count(te("LF")),1)),L(y)?U=Ge(U,t.Range.$new(f.$to_i(),S,!1).$to_a()):U=U["$|"](t.Range.$new(f.$to_i(),S,!1).$to_a())):L(y)?U.$delete(u.$to_i()):Ne(U["$include?"](R=u.$to_i()))?U["$<<"](R):g}),Ue(X=L(j)?Ge(j,1):0,0)||(U=ve(U,"map",[],function(u){return u==null&&(u=g),Ge(u,X)})),U.$sort()},-3),v(fe,"$extract_passthroughs",function(q){var E,j,U=this,X=g,I=g,u=g,r=g,l=g;return U.document==null&&(U.document=g),U.passthroughs==null&&(U.passthroughs=g),X=U.document.$compat_mode(),I=U.passthroughs,(L(q["$include?"]("++"))||L(q["$include?"]("$$"))||L(q["$include?"]("ss:")))&&(q=ve(q,"gsub",[te("InlinePassMacroRx")],function y(){var h,f=y.$$s==null?this:y.$$s,S=g,R=g,Z=g,G=g,oe=g,Ee=g,Ke=g,Je=g,$t=g;if(L(S=(h=de["~"])===g?g:h["$[]"](4))){if(L(X)&&Ue(S,"++"))return(L((h=de["~"])===g?g:h["$[]"](2))?""+((h=de["~"])===g?g:h["$[]"](1))+"["+((h=de["~"])===g?g:h["$[]"](2))+"]"+((h=de["~"])===g?g:h["$[]"](3)):""+((h=de["~"])===g?g:h["$[]"](1))+((h=de["~"])===g?g:h["$[]"](3)))+"++"+f.$extract_passthroughs((h=de["~"])===g?g:h["$[]"](5))+"++";if(L(R=(h=de["~"])===g?g:h["$[]"](2))){if(L(et(Z=((h=de["~"])===g?g:h["$[]"](3)).$length(),0)))return""+((h=de["~"])===g?g:h["$[]"](1))+"["+R+"]"+x(te("RS"),Ge(Z,1))+S+((h=de["~"])===g?g:h["$[]"](5))+S;Ue((h=de["~"])===g?g:h["$[]"](1),te("RS"))?G="["+R+"]":Ue(S,"++")?Ue(R,"x-")?(oe=!0,Ee=T([],{})):L(R["$end_with?"](" x-"))?(oe=!0,Ee=f.$parse_quoted_text_attributes(R.$slice(0,Ge(R.$length(),3)))):Ee=f.$parse_quoted_text_attributes(R):Ee=f.$parse_quoted_text_attributes(R)}else if(L(et(Z=((h=de["~"])===g?g:h["$[]"](3)).$length(),0)))return""+x(te("RS"),Ge(Z,1))+S+((h=de["~"])===g?g:h["$[]"](5))+S;Ke=Ue(S,"+++")?[]:te("BASIC_SUBS"),L(Ee)?L(oe)?I["$[]="](Je=I.$size(),T(["text","subs","type","attributes"],{text:(h=de["~"])===g?g:h["$[]"](5),subs:te("NORMAL_SUBS"),type:"monospaced",attributes:Ee})):I["$[]="](Je=I.$size(),T(["text","subs","type","attributes"],{text:(h=de["~"])===g?g:h["$[]"](5),subs:Ke,type:"unquoted",attributes:Ee})):I["$[]="](Je=I.$size(),T(["text","subs"],{text:(h=de["~"])===g?g:h["$[]"](5),subs:Ke}))}else{if(Ue((h=de["~"])===g?g:h["$[]"](6),te("RS")))return((h=de["~"])===g?g:h["$[]"](0)).$slice(1,((h=de["~"])===g?g:h["$[]"](0)).$length());L(Ke=(h=de["~"])===g?g:h["$[]"](7))?I["$[]="](Je=I.$size(),T(["text","subs"],{text:f.$normalize_text((h=de["~"])===g?g:h["$[]"](8),g,!0),subs:f.$resolve_pass_subs(Ke)})):I["$[]="](Je=I.$size(),T(["text"],{text:f.$normalize_text((h=de["~"])===g?g:h["$[]"](8),g,!0)}))}return""+(L($t=G)?$t:"")+te("PASS_START")+Je+te("PASS_END")},{$$s:U})),j=te("InlinePassRx")["$[]"](X),E=we(j),u=E[0]==null?g:E[0],r=E[1]==null?g:E[1],l=E[2]==null?g:E[2],(L(q["$include?"](u))||L(r)&&L(q["$include?"](r)))&&(q=ve(q,"gsub",[l],function y(){var h,f=y.$$s==null?this:y.$$s,S=g,R=g,Z=g,G=g,oe=g,Ee=g,Ke=g,Je=g,$t=g,tt=g,at=g,ct=g;if(S=(h=de["~"])===g?g:h["$[]"](1),R=L(Z=(h=de["~"])===g?g:h["$[]"](4))?Z:(h=de["~"])===g?g:h["$[]"](3),L((h=de["~"])===g?g:h["$[]"](5))&&(G=!0),oe=(h=de["~"])===g?g:h["$[]"](6),Ee=(h=de["~"])===g?g:h["$[]"](7),Ke=(h=de["~"])===g?g:h["$[]"](8),L(X)?Je=!0:L(R)&&(Ue(R,"x-")||L(R["$end_with?"](" x-")))&&(Je=$t=!0),L(R)){if(L(G))return""+S+"["+R+"]"+oe.$slice(1,oe.$length());if(Ue(S,te("RS"))){if(L($t)&&Ue(Ee,"`"))return""+S+"["+R+"]"+oe;S="["+R+"]"}else L($t)?tt=Ue(R,"x-")?T([],{}):f.$parse_quoted_text_attributes(R.$slice(0,Ge(R.$length(),3))):tt=f.$parse_quoted_text_attributes(R)}else{if(L(G))return""+S+oe.$slice(1,oe.$length());if(L(X)&&Ue(S,te("RS")))return oe}return L(X)?I["$[]="](at=I.$size(),T(["text","subs","attributes","type"],{text:Ke,subs:te("BASIC_SUBS"),attributes:tt,type:"monospaced"})):L(tt)?L(Je)?(ct=Ue(Ee,"`")?te("BASIC_SUBS"):te("NORMAL_SUBS"),I["$[]="](at=I.$size(),T(["text","subs","attributes","type"],{text:Ke,subs:ct,attributes:tt,type:"monospaced"}))):I["$[]="](at=I.$size(),T(["text","subs","attributes","type"],{text:Ke,subs:te("BASIC_SUBS"),attributes:tt,type:"unquoted"})):I["$[]="](at=I.$size(),T(["text","subs"],{text:Ke,subs:te("BASIC_SUBS")})),""+S+te("PASS_START")+at+te("PASS_END")},{$$s:U})),L(q["$include?"](":"))&&(L(q["$include?"]("stem:"))||L(q["$include?"]("math:")))&&(q=ve(q,"gsub",[te("InlineStemMacroRx")],function y(){var h,f=y.$$s==null?this:y.$$s,S=g,R=g,Z=g,G=g;return f.document==null&&(f.document=g),L(((h=de["~"])===g?g:h["$[]"](0))["$start_with?"](te("RS")))?((h=de["~"])===g?g:h["$[]"](0)).$slice(1,((h=de["~"])===g?g:h["$[]"](0)).$length()):(Ue(S=((h=de["~"])===g?g:h["$[]"](1)).$to_sym(),"stem")&&(S=te("STEM_TYPE_ALIASES")["$[]"](f.document.$attributes()["$[]"]("stem")).$to_sym()),R=(h=de["~"])===g?g:h["$[]"](2),Z=f.$normalize_text((h=de["~"])===g?g:h["$[]"](3),g,!0),Ue(S,"latexmath")&&L(Z["$start_with?"]("$"))&&L(Z["$end_with?"]("$"))&&(Z=Z.$slice(1,Ge(Z.$length(),2))),R=L(R)?f.$resolve_pass_subs(R):L(f.document["$basebackend?"]("html"))?te("BASIC_SUBS"):g,I["$[]="](G=I.$size(),T(["text","subs","type"],{text:Z,subs:R,type:S})),""+te("PASS_START")+G+te("PASS_END"))},{$$s:U})),q}),v(fe,"$restore_passthroughs",function(q){var E=this,j=g;return E.passthroughs==null&&(E.passthroughs=g),j=E.passthroughs,ve(q,"gsub",[te("PassSlotRx")],function U(){var X,I=U.$$s==null?this:U.$$s,u=g,r=g,l=g,y=g,h=g;return L(u=j["$[]"](((X=de["~"])===g?g:X["$[]"](1)).$to_i()))?(r=I.$apply_subs(u["$[]"]("text"),u["$[]"]("subs")),L(l=u["$[]"]("type"))&&(L(y=u["$[]"]("attributes"))&&(h=y["$[]"]("id")),r=te("Inline").$new(I,"quoted",r,T(["type","id","attributes"],{type:l,id:h,attributes:y})).$convert()),L(r["$include?"](te("PASS_START")))?I.$restore_passthroughs(r):r):(I.$logger().$error("unresolved passthrough detected: "+q),"??pass??")},{$$s:E})}),v(fe,"$resolve_subs",function(q,E,j,U){var X=this,I=g,u=g,r=g,l=g;return E==null&&(E="block"),j==null&&(j=g),U==null&&(U=g),L(q["$nil_or_empty?"]())||(I=g,L(q["$include?"](" "))&&(q=q.$delete(" ")),u=te("SubModifierSniffRx")["$match?"](q),ve(q.$split(","),"each",[],function(h){var f=g,S=g,R=g,Z=g,G=g,oe=g;if(h==null&&(h=g),f=g,L(u)&&(Ue(S=h.$chr(),"+")?(f="append",h=h.$slice(1,h.$length())):Ue(S,"-")?(f="remove",h=h.$slice(1,h.$length())):L(h["$end_with?"]("+"))&&(f="prepend",h=h.$chop())),h=h.$to_sym(),Ue(E,"inline")&&(Ue(h,"verbatim")||Ue(h,"v"))?R=te("BASIC_SUBS"):L(te("SUB_GROUPS")["$key?"](h))?R=te("SUB_GROUPS")["$[]"](h):Ue(E,"inline")&&Ue(h.$length(),1)&&L(te("SUB_HINTS")["$key?"](h))?(Z=te("SUB_HINTS")["$[]"](h),L(G=te("SUB_GROUPS")["$[]"](Z))?R=G:R=[Z]):R=[h],L(f))switch(I=L(oe=I)?oe:L(j)?j.$drop(0):[],f){case"append":return I=c(I,R);case"prepend":return I=c(R,I);case"remove":return I=Ge(I,R);default:return g}else return I=L(oe=I)?oe:[],I=c(I,R)}),!L(I))?g:(r=I["$&"](te("SUB_OPTIONS")["$[]"](E)),L(Ge(I,r)["$empty?"]())||(l=Ge(I,r),X.$logger().$warn("invalid substitution type"+(L(et(l.$size(),1))?"s":"")+(L(U)?" for ":"")+U+": "+l.$join(", "))),r)},-2),v(fe,"$resolve_block_subs",function(q,E,j){var U=this;return U.$resolve_subs(q,"block",E,j)}),v(fe,"$resolve_pass_subs",function(q){var E=this;return E.$resolve_subs(q,"inline",g,"passthrough macro")}),v(fe,"$expand_subs",function(q,E){var j=this,U=g,X=g,I=g;return E==null&&(E=g),De(Ze("Symbol"),U=q)?Ue(q,"none")?g:L(X=te("SUB_GROUPS")["$[]"](q))?X:[q]:De(Ze("Array"),U)?(I=[],ve(q,"each",[],function(r){var l=g;return r==null&&(r=g),Ue(r,"none")?g:L(l=te("SUB_GROUPS")["$[]"](r))?I=c(I,l):I["$<<"](r)}),L(I["$empty?"]())?g:I):j.$resolve_subs(q,"inline",g,E)},-2),v(fe,"$commit_subs",function(){var q=this,E=g,j=g,U=g,X=g,I=g;if(q.default_subs==null&&(q.default_subs=g),q.content_model==null&&(q.content_model=g),q.context==null&&(q.context=g),q.subs==null&&(q.subs=g),q.attributes==null&&(q.attributes=g),q.document==null&&(q.document=g),q.style==null&&(q.style=g),!L(E=q.default_subs))switch(q.content_model){case"simple":E=te("NORMAL_SUBS");break;case"verbatim":E=Ue(q.context,"verse")?te("NORMAL_SUBS"):te("VERBATIM_SUBS");break;case"raw":E=Ue(q.context,"stem")?te("BASIC_SUBS"):te("NO_SUBS");break;default:return q.subs}return L(j=q.attributes["$[]"]("subs"))?q.subs=L(U=q.$resolve_block_subs(j,E,q.context))?U:[]:q.subs=E.$drop(0),Ue(q.context,"listing")&&Ue(q.style,"source")&&L(I=q.document.$syntax_highlighter())&&L(I["$highlight?"]())&&L(X=q.subs.$index("specialcharacters"))&&q.subs["$[]="](X,"highlight"),g}),v(fe,"$parse_attributes",function(q,E,j){var U=this,X=g,I=g;return U.document==null&&(U.document=g),E==null&&(E=[]),j==null&&(j=T([],{})),L(L(q)?q["$empty?"]():!0)?T([],{}):(L(j["$[]"]("unescape_input"))&&(q=U.$normalize_text(q,!0,!0)),L(j["$[]"]("sub_input"))&&L(q["$include?"](te("ATTR_REF_HEAD")))&&(q=U.document.$sub_attributes(q)),L(j["$[]"]("sub_result"))&&(X=U),L(I=j["$[]"]("into"))?te("AttributeList").$new(q,X).$parse_into(I,E):te("AttributeList").$new(q,X).$parse(E))},-2),fe.$private(),v(fe,"$extract_attributes_from_text",function(q,E){var j=this,U=g,X=g,I=g;return E==null&&(E=g),U=L(q["$include?"](te("LF")))?q.$tr(te("LF")," "):q,L(X=(I=te("AttributeList").$new(U,j).$parse())["$[]"](1))?Ue(X,U)?[q,I.$clear()]:[X,I]:[E,I]},-2),v(fe,"$extract_callouts",function(q){var E=this,j=g,U=g,X=g,I=g,u=g;return j=T([],{}),U=X=0,I=g,u=L(E["$attr?"]("line-comment"))?te("CalloutExtractRxMap")["$[]"](E.$attr("line-comment")):te("CalloutExtractRx"),q=ve(q.$split(te("LF"),-1),"map",[],function(l){return l==null&&(l=g),X=c(X,1),ve(l,"gsub",[u],function(){var h,f=g;return L((h=de["~"])===g?g:h["$[]"](2))?((h=de["~"])===g?g:h["$[]"](0)).$sub(te("RS"),""):((L(f=j["$[]"](X))?f:(h=[X,[]],ve(j,"[]=",h),h[h.length-1]))["$<<"]([L(f=(h=de["~"])===g?g:h["$[]"](1))?f:Ue((h=de["~"])===g?g:h["$[]"](3),"--")?["\x3C!--","-->"]:g,Ue((h=de["~"])===g?g:h["$[]"](4),".")?(U=c(U,1)).$to_s():(h=de["~"])===g?g:h["$[]"](4)]),I=X,"")})}).$join(te("LF")),L(I)?Ue(I,X)&&(q=""+q+te("LF")):j=g,[q,j]}),v(fe,"$restore_callouts",function(q,E,j){var U=this,X=g,I=g;return j==null&&(j=g),L(j)?(X=q.$slice(0,j),q=q.$slice(j,q.$length())):X="",I=0,c(X,ve(q.$split(te("LF"),-1),"map",[],function u(r){var l,y,h=u.$$s==null?this:u.$$s,f=g,S=g,R=g;return h.document==null&&(h.document=g),r==null&&(r=g),L(f=E.$delete(I=c(I,1)))?Ue(f.$size(),1)?(y=f["$[]"](0),l=we(y),S=l[0]==null?g:l[0],R=l[1]==null?g:l[1],""+r+te("Inline").$new(h,"callout",R,T(["id","attributes"],{id:h.document.$callouts().$read_next_id(),attributes:T(["guard"],{guard:S})})).$convert()):""+r+ve(f,"map",[],function Z(G,oe){var Ee=Z.$$s==null?this:Z.$$s;return Ee.document==null&&(Ee.document=g),G==null&&(G=g),oe==null&&(oe=g),te("Inline").$new(Ee,"callout",oe,T(["id","attributes"],{id:Ee.document.$callouts().$read_next_id(),attributes:T(["guard"],{guard:G})})).$convert()},{$$s:h}).$join(" "):r},{$$s:U}).$join(te("LF")))},-3),v(fe,"$convert_quoted_text",function(q,E,j){var U=this,X=g,I=g,u=g,r=g,l=g;if(L(q["$[]"](0)["$start_with?"](te("RS"))))if(Ue(j,"constrained")&&L(X=q["$[]"](2)))I="["+X+"]";else return q["$[]"](0).$slice(1,q["$[]"](0).$length());return Ue(j,"constrained")?L(I)?""+I+te("Inline").$new(U,"quoted",q["$[]"](3),T(["type"],{type:E})).$convert():(L(u=q["$[]"](2))&&(r=(l=U.$parse_quoted_text_attributes(u))["$[]"]("id"),Ue(E,"mark")&&(E="unquoted")),""+q["$[]"](1)+te("Inline").$new(U,"quoted",q["$[]"](3),T(["type","id","attributes"],{type:E,id:r,attributes:l})).$convert()):(L(u=q["$[]"](1))&&(r=(l=U.$parse_quoted_text_attributes(u))["$[]"]("id"),Ue(E,"mark")&&(E="unquoted")),te("Inline").$new(U,"quoted",q["$[]"](2),T(["type","id","attributes"],{type:E,id:r,attributes:l})).$convert())}),v(fe,"$do_replacement",function(q,E,j){var U=g;if(L((U=q["$[]"](0))["$include?"](te("RS"))))return U.$sub(te("RS"),"");switch(j){case"none":return E;case"bounding":return c(c(q["$[]"](1),E),q["$[]"](2));default:return c(q["$[]"](1),E)}}),v(fe,"$parse_quoted_text_attributes",function(q){var E,j,U=this,X=g,I=g,u=g,r=g,l=g;return L(q["$include?"](te("ATTR_REF_HEAD")))&&(q=U.$sub_attributes(q)),L(q["$include?"](","))&&(q=q.$slice(0,q.$index(","))),L((q=q.$strip())["$empty?"]())?T([],{}):L(q["$start_with?"](".","#"))&&L(te("Compliance").$shorthand_property_syntax())?(j=q.$partition("#"),E=we(j),X=E[0]==null?g:E[0],E[1]==null||E[1],I=E[2]==null?g:E[2],u=T([],{}),L(I["$empty?"]())?L(et(X.$length(),1))&&u["$[]="]("role",X.$tr("."," ").$lstrip()):(j=I.$partition("."),E=we(j),r=E[0]==null?g:E[0],E[1]==null||E[1],l=E[2]==null?g:E[2],L(r["$empty?"]())||u["$[]="]("id",r),L(l["$empty?"]())?L(et(X.$length(),1))&&u["$[]="]("role",X.$tr("."," ").$lstrip()):L(et(X.$length(),1))?u["$[]="]("role",c(c(X,"."),l).$tr("."," ").$lstrip()):u["$[]="]("role",l.$tr("."," "))),u):T(["role"],{role:q})}),v(fe,"$normalize_text",function(q,E,j){return E==null&&(E=g),j==null&&(j=g),L(q["$empty?"]())||(L(E)&&(q=q.$strip().$tr(te("LF")," ")),L(j)&&L(q["$include?"](te("R_SB")))&&(q=q.$gsub(te("ESC_R_SB"),te("R_SB")))),q},-2),v(fe,"$split_simple_csv",function(q){var E=g,j=g,U=g;return L(q["$empty?"]())?[]:L(q["$include?"]('"'))?(E=[],j="",U=g,ve(q,"each_char",[],function(I){switch(I==null&&(I=g),I){case",":return L(U)?j=c(j,I):(E["$<<"](j.$strip()),j="");case'"':return U=U["$!"]();default:return j=c(j,I)}}),E["$<<"](j.$strip())):ve(q.$split(","),"map",[],function(I){return I==null&&(I=g),I.$strip()})})}(Be[0],Be)}(Xe[0],Xe)},Opal.modules["asciidoctor/version"]=function(t){var W=t.module,H=t.const_set,T=[];return t.nil,function(O,c){var N=W(O,"Asciidoctor"),Ne=[N].concat(c);return H(Ne[0],"VERSION","2.0.20")}(T[0],T)},Opal.modules["asciidoctor/abstract_node"]=function(t){var W=t.module,H=t.klass,T=t.hash2,O=t.eqeq,c=t.truthy,N=t.def,Ne=t.send,L=t.rb_minus,ve=t.eqeqeq,v=t.rb_lt,Ve=t.not,de=t.to_ary,Ue=[],we=t.nil,Ie=t.$$$;return t.add_stubs("include,attr_reader,attr_accessor,==,document,to_s,[],merge,raise,converter,attributes,key?,[]=,delete,tap,new,each_key,end_with?,<<,slice,-,length,update,split,include?,===,join,empty?,apply_reftext_subs,attr?,attr,extname?,image_uri,<,safe,normalize_web_path,uriish?,encode_spaces_in_uri,generate_data_uri_from_uri,generate_data_uri,extname,normalize_system_path,readable?,strict_encode64,binread,warn,logger,require_library,!,open_uri,content_type,read,base_dir,root?,path_resolver,system_path,web_path,!=,prepare_source_string,fetch,read_asset"),function(st,De){var et=W(st,"Asciidoctor"),Me=[et].concat(De);return function(Ge,it,x){var Xe=H(Ge,it,"AbstractNode"),g=[Xe].concat(x),Ze=t.$r(g),rt=Xe.$$prototype;return rt.document=rt.attributes=rt.parent=we,Xe.$include(Ze("Logging")),Xe.$include(Ze("Substitutors")),Xe.$attr_reader("attributes"),Xe.$attr_reader("context"),Xe.$attr_reader("document"),Xe.$attr_accessor("id"),Xe.$attr_reader("node_name"),Xe.$attr_reader("parent"),N(Xe,"$initialize",function(A,Be,$e){var me=this,fe=we;return $e==null&&($e=T([],{})),O(Be,"document")?me.document=me:c(A)&&(me.document=(me.parent=A).$document()),me.node_name=(me.context=Be).$to_s(),me.attributes=c(fe=$e["$[]"]("attributes"))?fe.$merge():T([],{}),me.passthroughs=[]},-3),N(Xe,"$block?",function(){var A=this;return A.$raise(Ie("NotImplementedError"))}),N(Xe,"$inline?",function(){var A=this;return A.$raise(Ie("NotImplementedError"))}),N(Xe,"$converter",function(){var A=this;return A.document.$converter()}),N(Xe,"$parent=",function(A){var Be,$e=this;return Be=[A,A.$document()],$e.parent=Be[0],$e.document=Be[1],Be}),N(Xe,"$attr",function(A,Be,$e){var me=this,fe=we,V=we,te=we,P=we;return Be==null&&(Be=we),$e==null&&($e=we),c(fe=me.attributes["$[]"](A.$to_s()))?fe:c(V=c(te=c(P=$e)?me.parent:P)?me.document.$attributes()["$[]"]((O($e,!0)?A:$e).$to_s()):te)?V:Be},-2),N(Xe,"$attr?",function(A,Be,$e){var me=this,fe=we;return Be==null&&(Be=we),$e==null&&($e=we),c(Be)?Be["$=="](c(fe=me.attributes["$[]"](A.$to_s()))?fe:c($e)&&c(me.parent)?me.document.$attributes()["$[]"]((O($e,!0)?A:$e).$to_s()):we):c(fe=me.attributes["$key?"](A.$to_s()))?fe:c($e)&&c(me.parent)?me.document.$attributes()["$key?"]((O($e,!0)?A:$e).$to_s()):!1},-2),N(Xe,"$set_attr",function(A,Be,$e){var me=this;return Be==null&&(Be=""),$e==null&&($e=!0),O($e,!1)&&c(me.attributes["$key?"](A))?!1:(me.attributes["$[]="](A,Be),!0)},-2),N(Xe,"$remove_attr",function(A){var Be=this;return Be.attributes.$delete(A)}),N(Xe,"$option?",function(A){var Be=this;return!!c(Be.attributes["$[]"](""+A+"-option"))}),N(Xe,"$set_option",function(A){var Be=this;return Be.attributes["$[]="](""+A+"-option",""),we}),N(Xe,"$enabled_options",function(){var A=this;return Ne(Ie("Set").$new(),"tap",[],function Be($e){var me=Be.$$s==null?this:Be.$$s;return me.attributes==null&&(me.attributes=we),$e==null&&($e=we),Ne(me.attributes,"each_key",[],function(V){return V==null&&(V=we),c(V.$to_s()["$end_with?"]("-option"))?$e["$<<"](V.$slice(0,L(V.$length(),7))):we})},{$$s:A})}),N(Xe,"$update_attributes",function(A){var Be=this;return Be.attributes.$update(A)}),N(Xe,"$role",function(){var A=this;return A.attributes["$[]"]("role")}),N(Xe,"$roles",function(){var A=this,Be=we;return c(Be=A.attributes["$[]"]("role"))?Be.$split():[]}),N(Xe,"$role?",function(A){var Be=this;return A==null&&(A=we),c(A)?A["$=="](Be.attributes["$[]"]("role")):Be.attributes["$key?"]("role")},-1),N(Xe,"$has_role?",function(A){var Be=this,$e=we;return c($e=Be.attributes["$[]"]("role"))?(" "+$e+" ")["$include?"](" "+A+" "):!1}),N(Xe,"$role=",function(A){var Be,$e=this;return Be=["role",ve(Ie("Array"),A)?A.$join(" "):A],Ne($e.attributes,"[]=",Be),Be[Be.length-1]}),N(Xe,"$add_role",function(A){var Be=this,$e=we;return c($e=Be.attributes["$[]"]("role"))?c((" "+$e+" ")["$include?"](" "+A+" "))?!1:(Be.attributes["$[]="]("role",""+$e+" "+A),!0):(Be.attributes["$[]="]("role",A),!0)}),N(Xe,"$remove_role",function(A){var Be=this,$e=we;return c($e=Be.attributes["$[]"]("role"))&&c(($e=$e.$split()).$delete(A))?(c($e["$empty?"]())?Be.attributes.$delete("role"):Be.attributes["$[]="]("role",$e.$join(" ")),!0):!1}),N(Xe,"$reftext",function(){var A=this,Be=we;return c(Be=A.attributes["$[]"]("reftext"))?A.$apply_reftext_subs(Be):we}),N(Xe,"$reftext?",function(){var A=this;return A.attributes["$key?"]("reftext")}),N(Xe,"$icon_uri",function(A){var Be=this,$e=we;return c(Be["$attr?"]("icon"))?($e=Be.$attr("icon"),c(Ze("Helpers")["$extname?"]($e))||($e=""+$e+"."+Be.document.$attr("icontype","png"))):$e=""+A+"."+Be.document.$attr("icontype","png"),Be.$image_uri($e,"iconsdir")}),N(Xe,"$image_uri",function(A,Be){var $e=this,me=we,fe=we;return Be==null&&(Be="imagesdir"),c(v((me=$e.document).$safe(),Ie(Ze("SafeMode"),"SECURE")))&&c(me["$attr?"]("data-uri"))?c(Ze("Helpers")["$uriish?"](A))&&c(A=Ze("Helpers").$encode_spaces_in_uri(A))||c(Be)&&c(fe=me.$attr(Be))&&c(Ze("Helpers")["$uriish?"](fe))&&c(A=$e.$normalize_web_path(A,fe,!1))?c(me["$attr?"]("allow-uri-read"))?$e.$generate_data_uri_from_uri(A,me["$attr?"]("cache-uri")):A:$e.$generate_data_uri(A,Be):$e.$normalize_web_path(A,c(Be)?me.$attr(Be):we)},-2),N(Xe,"$media_uri",function(A,Be){var $e=this;return Be==null&&(Be="imagesdir"),$e.$normalize_web_path(A,c(Be)?$e.document.$attr(Be):we)},-2),N(Xe,"$generate_data_uri",function(A,Be){var $e=this,me=we,fe=we,V=we;return Be==null&&(Be=we),c(me=Ze("Helpers").$extname(A,we))?fe=O(me,".svg")?"image/svg+xml":"image/"+me.$slice(1,me.$length()):fe="application/octet-stream",c(Be)?V=$e.$normalize_system_path(A,$e.document.$attr(Be),we,T(["target_name"],{target_name:"image"})):V=$e.$normalize_system_path(A),c(Ie("File")["$readable?"](V))?"data:"+fe+";base64,"+Ie("Base64").$strict_encode64(Ie("File").$binread(V)):($e.$logger().$warn("image to embed not found or not readable: "+V),"data:"+fe+";base64,")},-2),N(Xe,"$generate_data_uri_from_uri",function(A,Be){var $e,me,fe=this,V=we,te=we;Be==null&&(Be=!1),c(Be)?Ze("Helpers").$require_library("open-uri/cached","open-uri-cached"):Ve(Ze("RUBY_ENGINE_OPAL"))&&Ie("OpenURI");try{return me=Ne(Ie("OpenURI"),"open_uri",[A,Ze("URI_READ_MODE")],function(q){return q==null&&(q=we),[q.$content_type(),q.$read()]}),$e=de(me),V=$e[0]==null?we:$e[0],te=$e[1]==null?we:$e[1],"data:"+V+";base64,"+Ie("Base64").$strict_encode64(te)}catch(P){if(t.rescue(P,[Ze("StandardError")]))try{return fe.$logger().$warn("could not retrieve image data from URI: "+A),A}finally{t.pop_exception()}else throw P}},-2),N(Xe,"$normalize_asset_path",function(A,Be,$e){var me=this;return Be==null&&(Be="path"),$e==null&&($e=!0),me.$normalize_system_path(A,me.document.$base_dir(),we,T(["target_name","recover"],{target_name:Be,recover:$e}))},-2),N(Xe,"$normalize_system_path",function(A,Be,$e,me){var fe=this,V=we,te=we;return Be==null&&(Be=we),$e==null&&($e=we),me==null&&(me=T([],{})),c(v((V=fe.document).$safe(),Ie(Ze("SafeMode"),"SAFE")))?c(Be)?c(V.$path_resolver()["$root?"](Be))||(Be=Ie("File").$join(V.$base_dir(),Be)):Be=V.$base_dir():(Be=c(te=Be)?te:V.$base_dir(),$e=c(te=$e)?te:V.$base_dir()),V.$path_resolver().$system_path(A,Be,$e,me)},-2),N(Xe,"$normalize_web_path",function(A,Be,$e){var me=this;return Be==null&&(Be=we),$e==null&&($e=!0),c($e)&&c(Ze("Helpers")["$uriish?"](A))?Ze("Helpers").$encode_spaces_in_uri(A):me.document.$path_resolver().$web_path(A,Be)},-2),N(Xe,"$read_asset",function(A,Be){var $e=this,me=we;return Be==null&&(Be=T([],{})),ve(Ie("Hash"),Be)||(Be=T(["warn_on_failure"],{warn_on_failure:Be["$!="](!1)})),c(Ie("File")["$readable?"](A))?c(Be["$[]"]("normalize"))?Ze("Helpers").$prepare_source_string(Ie("File").$read(A,T(["mode"],{mode:Ze("FILE_READ_MODE")}))).$join(Ze("LF")):Ie("File").$read(A,T(["mode"],{mode:Ze("FILE_READ_MODE")})):(c(Be["$[]"]("warn_on_failure"))&&$e.$logger().$warn(""+(c(me=$e.$attr("docfile"))?me:"<stdin>")+": "+(c(me=Be["$[]"]("label"))?me:"file")+" does not exist or cannot be read: "+A),we)},-2),N(Xe,"$read_contents",function(A,Be){var $e=this,me=we,fe=we,V=we,te=we;if(Be==null&&(Be=T([],{})),me=$e.document,c(Ze("Helpers")["$uriish?"](A))||c(fe=Be["$[]"]("start"))&&c(Ze("Helpers")["$uriish?"](fe))&&c(A=me.$path_resolver().$web_path(A,fe)))if(c(me["$attr?"]("allow-uri-read"))){c(me["$attr?"]("cache-uri"))&&Ze("Helpers").$require_library("open-uri/cached","open-uri-cached");try{c(Be["$[]"]("normalize"))?V=Ze("Helpers").$prepare_source_string(Ne(Ie("OpenURI"),"open_uri",[A,Ze("URI_READ_MODE")],function(q){return q==null&&(q=we),q.$read()})).$join(Ze("LF")):V=Ne(Ie("OpenURI"),"open_uri",[A,Ze("URI_READ_MODE")],function(q){return q==null&&(q=we),q.$read()})}catch(P){if(t.rescue(P,[Ze("StandardError")]))try{c(Be.$fetch("warn_on_failure",!0))&&$e.$logger().$warn("could not retrieve contents of "+(c(te=Be["$[]"]("label"))?te:"asset")+" at URI: "+A)}finally{t.pop_exception()}else throw P}}else c(Be.$fetch("warn_on_failure",!0))&&$e.$logger().$warn("cannot retrieve contents of "+(c(te=Be["$[]"]("label"))?te:"asset")+" at URI: "+A+" (allow-uri-read attribute not enabled)");else A=$e.$normalize_system_path(A,Be["$[]"]("start"),we,T(["target_name"],{target_name:c(te=Be["$[]"]("label"))?te:"asset"})),V=$e.$read_asset(A,T(["normalize","warn_on_failure","label"],{normalize:Be["$[]"]("normalize"),warn_on_failure:Be.$fetch("warn_on_failure",!0),label:Be["$[]"]("label")}));return c(V)&&c(Be["$[]"]("warn_if_empty"))&&c(V["$empty?"]())&&$e.$logger().$warn("contents of "+(c(te=Be["$[]"]("label"))?te:"asset")+" is empty: "+A),V},-2),N(Xe,"$is_uri?",function(A){return Ze("Helpers")["$uriish?"](A)})}(Me[0],null,Me)}(Ue[0],Ue)},Opal.modules["asciidoctor/abstract_block"]=function(t){var W=t.module,H=t.klass,T=t.hash2,O=t.send2,c=t.find_super,N=t.eqeq,Ne=t.eqeqeq,L=t.def,ve=t.return_val,v=t.truthy,Ve=t.alias,de=t.send,Ue=t.rb_plus,we=t.not,Ie=t.neqeq,st=[],De=t.nil,et=t.$$$;return t.add_stubs("attr_reader,attr_writer,attr_accessor,==,===,level,file,lineno,playback_attributes,convert,converter,join,map,to_s,parent,parent=,<<,empty?,Integer,find_by_internal,to_proc,find_by,context,[],items,+,find_index,include?,next_adjacent_block,blocks,select,sub_specialchars,match?,sub_replacements,title,apply_title_subs,delete,!,reftext,nil_or_empty?,sub_placeholder,sub_quotes,compat_mode,attributes,chomp,increment_and_store_counter,index=,numbered,sectname,numeral=,counter,caption=,numeral,int_to_roman,each,assign_numeral,reindex_sections,protected,has_role?,raise,header?,!=,flatten,head,rows,merge,body,foot,style,inner_document"),function(Me,Ge){var it=W(Me,"Asciidoctor"),x=[it].concat(Ge),Xe=t.$r(x);return function(g,Ze,rt){var B=H(g,Ze,"AbstractBlock"),A=[B].concat(rt),Be=t.$r(A),$e=B.$$prototype;return $e.source_location=$e.document=$e.attributes=$e.blocks=$e.numeral=$e.context=$e.parent=$e.caption=$e.style=$e.converted_title=$e.title=$e.subs=$e.next_section_index=$e.next_section_ordinal=$e.id=$e.header=De,B.$attr_reader("blocks"),B.$attr_writer("caption"),B.$attr_accessor("content_model"),B.$attr_accessor("level"),B.$attr_accessor("numeral"),B.$attr_accessor("source_location"),B.$attr_accessor("style"),B.$attr_reader("subs"),L(B,"$initialize",function me(fe,V,te){var P=me.$$p||De,q=this;return me.$$p=null,te==null&&(te=T([],{})),O(q,c(q,"initialize",me,!1,!0),"initialize",[fe,V,te],P),q.content_model="compound",q.blocks=[],q.subs=[],q.id=q.title=q.caption=q.numeral=q.style=q.default_subs=q.source_location=De,N(V,"document")||N(V,"section")?(q.level=q.next_section_index=0,q.next_section_ordinal=1):Ne(Be("AbstractBlock"),fe)?q.level=fe.$level():q.level=De},-3),L(B,"$block?",ve(!0)),L(B,"$inline?",ve(!1)),L(B,"$file",function(){var fe=this,V=De;return v(V=fe.source_location)?fe.source_location.$file():V}),L(B,"$lineno",function(){var fe=this,V=De;return v(V=fe.source_location)?fe.source_location.$lineno():V}),L(B,"$convert",function(){var fe=this;return fe.document.$playback_attributes(fe.attributes),fe.$converter().$convert(fe)}),Ve(B,"render","convert"),L(B,"$content",function(){var fe=this;return de(fe.blocks,"map",[],function(te){return te==null&&(te=De),te.$convert()}).$join(Be("LF"))}),L(B,"$context=",function(fe){var V=this;return V.node_name=(V.context=fe).$to_s()}),L(B,"$<<",function(fe){var V=this;return N(fe.$parent(),V)||fe["$parent="](V),V.blocks["$<<"](fe),V}),Ve(B,"append","<<"),L(B,"$blocks?",function(){var fe=this;return!v(fe.blocks["$empty?"]())}),L(B,"$sections?",ve(!1)),L(B,"$number",function(){var fe=this;try{return fe.$Integer(fe.numeral)}catch(V){if(t.rescue(V,[Be("StandardError")]))try{return fe.numeral}finally{t.pop_exception()}else throw V}}),L(B,"$number=",function(fe){var V=this;return V.numeral=fe.$to_s()}),L(B,"$find_by",function me(fe){var V=me.$$p||De,te=this,P=De;me.$$p=null,fe==null&&(fe=T([],{}));try{return de(te,"find_by_internal",[fe,P=[]],V.$to_proc())}catch(q){if(t.rescue(q,[et("StopIteration")]))try{return P}finally{t.pop_exception()}else throw q}},-1),Ve(B,"query","find_by"),L(B,"$next_adjacent_block",function(){var fe=this,V=De,te=De;return N(fe.context,"document")?De:N((V=fe.parent).$context(),"dlist")&&N(fe.context,"list_item")?v(te=V.$items()["$[]"](Ue(de(V.$items(),"find_index",[],function P(q,E){var j=P.$$s==null?this:P.$$s,U=De;return q==null&&(q=De),E==null&&(E=De),v(U=q["$include?"](j))?U:E["$=="](j)},{$$s:fe}),1)))?te:V.$next_adjacent_block():v(te=V.$blocks()["$[]"](Ue(V.$blocks().$find_index(fe),1)))?te:V.$next_adjacent_block()}),L(B,"$sections",function(){var fe=this;return de(fe.blocks,"select",[],function(te){return te==null&&(te=De),te.$context()["$=="]("section")})}),L(B,"$alt",function(){var fe=this,V=De;return v(V=fe.attributes["$[]"]("alt"))?N(V,fe.attributes["$[]"]("default-alt"))?fe.$sub_specialchars(V):(V=fe.$sub_specialchars(V),v(Be("ReplaceableTextRx")["$match?"](V))?fe.$sub_replacements(V):V):""}),L(B,"$caption",function(){var fe=this;return N(fe.context,"admonition")?fe.attributes["$[]"]("textlabel"):fe.caption}),L(B,"$captioned_title",function(){var fe=this;return""+fe.caption+fe.$title()}),L(B,"$list_marker_keyword",function(fe){var V=this,te=De;return fe==null&&(fe=De),Be("ORDERED_LIST_KEYWORDS")["$[]"](v(te=fe)?te:V.style)},-1),L(B,"$title",function(){var fe=this,V=De,te=De;return fe.converted_title=v(V=fe.converted_title)?V:v(te=fe.title)?fe.$apply_title_subs(fe.title):te}),L(B,"$title?",function(){var fe=this;return!!v(fe.title)}),L(B,"$title=",function(fe){var V=this;return V.converted_title=De,V.title=fe}),L(B,"$sub?",function(fe){var V=this;return V.subs["$include?"](fe)}),L(B,"$remove_sub",function(fe){var V=this;return V.subs.$delete(fe),De}),L(B,"$xreftext",function(fe){var V=this,te=De,P=De,q=De,E=De;if(fe==null&&(fe=De),v(te=V.$reftext())&&we(te["$empty?"]()))return te;if(v(fe)&&v(V.title)&&we(V.caption["$nil_or_empty?"]()))switch(fe){case"full":return P=V.$sub_placeholder(V.$sub_quotes(v(V.document.$compat_mode())?"``%s''":'"`%s`"'),V.$title()),v(V.numeral)&&v(E=Be("CAPTION_ATTRIBUTE_NAMES")["$[]"](V.context))&&v(q=V.document.$attributes()["$[]"](E))?""+q+" "+V.numeral+", "+P:""+V.caption.$chomp(". ")+", "+P;case"short":return v(V.numeral)&&v(E=Be("CAPTION_ATTRIBUTE_NAMES")["$[]"](V.context))&&v(q=V.document.$attributes()["$[]"](E))?""+q+" "+V.numeral:V.caption.$chomp(". ");default:return V.$title()}else return V.$title()},-1),L(B,"$assign_caption",function(fe,V){var te=this,P=De,q=De,E=De;return V==null&&(V=te.context),v(te.caption)||we(te.title)||v(te.caption=v(P=fe)?P:te.document.$attributes()["$[]"]("caption"))||v(E=Be("CAPTION_ATTRIBUTE_NAMES")["$[]"](V))&&v(q=te.document.$attributes()["$[]"](E))&&(te.caption=""+q+" "+(te.numeral=te.document.$increment_and_store_counter(""+V+"-number",te))+". "),De},-2),L(B,"$assign_numeral",function(fe){var V,te=this,P=De,q=De,E=De;return te.next_section_index=Ue((V=[te.next_section_index],de(fe,"index=",V),V[V.length-1]),1),v(P=fe.$numbered())&&(N(q=fe.$sectname(),"appendix")?(fe["$numeral="](te.document.$counter("appendix-number","A")),fe["$caption="](v(E=te.document.$attributes()["$[]"]("appendix-caption"))?""+E+" "+fe.$numeral()+": ":""+fe.$numeral()+". ")):N(q,"chapter")||N(P,"chapter")?fe["$numeral="](te.document.$counter("chapter-number",1).$to_s()):(fe["$numeral="](N(q,"part")?Be("Helpers").$int_to_roman(te.next_section_ordinal):te.next_section_ordinal.$to_s()),te.next_section_ordinal=Ue(te.next_section_ordinal,1))),De}),L(B,"$reindex_sections",function(){var fe=this;return fe.next_section_index=0,fe.next_section_ordinal=1,de(fe.blocks,"each",[],function V(te){var P=V.$$s==null?this:V.$$s;return te==null&&(te=De),N(te.$context(),"section")?(P.$assign_numeral(te),te.$reindex_sections()):De},{$$s:fe})}),B.$protected(),L(B,"$find_by_internal",function me(fe,V){var te=me.$$p||De,P=this,q=De,E=De,j=De,U=De,X=De,I=De;if(me.$$p=null,fe==null&&(fe=T([],{})),V==null&&(V=[]),(v(U=v(X=fe["$[]"]("context"))?De:!0)||N(X,P.context))&&(we(j=fe["$[]"]("style"))||N(j,P.style))&&(we(E=fe["$[]"]("role"))||v(P["$has_role?"](E)))&&(we(q=fe["$[]"]("id"))||N(q,P.id)))if(te!==De)if(v(I=t.yield1(te,P)))switch(I){case"prune":return V["$<<"](P),v(q)&&P.$raise(et("StopIteration")),V;case"reject":return v(q)&&P.$raise(et("StopIteration")),V;case"stop":P.$raise(et("StopIteration"));break;default:V["$<<"](P),v(q)&&P.$raise(et("StopIteration"))}else v(q)&&P.$raise(et("StopIteration"));else V["$<<"](P),v(q)&&P.$raise(et("StopIteration"));switch(P.context){case"document":N(X,"document")||(v(P["$header?"]())&&(v(U)||N(X,"section"))&&de(P.header,"find_by_internal",[fe,V],te.$to_proc()),de(P.blocks,"each",[],function(r){return r==null&&(r=De),N(X,"section")&&Ie(r.$context(),"section")?De:de(r,"find_by_internal",[fe,V],te.$to_proc())}));break;case"dlist":(v(U)||Ie(X,"section"))&&de(P.blocks.$flatten(),"each",[],function(r){return r==null&&(r=De),v(r)?de(r,"find_by_internal",[fe,V],te.$to_proc()):De});break;case"table":v(fe["$[]"]("traverse_documents"))?(de(P.$rows().$head(),"each",[],function(r){return r==null&&(r=De),de(r,"each",[],function(y){return y==null&&(y=De),de(y,"find_by_internal",[fe,V],te.$to_proc())})}),N(X,"inner_document")&&(fe=fe.$merge(T(["context"],{context:"document"}))),de(Ue(P.$rows().$body(),P.$rows().$foot()),"each",[],function(r){return r==null&&(r=De),de(r,"each",[],function(y){return y==null&&(y=De),de(y,"find_by_internal",[fe,V],te.$to_proc()),N(y.$style(),"asciidoc")?de(y.$inner_document(),"find_by_internal",[fe,V],te.$to_proc()):De})})):de(Ue(Ue(P.$rows().$head(),P.$rows().$body()),P.$rows().$foot()),"each",[],function(r){return r==null&&(r=De),de(r,"each",[],function(y){return y==null&&(y=De),de(y,"find_by_internal",[fe,V],te.$to_proc())})});break;default:de(P.blocks,"each",[],function(r){return r==null&&(r=De),N(X,"section")&&Ie(r.$context(),"section")?De:de(r,"find_by_internal",[fe,V],te.$to_proc())})}return V},-1)}(x[0],Xe("AbstractNode"),x)}(st[0],st)},Opal.modules["asciidoctor/attribute_list"]=function(t){var W=t.module,H=t.klass,T=t.const_set,O=t.hash,c=t.regexp,N=t.hash2,Ne=t.def,L=t.truthy,ve=t.rb_plus,v=t.send,Ve=t.defs,de=t.eqeqeq,Ue=t.eqeq,we=t.rb_times,Ie=[],st=t.nil,De=t.$$$;return t.add_stubs("new,[],update,parse,parse_attribute,eos?,skip_delimiter,+,rekey,each_with_index,[]=,private,skip_blank,===,peek,parse_attribute_value,get_byte,start_with?,scan_name,end_with?,rstrip,string,==,unscan,scan_to_delimiter,*,include?,delete,each,split,empty?,apply_subs,scan_to_quote,gsub,skip,scan"),function(et,Me){var Ge=W(et,"Asciidoctor"),it=[Ge].concat(Me);return function(x,Xe,g){var Ze=H(x,Xe,"AttributeList"),rt=[Ze].concat(g),B=t.$r(rt),A=Ze.$$prototype;return A.attributes=A.scanner=A.delimiter=A.block=A.delimiter_skip_pattern=A.delimiter_boundary_pattern=st,T(rt[0],"APOS","'"),T(rt[0],"BACKSLASH","\\"),T(rt[0],"QUOT",'"'),T(rt[0],"BoundaryRx",O(B("QUOT"),/.*?[^\\](?=")/,B("APOS"),/.*?[^\\](?=')/,",",/.*?(?=[ \t]*(,|$))/)),T(rt[0],"EscapedQuotes",O(B("QUOT"),'\\"',B("APOS"),"\\'")),T(rt[0],"NameRx",c([B("CG_WORD"),"[",B("CC_WORD"),"\\-.]*"])),T(rt[0],"BlankRx",/[ \t]+/),T(rt[0],"SkipRx",N([","],{",":/[ \t]*(,|$)/})),Ne(Ze,"$initialize",function($e,me,fe){var V=this;return me==null&&(me=st),fe==null&&(fe=","),V.scanner=De("StringScanner").$new($e),V.block=me,V.delimiter=fe,V.delimiter_skip_pattern=B("SkipRx")["$[]"](fe),V.delimiter_boundary_pattern=B("BoundaryRx")["$[]"](fe),V.attributes=st},-2),Ne(Ze,"$parse_into",function($e,me){var fe=this;return me==null&&(me=[]),$e.$update(fe.$parse(me))},-2),Ne(Ze,"$parse",function($e){var me=this,fe=st;if($e==null&&($e=[]),L(me.attributes))return me.attributes;for(me.attributes=N([],{}),fe=0;L(me.$parse_attribute(fe,$e))&&!L(me.scanner["$eos?"]());)me.$skip_delimiter(),fe=ve(fe,1);return me.attributes},-1),Ne(Ze,"$rekey",function($e){var me=this;return B("AttributeList").$rekey(me.attributes,$e)}),Ve(Ze,"$rekey",function($e,me){return v(me,"each_with_index",[],function(V,te){var P,q=st;return V==null&&(V=st),te==null&&(te=st),L(V)&&L(q=$e["$[]"](ve(te,1)))?(P=[V,q],v($e,"[]=",P),P[P.length-1]):st}),$e}),Ze.$private(),Ne(Ze,"$parse_attribute",function($e,me){var fe=this,V=st,te=st,P=st,q=st,E=st,j=st,U=st,X=st,I=st,u=st;if(V=!0,fe.$skip_blank(),de(B("QUOT"),te=fe.scanner.$peek(1)))P=fe.$parse_attribute_value(fe.scanner.$get_byte());else if(de(B("APOS"),te))P=fe.$parse_attribute_value(fe.scanner.$get_byte()),L(P["$start_with?"](B("APOS")))||(q=!0);else if(E=L(j=L(U=P=fe.$scan_name())?fe.$skip_blank():U)?j:0,L(fe.scanner["$eos?"]())){if(!(L(P)||L(fe.scanner.$string().$rstrip()["$end_with?"](fe.delimiter))))return st;V=st}else if(Ue(X=fe.scanner.$get_byte(),fe.delimiter))fe.scanner.$unscan();else if(L(P))if(Ue(X,"=")){if(fe.$skip_blank(),de(B("QUOT"),j=X=fe.scanner.$get_byte()))I=fe.$parse_attribute_value(X);else if(de(B("APOS"),j))I=fe.$parse_attribute_value(X),L(I["$start_with?"](B("APOS")))||(q=!0);else if(de(fe.delimiter,j))I="",fe.scanner.$unscan();else if(de(st,j))I="";else if(I=""+X+fe.$scan_to_delimiter(),Ue(I,"None"))return!0}else P=""+P+we(" ",E)+X+fe.$scan_to_delimiter();else P=""+X+fe.$scan_to_delimiter();if(L(I))switch(P){case"options":case"opts":L(I["$include?"](","))?(L(I["$include?"](" "))&&(I=I.$delete(" ")),v(I.$split(","),"each",[],function r(l){var y,h=r.$$s==null?this:r.$$s;return h.attributes==null&&(h.attributes=st),l==null&&(l=st),L(l["$empty?"]())?st:(y=[""+l+"-option",""],v(h.attributes,"[]=",y),y[y.length-1])},{$$s:fe})):L(I["$empty?"]())||fe.attributes["$[]="](""+I+"-option","");break;default:if(L(q)&&L(fe.block))switch(P){case"title":case"reftext":fe.attributes["$[]="](P,I);break;default:fe.attributes["$[]="](P,fe.block.$apply_subs(I))}else fe.attributes["$[]="](P,I)}else L(q)&&L(fe.block)&&(P=fe.block.$apply_subs(P)),L(u=me["$[]"]($e))&&L(P)&&fe.attributes["$[]="](u,P),fe.attributes["$[]="](ve($e,1),P);return V}),Ne(Ze,"$parse_attribute_value",function($e){var me=this,fe=st;return Ue(me.scanner.$peek(1),$e)?(me.scanner.$get_byte(),""):L(fe=me.$scan_to_quote($e))?(me.scanner.$get_byte(),L(fe["$include?"](B("BACKSLASH")))?fe.$gsub(B("EscapedQuotes")["$[]"]($e),$e):fe):""+$e+me.$scan_to_delimiter()}),Ne(Ze,"$skip_blank",function(){var $e=this;return $e.scanner.$skip(B("BlankRx"))}),Ne(Ze,"$skip_delimiter",function(){var $e=this;return $e.scanner.$skip($e.delimiter_skip_pattern)}),Ne(Ze,"$scan_name",function(){var $e=this;return $e.scanner.$scan(B("NameRx"))}),Ne(Ze,"$scan_to_delimiter",function(){var $e=this;return $e.scanner.$scan($e.delimiter_boundary_pattern)}),Ne(Ze,"$scan_to_quote",function($e){var me=this;return me.scanner.$scan(B("BoundaryRx")["$[]"]($e))})}(it[0],null,it)}(Ie[0],Ie)},Opal.modules["asciidoctor/block"]=function(t){var W=t.module,H=t.klass,T=t.const_set,O=t.hash2,c=t.alias,N=t.send2,Ne=t.find_super,L=t.truthy,ve=t.eqeqeq,v=t.def,Ve=t.rb_lt,de=t.eqeq,Ue=[],we=t.nil,Ie=t.$$$;return t.add_stubs("default=,context,attr_accessor,[],key?,===,drop,delete,[]=,to_s,commit_subs,nil_or_empty?,prepare_source_string,apply_subs,join,<,size,empty?,rstrip,shift,pop,==,warn,logger,class,object_id,inspect"),function(st,De){var et=W(st,"Asciidoctor"),Me=[et].concat(De),Ge=t.$r(Me);return function(it,x,Xe){var g=H(it,x,"Block"),Ze=[g].concat(Xe),rt=t.$r(Ze),B=g.$$prototype;return B.attributes=B.content_model=B.lines=B.subs=B.blocks=B.context=B.style=we,T(Ze[0],"DEFAULT_CONTENT_MODEL",O(["audio","image","listing","literal","stem","open","page_break","pass","thematic_break","video"],{audio:"empty",image:"empty",listing:"verbatim",literal:"verbatim",stem:"raw",open:"compound",page_break:"empty",pass:"raw",thematic_break:"empty",video:"empty"}))["$default="]("simple"),c(g,"blockname","context"),g.$attr_accessor("lines"),v(g,"$initialize",function A(Be,$e,me){var fe=A.$$p||we,V=this,te=we,P=we,q=we;return A.$$p=null,me==null&&(me=O([],{})),N(V,Ne(V,"initialize",A,!1,!0),"initialize",[Be,$e,me],fe),V.content_model=L(te=me["$[]"]("content_model"))?te:rt("DEFAULT_CONTENT_MODEL")["$[]"]($e),L(me["$key?"]("subs"))?L(P=me["$[]"]("subs"))?(ve("default",te=P)?V.default_subs=me["$[]"]("default_subs"):ve(Ie("Array"),te)?(V.default_subs=P.$drop(0),V.attributes.$delete("subs")):(V.default_subs=we,V.attributes["$[]="]("subs",P.$to_s())),V.$commit_subs()):(V.default_subs=[],V.attributes.$delete("subs")):V.default_subs=we,L((q=me["$[]"]("source"))["$nil_or_empty?"]())?V.lines=[]:ve(Ie("String"),q)?V.lines=rt("Helpers").$prepare_source_string(q):V.lines=q.$drop(0)},-3),v(g,"$content",function A(){var Be=A.$$p||we,$e=this,me=we,fe=we,V=we,te=we;switch(A.$$p=null,$e.content_model){case"compound":return N($e,Ne($e,"content",A,!1,!0),"content",[],Be);case"simple":return $e.$apply_subs($e.lines.$join(rt("LF")),$e.subs);case"verbatim":case"raw":if(me=$e.$apply_subs($e.lines,$e.subs),L(Ve(me.$size(),2)))return L(fe=me["$[]"](0))?fe:"";for(;L(L(fe=V=me["$[]"](0))?V.$rstrip()["$empty?"]():fe);)me.$shift();for(;L(L(fe=te=me["$[]"](-1))?te.$rstrip()["$empty?"]():fe);)me.$pop();return me.$join(rt("LF"));default:return de($e.content_model,"empty")||$e.$logger().$warn("unknown content model '"+$e.content_model+"' for block: "+$e),we}}),v(g,"$source",function(){var Be=this;return Be.lines.$join(rt("LF"))}),v(g,"$to_s",function(){var Be=this,$e=we;return $e=de(Be.content_model,"compound")?"blocks: "+Be.blocks.$size():"lines: "+Be.lines.$size(),"#<"+Be.$class()+"@"+Be.$object_id()+" {context: "+Be.context.$inspect()+", content_model: "+Be.content_model.$inspect()+", style: "+Be.style.$inspect()+", "+$e+"}>"})}(Me[0],Ge("AbstractBlock"),Me)}(Ue[0],Ue)},Opal.modules["asciidoctor/callouts"]=function(t){var W=t.module,H=t.klass,T=t.def,O=t.hash2,c=t.rb_plus,N=t.truthy,Ne=t.rb_le,L=t.rb_minus,ve=t.send,v=t.eqeq,Ve=t.rb_lt,de=[],Ue=t.nil;return t.add_stubs("next_list,<<,current_list,to_i,generate_next_callout_id,+,<=,size,[],-,chop,join,map,==,<,private,generate_callout_id"),function(we,Ie){var st=W(we,"Asciidoctor"),De=[st].concat(Ie);return function(et,Me){var Ge=H(et,Me,"Callouts"),it=Ge.$$prototype;return it.co_index=it.lists=it.list_index=Ue,T(Ge,"$initialize",function(){var Xe=this;return Xe.lists=[],Xe.list_index=0,Xe.$next_list()}),T(Ge,"$register",function(Xe){var g=this,Ze=Ue;return g.$current_list()["$<<"](O(["ordinal","id"],{ordinal:Xe.$to_i(),id:Ze=g.$generate_next_callout_id()})),g.co_index=c(g.co_index,1),Ze}),T(Ge,"$read_next_id",function(){var Xe=this,g=Ue,Ze=Ue;return g=Ue,Ze=Xe.$current_list(),N(Ne(Xe.co_index,Ze.$size()))&&(g=Ze["$[]"](L(Xe.co_index,1))["$[]"]("id")),Xe.co_index=c(Xe.co_index,1),g}),T(Ge,"$callout_ids",function(Xe){var g=this;return ve(g.$current_list(),"map",[],function(rt){return rt==null&&(rt=Ue),v(rt["$[]"]("ordinal"),Xe)?""+rt["$[]"]("id")+" ":""}).$join().$chop()}),T(Ge,"$current_list",function(){var Xe=this;return Xe.lists["$[]"](L(Xe.list_index,1))}),T(Ge,"$next_list",function(){var Xe=this;return Xe.list_index=c(Xe.list_index,1),N(Ve(Xe.lists.$size(),Xe.list_index))&&Xe.lists["$<<"]([]),Xe.co_index=1,Ue}),T(Ge,"$rewind",function(){var Xe=this;return Xe.list_index=1,Xe.co_index=1,Ue}),Ge.$private(),T(Ge,"$generate_next_callout_id",function(){var Xe=this;return Xe.$generate_callout_id(Xe.list_index,Xe.co_index)}),T(Ge,"$generate_callout_id",function(Xe,g){return"CO"+Xe+"-"+g})}(De[0],null)}(de[0],de)},Opal.modules["asciidoctor/converter/composite"]=function(t){var W=t.module,H=t.klass,T=t.slice,O=t.extract_kwargs,c=t.ensure_kwargs,N=t.send,Ne=t.truthy,L=t.def,ve=t.thrower,v=[],Ve=t.nil,de=t.$$$;return t.add_stubs("attr_reader,each,respond_to?,composed,init_backend_traits,backend_traits,new,[]=,find_converter,convert,converter_for,node_name,[],handles?,raise"),function(Ue,we){var Ie=W(Ue,"Asciidoctor"),st=[Ie].concat(we),De=t.$r(st);return function(et,Me){var Ge=H(et,Me,"CompositeConverter"),it=Ge.$$prototype;return it.converter_cache=it.converters=Ve,Ge.$attr_reader("converters"),L(Ge,"$initialize",function(Xe,g,Ze){var rt,B,A,Be,$e=this;return rt=T(arguments,1),B=O(rt),B=c(B),A=rt,Be=B.$$smap.backend_traits_source,Be==null&&(Be=Ve),$e.backend=Xe,N($e.converters=A,"each",[],function me(fe){var V=me.$$s==null?this:me.$$s;return fe==null&&(fe=Ve),Ne(fe["$respond_to?"]("composed"))?fe.$composed(V):Ve},{$$s:$e}),Ne(Be)&&$e.$init_backend_traits(Be.$backend_traits()),$e.converter_cache=N(de("Hash"),"new",[],function me(fe,V){var te,P=me.$$s==null?this:me.$$s;return fe==null&&(fe=Ve),V==null&&(V=Ve),te=[V,P.$find_converter(V)],N(fe,"[]=",te),te[te.length-1]},{$$s:$e})},-2),L(Ge,"$convert",function(Xe,g,Ze){var rt=this,B=Ve;return g==null&&(g=Ve),Ze==null&&(Ze=Ve),rt.$converter_for(g=Ne(B=g)?B:Xe.$node_name()).$convert(Xe,g,Ze)},-2),L(Ge,"$converter_for",function(Xe){var g=this;return g.converter_cache["$[]"](Xe)}),L(Ge,"$find_converter",function(Xe){try{var g=ve("return"),Ze=this;return N(Ze.converters,"each",[],function(B){if(B==null&&(B=Ve),Ne(B["$handles?"](Xe)))g.$throw(B);else return Ve},{$$ret:g}),Ze.$raise("Could not find a converter to handle transform: "+Xe)}catch(rt){if(rt===g)return rt.$v;throw rt}})}(De("Converter"),de(De("Converter"),"Base"))}(v[0],v)},Opal.modules["asciidoctor/converter"]=function(t){var W=t.module,H=t.hash2,T=t.def,O=t.return_val,c=t.truthy,N=t.eqeq,Ne=t.defs,L=t.send,ve=t.alias,v=t.slice,Ve=t.to_a,de=t.extract_kwargs,Ue=t.ensure_kwargs,we=t.eqeqeq,Ie=t.Class,st=t.klass,De=t.class_variable_set,et=t.class_variable_get,Me=t.rb_plus,Ge=t.gvars,it=[],x=t.nil,Xe=t.$$$;return t.add_stubs("autoload,attr_reader,raise,class,[],sub,slice,length,==,[]=,backend_traits,derive_backend_traits,register,map,to_s,new,create,default,each,default=,registry,for,===,supports_templates?,merge,private,include,delete,clear,send,extend,private_class_method,node_name,+,name,receiver,warn,logger,respond_to?,content"),function(g,Ze){var rt=W(g,"Asciidoctor"),B=[rt].concat(Ze);return function(A,Be){var $e=W(A,"Converter"),me=[$e].concat(Be),fe=t.$r(me);return $e.$autoload("CompositeConverter","asciidoctor/converter/composite"),$e.$attr_reader("backend"),T($e,"$initialize",function(te,P){var q=this;return P==null&&(P=H([],{})),q.backend=te},-2),T($e,"$convert",function(te,P,q){var E=this;return E.backend==null&&(E.backend=x),E.$raise(Xe("NotImplementedError"),""+E.$class()+" (backend: "+E.backend+") must implement the #convert method")},-2),T($e,"$handles?",O(!0)),Ne($e,"$derive_backend_traits",function(te,P){var q=x,E=x,j=x;return P==null&&(P=x),c(te)?(c(q=fe("DEFAULT_EXTENSIONS")["$[]"](P=c(E=P)?E:te.$sub(fe("TrailingDigitsRx"),"")))?j=q.$slice(1,q.$length()):q="."+(j=P),N(j,"html")?H(["basebackend","filetype","htmlsyntax","outfilesuffix"],{basebackend:P,filetype:j,htmlsyntax:"html",outfilesuffix:q}):H(["basebackend","filetype","outfilesuffix"],{basebackend:P,filetype:j,outfilesuffix:q})):H([],{})},-2),function(V,te){var P=W(V,"BackendTraits"),q=[P].concat(te),E=t.$r(q);return T(P,"$basebackend",function(U){var X,I=this;return U==null&&(U=x),c(U)?(X=["basebackend",U],L(I.$backend_traits(U),"[]=",X),X[X.length-1]):I.$backend_traits()["$[]"]("basebackend")},-1),T(P,"$filetype",function(U){var X,I=this;return U==null&&(U=x),c(U)?(X=["filetype",U],L(I.$backend_traits(),"[]=",X),X[X.length-1]):I.$backend_traits()["$[]"]("filetype")},-1),T(P,"$htmlsyntax",function(U){var X,I=this;return U==null&&(U=x),c(U)?(X=["htmlsyntax",U],L(I.$backend_traits(),"[]=",X),X[X.length-1]):I.$backend_traits()["$[]"]("htmlsyntax")},-1),T(P,"$outfilesuffix",function(U){var X,I=this;return U==null&&(U=x),c(U)?(X=["outfilesuffix",U],L(I.$backend_traits(),"[]=",X),X[X.length-1]):I.$backend_traits()["$[]"]("outfilesuffix")},-1),T(P,"$supports_templates",function(U){var X,I=this;return U==null&&(U=!0),X=["supports_templates",U],L(I.$backend_traits(),"[]=",X),X[X.length-1]},-1),T(P,"$supports_templates?",function(){var U=this;return U.$backend_traits()["$[]"]("supports_templates")}),T(P,"$init_backend_traits",function(U){var X=this,I=x;return U==null&&(U=x),X.backend_traits=c(I=U)?I:H([],{})},-1),T(P,"$backend_traits",function(U){var X=this,I=x;return X.backend_traits==null&&(X.backend_traits=x),X.backend==null&&(X.backend=x),U==null&&(U=x),X.backend_traits=c(I=X.backend_traits)?I:E("Converter").$derive_backend_traits(X.backend,U)},-1),ve(P,"backend_info","backend_traits"),Ne(P,"$derive_backend_traits",function(U,X){return X==null&&(X=x),E("Converter").$derive_backend_traits(U,X)},-2)}(me[0],me),function(V,te){var P=W(V,"Config"),q=[P].concat(te),E=t.$r(q);return T(P,"$register_for",function(U){var X,I,u=this;return X=v(arguments),I=X,L(E("Converter"),"register",[u].concat(Ve(L(I,"map",[],function(l){return l==null&&(l=x),l.$to_s()}))))},-1)}(me[0],me),function(V,te){var P=W(V,"Factory"),q=[P].concat(te),E=t.$r(q);return Ne(P,"$new",function(U,X){var I,u,r,l;return I=v(arguments),u=de(I),u=Ue(u),I.length>0&&(r=I.shift()),r==null&&(r=x),l=u.$$smap.proxy_default,l==null&&(l=!0),c(l)?E("DefaultFactoryProxy").$new(r):E("CustomFactory").$new(r)},-1),Ne(P,"$default",function(U){return v(arguments),E("Converter")},-1),Ne(P,"$create",function(U,X){var I=this;return X==null&&(X=H([],{})),I.$default().$create(U,X)},-2),T(P,"$register",function(U,X){var I,u,r=this;return I=v(arguments,1),u=I,L(u,"each",[],function l(y){var h,f=l.$$s==null?this:l.$$s;return y==null&&(y=x),N(y,"*")?(h=[U],L(f.$registry(),"default=",h),h[h.length-1]):(h=[y,U],L(f.$registry(),"[]=",h),h[h.length-1])},{$$s:r})},-2),T(P,"$for",function(U){var X=this;return X.$registry()["$[]"](U)}),T(P,"$create",function(U,X){var I=this,u=x,r=x,l=x;return X==null&&(X=H([],{})),c(u=I.$for(U))?(we(Ie,u)&&(u=u.$new(U,X)),c(r=X["$[]"]("template_dirs"))&&we(E("BackendTraits"),u)&&c(u["$supports_templates?"]())?E("CompositeConverter").$new(U,E("TemplateConverter").$new(U,r,X),u,H(["backend_traits_source"],{backend_traits_source:u})):u):c(r=X["$[]"]("template_dirs"))?c(l=X["$[]"]("delegate_backend"))&&c(u=I.$for(l))?(we(Ie,u)&&(u=u.$new(l,X)),E("CompositeConverter").$new(U,E("TemplateConverter").$new(U,r,X),u,H(["backend_traits_source"],{backend_traits_source:u}))):E("TemplateConverter").$new(U,r,X):x},-2),T(P,"$converters",function(){var U=this;return U.$registry().$merge()}),P.$private(),T(P,"$registry",function(){var U=this;return U.$raise(Xe("NotImplementedError"),""+E("Factory")+" subclass "+U.$class()+" must implement the #registry method")})}(me[0],me),function(V,te,P){var q=st(V,te,"CustomFactory"),E=[q].concat(P),j=t.$r(E);return q.$include(j("Factory")),T(q,"$initialize",function(X){var I=this;return X==null&&(X=x),c(X)?(X["$default="](X.$delete("*")),I.registry=X):I.registry=H([],{})},-1),T(q,"$unregister_all",function(){var X,I=this;return X=[x],L(I.$registry().$clear(),"default=",X),X[X.length-1]}),q.$private(),q.$attr_reader("registry")}(me[0],null,me),function(V,te){var P=W(V,"DefaultFactory"),q=[P].concat(te),E=t.$r(q);return P.$include(E("Factory")),P.$private(),De(q[0],"@@registry",H([],{})),T(P,"$registry",function(){return et(q[0],"@@registry",!1)}),x}(me[0],me),function(V,te,P){var q=st(V,te,"DefaultFactoryProxy"),E=[q].concat(P),j=t.$r(E);return q.$include(j("DefaultFactory")),x}(me[0],fe("CustomFactory"),me),Ne($e,"$included",function(te){return te.$send("include",fe("BackendTraits")),te.$extend(fe("Config"))}),$e.$private_class_method("included"),function(V,te,P){var q=st(V,te,"Base"),E=[q].concat(P),j=t.$r(E),U=q.$$prototype;return U.backend=x,q.$include(j("Logging")),q.$include(j("Converter")),T(q,"$convert",function(I,u,r){var l=this,y=x;Ge["!"]==null&&(Ge["!"]=x),u==null&&(u=I.$node_name()),r==null&&(r=x);try{return c(r)?l.$send(Me("convert_",u),I,r):l.$send(Me("convert_",u),I)}catch(h){if(t.rescue(h,[j("StandardError")]))try{return we(Xe("NoMethodError"),y=Ge["!"])&&N(y.$receiver(),l)&&N(y.$name().$to_s(),u)||l.$raise(),l.$logger().$warn("missing convert handler for "+y.$name()+" node in "+l.backend+" backend ("+l.$class()+")"),x}finally{t.pop_exception()}else throw h}},-2),T(q,"$handles?",function(I){var u=this;return u["$respond_to?"]("convert_"+I)}),T(q,"$content_only",function(I){return I.$content()}),T(q,"$skip",O(x))}(me[0],null,me),$e.$extend(fe("DefaultFactory"))}(B[0],B)}(it[0],it)},Opal.modules["asciidoctor/document"]=function(t){var W=t.module,H=t.klass,T=t.const_set,O=t.send,c=t.alias,N=t.truthy,Ne=t.def,L=t.hash2,ve=t.not,v=t.to_ary,Ve=t.return_ivar,de=t.send2,Ue=t.find_super,we=t.rb_minus,Ie=t.eqeq,st=t.eqeqeq,De=t.hash,et=t.rb_ge,Me=t.rb_plus,Ge=t.neqeq,it=t.thrower,x=t.rb_gt,Xe=t.rb_lt,g=t.gvars,Ze=t.to_a,rt=[],B=t.nil,A=t.$$$;return t.add_stubs("new,target,attr_reader,nil?,<<,[],[]=,main,include?,strip,squeeze,gsub,!,empty?,rpartition,attr_accessor,catalog,delete,base_dir,options,merge,instance_variable_get,attributes,safe,compat_mode,outfilesuffix,sourcemap,path_resolver,converter,extensions,syntax_highlighter,each,end_with?,start_with?,slice,-,length,chop,==,downcase,===,extname,value_for_name,key?,freeze,attribute_undefined,attribute_missing,update,&,keys,name_for_value,expand_path,pwd,to_s,>=,+,abs,to_i,delete_if,update_doctype_attributes,cursor,parse,restore_attributes,update_backend_attributes,fetch,fill_datetime_attributes,activate,groups,create,to_proc,preprocessors?,preprocessors,process_method,tree_processors?,tree_processors,!=,counter,nil_or_empty?,attribute_locked?,nextval,value,save_to,increment_and_store_counter,register,tap,xreftext,>,source,source_lines,doctitle,sectname=,title=,first_section,title,reftext,<,find,context,header?,assign_numeral,clear_playback_attributes,save_attributes,name,negate,rewind,replace,apply_attribute_value_subs,delete?,start,doctype,content_model,warn,logger,content,convert,postprocessors?,postprocessors,record,write,respond_to?,chomp,class,write_alternate_pages,map,split,resolve_docinfo_subs,normalize_system_path,read_asset,apply_subs,docinfo_processors?,join,concat,compact,docinfo_processors,object_id,inspect,size,private,=~,resolve_pass_subs,apply_header_subs,limit_bytesize,bytesize,valid_encoding?,byteslice,resolve_subs,utc,at,Integer,now,index,strftime,year,utc_offset,partition,create_converter,basebackend,filetype,htmlsyntax,derive_backend_traits,raise"),function(Be,$e){var me=W(Be,"Asciidoctor"),fe=[me].concat($e),V=t.$r(fe);return function(te,P,q){var E=H(te,P,"Document"),j=[E].concat(q),U=t.$r(j),X=E.$$prototype;return X.attributes=X.safe=X.sourcemap=X.reader=X.base_dir=X.parsed=X.parent_document=X.extensions=X.options=X.counters=X.catalog=X.reftexts=X.next_section_index=X.header=X.blocks=X.header_attributes=X.attributes_modified=X.backend=X.attribute_overrides=X.timings=X.converter=X.outfilesuffix=X.docinfo_processor_extensions=X.document=X.max_attribute_value_size=X.id=X.doctype=B,T(j[0],"ImageReference",O(A("Struct"),"new",["target","imagesdir"],function I(){var u=I.$$s==null?this:I.$$s;return c(u,"to_s","target")},{$$s:E})),T(j[0],"Footnote",A("Struct").$new("index","id","text")),function(I,u){var r=H(I,u,"AttributeEntry");return r.$attr_reader("name","value","negate"),Ne(r,"$initialize",function(y,h,f){var S=this;return f==null&&(f=B),S.name=y,S.value=h,S.negate=N(f["$nil?"]())?h["$nil?"]():f},-3),Ne(r,"$save_to",function(y){var h,f=this,S=B;return(N(S=y["$[]"]("attribute_entries"))?S:(h=["attribute_entries",[]],O(y,"[]=",h),h[h.length-1]))["$<<"](f),f})}(j[0],null),function(I,u,r){var l=H(I,u,"Title"),y=[l].concat(r),h=t.$r(y),f=l.$$prototype;return f.subtitle=B,l.$attr_reader("main"),c(l,"title","main"),l.$attr_reader("subtitle"),l.$attr_reader("combined"),Ne(l,"$initialize",function(R,Z){var G,oe,Ee=this,Ke=B,Je=B;return Z==null&&(Z=L([],{})),N(Ee.sanitized=Z["$[]"]("sanitize"))&&N(R["$include?"]("<"))&&(R=R.$gsub(h("XmlSanitizeRx"),"").$squeeze(" ").$strip()),N((Ke=N(Je=Z["$[]"]("separator"))?Je:":")["$empty?"]())||ve(R["$include?"](Ke=""+Ke+" "))?(Ee.main=R,Ee.subtitle=B):(oe=R.$rpartition(Ke),G=v(oe),Ee.main=G[0]==null?B:G[0],G[1]==null||G[1],Ee.subtitle=G[2]==null?B:G[2]),Ee.combined=R},-2),Ne(l,"$sanitized?",Ve("sanitized")),Ne(l,"$subtitle?",function(){var R=this;return!!N(R.subtitle)}),Ne(l,"$to_s",Ve("combined"))}(j[0],null,j),T(j[0],"Author",A("Struct").$new("name","firstname","middlename","lastname","initials","email")),E.$attr_reader("safe"),E.$attr_reader("compat_mode"),E.$attr_reader("backend"),E.$attr_reader("doctype"),E.$attr_accessor("sourcemap"),E.$attr_reader("catalog"),c(E,"references","catalog"),E.$attr_reader("counters"),E.$attr_reader("header"),E.$attr_reader("base_dir"),E.$attr_reader("options"),E.$attr_reader("outfilesuffix"),E.$attr_reader("parent_document"),E.$attr_reader("reader"),E.$attr_reader("path_resolver"),E.$attr_reader("converter"),E.$attr_reader("syntax_highlighter"),E.$attr_reader("extensions"),Ne(E,"$initialize",function I(u,r){var l,y,h,f;I.$$p;var S=this,R=B,Z=B,G=B,oe=B,Ee=B,Ke=B,Je=B,$t=B,tt=B,at=B,ct=B,ft=B,ut=B,pt=B,ht=B,Et=B,yt=B,Tt=B;return I.$$p=null,u==null&&(u=B),r==null&&(r=L([],{})),de(S,Ue(S,"initialize",I,!1,!0),"initialize",[S,"document"],null),N(R=r.$delete("parent"))?(S.parent_document=R,N(Z=r["$[]"]("base_dir"))||r["$[]="]("base_dir",R.$base_dir()),N(R.$options()["$[]"]("catalog_assets"))&&r["$[]="]("catalog_assets",!0),N(R.$options()["$[]"]("to_dir"))&&r["$[]="]("to_dir",R.$options()["$[]"]("to_dir")),S.catalog=R.$catalog().$merge(L(["footnotes"],{footnotes:[]})),S.attribute_overrides=G=R.$instance_variable_get("@attribute_overrides").$merge(R.$attributes()),G.$delete("compat-mode"),oe=G.$delete("doctype"),G.$delete("notitle"),G.$delete("showtitle"),G.$delete("toc"),S.attributes["$[]="]("toc-placement",N(Z=G.$delete("toc-placement"))?Z:"auto"),G.$delete("toc-position"),S.safe=R.$safe(),N(S.compat_mode=R.$compat_mode())&&S.attributes["$[]="]("compat-mode",""),S.outfilesuffix=R.$outfilesuffix(),S.sourcemap=R.$sourcemap(),S.timings=B,S.path_resolver=R.$path_resolver(),S.converter=R.$converter(),Ee=B,S.extensions=R.$extensions(),S.syntax_highlighter=R.$syntax_highlighter()):(S.parent_document=B,S.catalog=L(["ids","refs","footnotes","links","images","callouts","includes"],{ids:L([],{}),refs:L([],{}),footnotes:[],links:[],images:[],callouts:U("Callouts").$new(),includes:L([],{})}),S.attribute_overrides=G=L([],{}),O(N(Z=r["$[]"]("attributes"))?Z:L([],{}),"each",[],function(wt,At){var Ct;return wt==null&&(wt=B),At==null&&(At=B),N(wt["$end_with?"]("@"))?N(wt["$start_with?"]("!"))?(Ct=[wt.$slice(1,we(wt.$length(),2)),!1],wt=Ct[0],At=Ct[1]):N(wt["$end_with?"]("!@"))?(Ct=[wt.$slice(0,we(wt.$length(),2)),!1],wt=Ct[0],At=Ct[1]):(Ct=[wt.$chop(),""+At+"@"],wt=Ct[0],At=Ct[1]):N(wt["$start_with?"]("!"))?(Ct=[wt.$slice(1,wt.$length()),Ie(At,"@")?!1:B],wt=Ct[0],At=Ct[1]):N(wt["$end_with?"]("!"))&&(Ct=[wt.$chop(),Ie(At,"@")?!1:B],wt=Ct[0],At=Ct[1]),Ct=[wt.$downcase(),At],O(G,"[]=",Ct),Ct[Ct.length-1]}),st(A("String"),Ke=r["$[]"]("to_file"))&&G["$[]="]("outfilesuffix",U("Helpers").$extname(Ke)),ve(Je=r["$[]"]("safe"))?S.safe=A(U("SafeMode"),"SECURE"):st(A("Integer"),Je)?S.safe=Je:S.safe=function(){try{return U("SafeMode").$value_for_name(Je)}catch(qt){if(t.rescue(qt,[U("StandardError")]))try{return A(U("SafeMode"),"SECURE")}finally{t.pop_exception()}else throw qt}}(),$t=r.$delete("input_mtime"),S.compat_mode=G["$key?"]("compat-mode"),S.sourcemap=r["$[]"]("sourcemap"),S.timings=r.$delete("timings"),S.path_resolver=U("PathResolver").$new(),Ee=N((l=A("::","Asciidoctor","skip_raise"))&&A(l,"Extensions","skip_raise")?"constant":B)||N(r["$key?"]("extensions"))?A(A("Asciidoctor"),"Extensions"):B,S.extensions=B,N(r["$key?"]("header_footer"))&&ve(r["$key?"]("standalone"))&&r["$[]="]("standalone",r["$[]"]("header_footer"))),S.parsed=S.reftexts=S.header=S.header_attributes=B,S.counters=L([],{}),S.attributes_modified=A("Set").$new(),S.docinfo_processor_extensions=L([],{}),tt=r["$[]"]("standalone"),(S.options=r).$freeze(),at=S.attributes,N(R)||(at["$[]="]("attribute-undefined",U("Compliance").$attribute_undefined()),at["$[]="]("attribute-missing",U("Compliance").$attribute_missing()),at.$update(U("DEFAULT_ATTRIBUTES"))),N(tt)?(G["$[]="]("embedded",B),at["$[]="]("copycss",""),at["$[]="]("iconfont-remote",""),at["$[]="]("stylesheet",""),at["$[]="]("webfonts","")):(G["$[]="]("embedded",""),N(G["$key?"]("showtitle"))&&Ie(G.$keys()["$&"](["notitle","showtitle"])["$[]"](-1),"showtitle")?G["$[]="]("notitle",De(B,"",!1,"@","@",!1)["$[]"](G["$[]"]("showtitle"))):N(G["$key?"]("notitle"))?G["$[]="]("showtitle",De(B,"",!1,"@","@",!1)["$[]"](G["$[]"]("notitle"))):at["$[]="]("notitle","")),G["$[]="]("asciidoctor",""),G["$[]="]("asciidoctor-version",A(A("Asciidoctor"),"VERSION")),G["$[]="]("safe-mode-name",ct=U("SafeMode").$name_for_value(S.safe)),G["$[]="]("safe-mode-"+ct,""),G["$[]="]("safe-mode-level",S.safe),N(Z=G["$[]"]("max-include-depth"))||G["$[]="]("max-include-depth",64),N(Z=G["$[]"]("allow-uri-read"))||G["$[]="]("allow-uri-read",B),N(G["$key?"]("numbered"))&&G["$[]="]("sectnums",G.$delete("numbered")),N(G["$key?"]("hardbreaks"))&&G["$[]="]("hardbreaks-option",G.$delete("hardbreaks")),N(ft=r["$[]"]("base_dir"))?S.base_dir=(y=["docdir",A("File").$expand_path(ft)],O(G,"[]=",y),y[y.length-1]):N(G["$[]"]("docdir"))?S.base_dir=G["$[]"]("docdir"):S.base_dir=(y=["docdir",A("Dir").$pwd()],O(G,"[]=",y),y[y.length-1]),N(ut=r["$[]"]("backend"))&&G["$[]="]("backend",ut.$to_s()),N(pt=r["$[]"]("doctype"))&&G["$[]="]("doctype",pt.$to_s()),N(et(S.safe,A(U("SafeMode"),"SERVER")))?(N(Z=G["$[]"]("copycss"))||G["$[]="]("copycss",B),N(Z=G["$[]"]("source-highlighter"))||G["$[]="]("source-highlighter",B),N(Z=G["$[]"]("backend"))||G["$[]="]("backend",U("DEFAULT_BACKEND")),ve(R)&&N(G["$key?"]("docfile"))&&G["$[]="]("docfile",G["$[]"]("docfile")["$[]"](t.Range.$new(Me(G["$[]"]("docdir").$length(),1),-1,!1))),G["$[]="]("docdir",""),N(Z=G["$[]"]("user-home"))||G["$[]="]("user-home","."),N(et(S.safe,A(U("SafeMode"),"SECURE")))&&(N(G["$key?"]("max-attribute-value-size"))||G["$[]="]("max-attribute-value-size",4096),N(G["$key?"]("linkcss"))||G["$[]="]("linkcss",""),N(Z=G["$[]"]("icons"))||G["$[]="]("icons",B))):N(Z=G["$[]"]("user-home"))||G["$[]="]("user-home",U("USER_HOME")),S.max_attribute_value_size=N(ht=N(Z=G["$[]"]("max-attribute-value-size"))?Z:(y=["max-attribute-value-size",B],O(G,"[]=",y),y[y.length-1]))?ht.$to_i().$abs():B,O(G,"delete_if",[],function(wt,At){var Ct,zt=B;return wt==null&&(wt=B),At==null&&(At=B),N(At)?(st(A("String"),At)&&N(At["$end_with?"]("@"))&&(Ct=[At.$chop(),!0],At=Ct[0],zt=Ct[1]),at["$[]="](wt,At)):(at.$delete(wt),zt=At["$=="](!1)),zt}),N(R)?(S.backend=at["$[]"]("backend"),Ie(S.doctype=(y=["doctype",oe],O(at,"[]=",y),y[y.length-1]),U("DEFAULT_DOCTYPE"))||S.$update_doctype_attributes(U("DEFAULT_DOCTYPE")),S.reader=U("Reader").$new(u,r["$[]"]("cursor")),N(S.sourcemap)&&(S.source_location=S.reader.$cursor()),U("Parser").$parse(S.reader,S),S.$restore_attributes(),S.parsed=!0):(S.backend=B,Ie(Et=N(Z=at["$[]"]("backend"))?Z:U("DEFAULT_BACKEND"),"manpage")?S.doctype=(y=["doctype",(h=["doctype","manpage"],O(G,"[]=",h),h[h.length-1])],O(at,"[]=",y),y[y.length-1]):S.doctype=N(Z=at["$[]"]("doctype"))?Z:(y=["doctype",U("DEFAULT_DOCTYPE")],O(at,"[]=",y),y[y.length-1]),S.$update_backend_attributes(Et,!0),N(Z=at["$[]"]("stylesdir"))||at["$[]="]("stylesdir","."),N(Z=at["$[]"]("iconsdir"))||at["$[]="]("iconsdir",""+at.$fetch("imagesdir","./images")+"/icons"),S.$fill_datetime_attributes(at,$t),N(Ee)&&(N(yt=r["$[]"]("extension_registry"))?(st(A(U("Extensions"),"Registry"),yt)||N((f=A("::","AsciidoctorJ","skip_raise"))&&(h=A(f,"Extensions","skip_raise"))&&(y=A(h,"ExtensionRegistry","skip_raise"))?"constant":B)&&st(A(A(A("AsciidoctorJ"),"Extensions"),"ExtensionRegistry"),yt))&&(S.extensions=yt.$activate(S)):N((Tt=r["$[]"]("extensions"))["$nil?"]())?N(U("Extensions").$groups()["$empty?"]())||(S.extensions=A(U("Extensions"),"Registry").$new().$activate(S)):st(A("Proc"),Tt)&&(S.extensions=O(U("Extensions"),"create",[],Tt.$to_proc()).$activate(S))),S.reader=U("PreprocessorReader").$new(S,u,A(U("Reader"),"Cursor").$new(at["$[]"]("docfile"),S.base_dir),L(["normalize"],{normalize:!0})),N(S.sourcemap)?S.source_location=S.reader.$cursor():B)},-1),Ne(E,"$parse",function(u){var r=this,l=B,y=B;return u==null&&(u=B),N(r.parsed)?r:(l=r,N(u)&&(r.reader=U("PreprocessorReader").$new(l,u,A(U("Reader"),"Cursor").$new(r.attributes["$[]"]("docfile"),r.base_dir),L(["normalize"],{normalize:!0})),N(r.sourcemap)&&(r.source_location=r.reader.$cursor())),N(y=N(r.parent_document)?B:r.extensions)&&N(y["$preprocessors?"]())&&O(y.$preprocessors(),"each",[],function h(f){var S=h.$$s==null?this:h.$$s,R=B;return S.reader==null&&(S.reader=B),f==null&&(f=B),S.reader=N(R=f.$process_method()["$[]"](l,S.reader))?R:S.reader},{$$s:r}),U("Parser").$parse(r.reader,l,L(["header_only"],{header_only:r.options["$[]"]("parse_header_only")})),r.$restore_attributes(),N(y)&&N(y["$tree_processors?"]())&&O(y.$tree_processors(),"each",[],function(f){var S=B;return f==null&&(f=B),N(S=f.$process_method()["$[]"](l))&&st(U("Document"),S)&&Ge(S,l)?l=S:B}),r.parsed=!0,l)},-1),Ne(E,"$parsed?",Ve("parsed")),Ne(E,"$counter",function(u,r){var l,y=this,h=B,f=B,S=B;return r==null&&(r=B),N(y.parent_document)?y.parent_document.$counter(u,r):(N(f=y["$attribute_locked?"](u))&&N(h=y.counters["$[]"](u))||ve((h=y.attributes["$[]"](u))["$nil_or_empty?"]())?S=(l=[u,U("Helpers").$nextval(h)],O(y.counters,"[]=",l),l[l.length-1]):N(r)?S=(l=[u,Ie(r,r.$to_i().$to_s())?r.$to_i():r],O(y.counters,"[]=",l),l[l.length-1]):S=(l=[u,1],O(y.counters,"[]=",l),l[l.length-1]),N(f)||y.attributes["$[]="](u,S),S)},-2),Ne(E,"$increment_and_store_counter",function(u,r){var l=this;return U("AttributeEntry").$new(u,l.$counter(u)).$save_to(r.$attributes()).$value()}),c(E,"counter_increment","increment_and_store_counter"),Ne(E,"$register",function(u,r){var l=this,y=B,h=B,f=B;switch(u){case"ids":return l.$register("refs",[y=r["$[]"](0),U("Inline").$new(l,"anchor",r["$[]"](1),L(["type","id"],{type:"ref",id:y}))]);case"refs":return h=l.catalog["$[]"]("refs"),N(h["$[]"](r["$[]"](0)))||h["$[]="](r["$[]"](0),f=r["$[]"](1)),f;case"footnotes":return l.catalog["$[]"](u)["$<<"](r);default:return N(l.options["$[]"]("catalog_assets"))?l.catalog["$[]"](u)["$<<"](Ie(u,"images")?U("ImageReference").$new(r,l.attributes["$[]"]("imagesdir")):r):B}}),Ne(E,"$resolve_id",function(u){var r=this,l=B,y=B;return N(r.reftexts)?r.reftexts["$[]"](u):N(r.parsed)?O(r.reftexts=L([],{}),"tap",[],function h(f){var S=h.$$s==null?this:h.$$s;return S.catalog==null&&(S.catalog=B),f==null&&(f=B),O(S.catalog["$[]"]("refs"),"each",[],function(Z,G){var oe,Ee=B;return Z==null&&(Z=B),G==null&&(G=B),N(Ee=f["$[]"](G.$xreftext()))?Ee:(oe=[G.$xreftext(),Z],O(f,"[]=",oe),oe[oe.length-1])})},{$$s:r})["$[]"](u):(l=B,r.reftexts=y=L([],{}),function(){try{var h=it("break");return O(r.catalog["$[]"]("refs"),"each",[],function(S,R){var Z,G=B,oe=B;return S==null&&(S=B),R==null&&(R=B),Ie(G=R.$xreftext(),u)&&(l=S,h.$throw()),N(oe=y["$[]"](G))?oe:(Z=[G,S],O(y,"[]=",Z),Z[Z.length-1])})}catch(f){if(f===h)return f.$v;throw f}}(),r.reftexts=B,l)}),Ne(E,"$sections?",function(){var u=this;return x(u.next_section_index,0)}),Ne(E,"$footnotes?",function(){var u=this;return!N(u.catalog["$[]"]("footnotes")["$empty?"]())}),Ne(E,"$footnotes",function(){var u=this;return u.catalog["$[]"]("footnotes")}),Ne(E,"$callouts",function(){var u=this;return u.catalog["$[]"]("callouts")}),Ne(E,"$nested?",function(){var u=this;return!!N(u.parent_document)}),Ne(E,"$embedded?",function(){var u=this;return u.attributes["$key?"]("embedded")}),Ne(E,"$extensions?",function(){var u=this;return!!N(u.extensions)}),Ne(E,"$source",function(){var u=this;return N(u.reader)?u.reader.$source():B}),Ne(E,"$source_lines",function(){var u=this;return N(u.reader)?u.reader.$source_lines():B}),Ne(E,"$basebackend?",function(u){var r=this;return r.attributes["$[]"]("basebackend")["$=="](u)}),Ne(E,"$title",function(){var u=this;return u.$doctitle()}),Ne(E,"$title=",function(u){var r,l=this,y=B;return N(y=l.header)||(y=l.header=U("Section").$new(l,0))["$sectname="]("header"),r=[u],O(y,"title=",r),r[r.length-1]}),Ne(E,"$doctitle",function(u){var r=this,l=B,y=B,h=B,f=B;if(u==null&&(u=L([],{})),!N(l=r.attributes["$[]"]("title"))){if(N(y=r.$first_section()))l=y.$title();else if(ve(N(h=u["$[]"]("use_fallback"))?l=r.attributes["$[]"]("untitled-label"):h))return B}return N(f=u["$[]"]("partition"))?U("Title").$new(l,u.$merge(L(["separator"],{separator:Ie(f,!0)?r.attributes["$[]"]("title-separator"):f}))):N(u["$[]"]("sanitize"))&&N(l["$include?"]("<"))?l.$gsub(U("XmlSanitizeRx"),"").$squeeze(" ").$strip():l},-1),c(E,"name","doctitle"),Ne(E,"$xreftext",function(u){var r=this,l=B;return N(l=r.$reftext())&&ve(l["$empty?"]())?l:r.$title()},-1),Ne(E,"$author",function(){var u=this;return u.attributes["$[]"]("author")}),Ne(E,"$authors",function(){var u=this,r=B,l=B,y=B,h=B,f=B;if(N((r=u.attributes)["$key?"]("author"))){if(l=[U("Author").$new(r["$[]"]("author"),r["$[]"]("firstname"),r["$[]"]("middlename"),r["$[]"]("lastname"),r["$[]"]("authorinitials"),r["$[]"]("email"))],N(x(y=N(h=r["$[]"]("authorcount"))?h:0,1)))for(f=1;N(Xe(f,y));)f=Me(f,1),l["$<<"](U("Author").$new(r["$[]"]("author_"+f),r["$[]"]("firstname_"+f),r["$[]"]("middlename_"+f),r["$[]"]("lastname_"+f),r["$[]"]("authorinitials_"+f),r["$[]"]("email_"+f)));return l}else return[]}),Ne(E,"$revdate",function(){var u=this;return u.attributes["$[]"]("revdate")}),Ne(E,"$notitle",function(){var u=this;return u.attributes["$key?"]("notitle")}),Ne(E,"$noheader",function(){var u=this;return u.attributes["$key?"]("noheader")}),Ne(E,"$nofooter",function(){var u=this;return u.attributes["$key?"]("nofooter")}),Ne(E,"$first_section",function(){var u=this,r=B;return N(r=u.header)?r:O(u.blocks,"find",[],function(y){return y==null&&(y=B),y.$context()["$=="]("section")})}),Ne(E,"$header?",function(){var u=this;return!!N(u.header)}),c(E,"has_header?","header?"),Ne(E,"$<<",function I(u){var r=I.$$p||B,l=this;return I.$$p=null,Ie(u.$context(),"section")&&l.$assign_numeral(u),de(l,Ue(l,"<<",I,!1,!0),"<<",[u],r)}),Ne(E,"$finalize_header",function(u,r){var l=this;return r==null&&(r=!0),l.$clear_playback_attributes(u),l.$save_attributes(),N(r)||u["$[]="]("invalid-header",!0),u},-2),Ne(E,"$playback_attributes",function(u){var r=this;return N(u["$key?"]("attribute_entries"))?O(u["$[]"]("attribute_entries"),"each",[],function l(y){var h=l.$$s==null?this:l.$$s,f=B;return h.attributes==null&&(h.attributes=B),y==null&&(y=B),f=y.$name(),N(y.$negate())?(h.attributes.$delete(f),Ie(f,"compat-mode")?h.compat_mode=!1:B):(h.attributes["$[]="](f,y.$value()),Ie(f,"compat-mode")?h.compat_mode=!0:B)},{$$s:r}):B}),Ne(E,"$restore_attributes",function(){var u=this;return N(u.parent_document)||u.catalog["$[]"]("callouts").$rewind(),u.attributes.$replace(u.header_attributes)}),Ne(E,"$set_attribute",function(u,r){var l=this,y=B;if(r==null&&(r=""),N(l["$attribute_locked?"](u)))return B;if(N(r["$empty?"]())||(r=l.$apply_attribute_value_subs(r)),N(l.header_attributes))l.attributes["$[]="](u,r);else{switch(u){case"backend":l.$update_backend_attributes(r,N(y=l.attributes_modified["$delete?"]("htmlsyntax"))?r["$=="](l.backend):y);break;case"doctype":l.$update_doctype_attributes(r);break;default:l.attributes["$[]="](u,r)}l.attributes_modified["$<<"](u)}return r},-2),Ne(E,"$delete_attribute",function(u){var r=this;return N(r["$attribute_locked?"](u))?!1:(r.attributes.$delete(u),r.attributes_modified["$<<"](u),!0)}),Ne(E,"$attribute_locked?",function(u){var r=this;return r.attribute_overrides["$key?"](u)}),Ne(E,"$set_header_attribute",function(u,r,l){var y=this,h=B,f=B;return r==null&&(r=""),l==null&&(l=!0),h=N(f=y.header_attributes)?f:y.attributes,Ie(l,!1)&&N(h["$key?"](u))?!1:(h["$[]="](u,r),!0)},-2),Ne(E,"$convert",function(u){var r,l=this,y=B,h=B,f=B,S=B,R=B;return u==null&&(u=L([],{})),N(l.timings)&&l.timings.$start("convert"),N(l.parsed)||l.$parse(),N(et(l.safe,A(U("SafeMode"),"SERVER")))||N(u["$empty?"]())||(N((r=["outfile",u["$[]"]("outfile")],O(l.attributes,"[]=",r),r[r.length-1]))||l.attributes.$delete("outfile"),N((r=["outdir",u["$[]"]("outdir")],O(l.attributes,"[]=",r),r[r.length-1]))||l.attributes.$delete("outdir")),Ie(l.$doctype(),"inline")?N(y=N(h=l.blocks["$[]"](0))?h:l.header)&&(Ie(y.$content_model(),"compound")||Ie(y.$content_model(),"empty")?l.$logger().$warn("no inline candidate; use the inline doctype to convert a single paragragh, verbatim, or raw block"):f=y.$content()):(N(u["$key?"]("standalone"))?S=N(u["$[]"]("standalone"))?"document":"embedded":N(u["$key?"]("header_footer"))?S=N(u["$[]"]("header_footer"))?"document":"embedded":S=N(l.options["$[]"]("standalone"))?"document":"embedded",f=l.converter.$convert(l,S)),N(l.parent_document)||N(R=l.extensions)&&N(R["$postprocessors?"]())&&O(R.$postprocessors(),"each",[],function Z(G){var oe=Z.$$s==null?this:Z.$$s;return G==null&&(G=B),f=G.$process_method()["$[]"](oe,f)},{$$s:l}),N(l.timings)&&l.timings.$record("convert"),f},-1),c(E,"render","convert"),Ne(E,"$write",function(u,r){var l=this;return N(l.timings)&&l.timings.$start("write"),st(U("Writer"),l.converter)?l.converter.$write(u,r):(N(r["$respond_to?"]("write"))?N(u["$nil_or_empty?"]())||(r.$write(u.$chomp()),r.$write(U("LF"))):A("File").$write(r,u,L(["mode"],{mode:U("FILE_WRITE_MODE")})),Ie(l.backend,"manpage")&&st(A("String"),r)&&N(l.converter.$class()["$respond_to?"]("write_alternate_pages"))&&l.converter.$class().$write_alternate_pages(l.attributes["$[]"]("mannames"),l.attributes["$[]"]("manvolnum"),r)),N(l.timings)&&l.timings.$record("write"),B}),Ne(E,"$content",function I(){var u=I.$$p||B,r=this;return I.$$p=null,r.attributes.$delete("title"),de(r,Ue(r,"content",I,!1,!0),"content",[],u)}),Ne(E,"$docinfo",function(u,r){var l,y=this,h=B,f=B,S=B,R=B,Z=B,G=B,oe=B,Ee=B,Ke=B,Je=B;return u==null&&(u="head"),r==null&&(r=B),N(Xe(y.$safe(),A(U("SafeMode"),"SECURE")))&&(Ie(u,"head")||(h="-"+u),r=N(f=r)?f:y.outfilesuffix,N((S=y.attributes["$[]"]("docinfo"))["$nil_or_empty?"]())?N(y.attributes["$key?"]("docinfo2"))?S=["private","shared"]:N(y.attributes["$key?"]("docinfo1"))?S=["shared"]:S=N(S)?["private"]:B:S=O(S.$split(","),"map",[],function(tt){return tt==null&&(tt=B),tt.$strip()}),N(S)&&(R=[],l=["docinfo"+h+r,y.attributes["$[]"]("docinfodir"),y.$resolve_docinfo_subs()],Z=l[0],G=l[1],oe=l[2],N(S["$&"](["shared","shared-"+u])["$empty?"]())||(Ee=y.$normalize_system_path(Z,G),N(Ke=y.$read_asset(Ee,L(["normalize"],{normalize:!0})))&&R["$<<"](y.$apply_subs(Ke,oe))),N(y.attributes["$[]"]("docname")["$nil_or_empty?"]())||N(S["$&"](["private","private-"+u])["$empty?"]())||(Ee=y.$normalize_system_path(""+y.attributes["$[]"]("docname")+"-"+Z,G),N(Je=y.$read_asset(Ee,L(["normalize"],{normalize:!0})))&&R["$<<"](y.$apply_subs(Je,oe))))),N(y.extensions)&&N(y["$docinfo_processors?"](u))?(N(f=R)?f:[]).$concat(O(y.docinfo_processor_extensions["$[]"](u),"map",[],function $t(tt){var at=$t.$$s==null?this:$t.$$s;return tt==null&&(tt=B),tt.$process_method()["$[]"](at)},{$$s:y}).$compact()).$join(U("LF")):N(R)?R.$join(U("LF")):""},-1),Ne(E,"$docinfo_processors?",function(u){var r,l=this;return u==null&&(u="head"),N(l.docinfo_processor_extensions["$key?"](u))?l.docinfo_processor_extensions["$[]"](u)["$!="](!1):N(l.extensions)&&N(l.document.$extensions()["$docinfo_processors?"](u))?(r=[u,l.document.$extensions().$docinfo_processors(u)],O(l.docinfo_processor_extensions,"[]=",r),r[r.length-1])["$!"]()["$!"]():(r=[u,!1],O(l.docinfo_processor_extensions,"[]=",r),r[r.length-1])},-1),Ne(E,"$to_s",function(){var u=this,r=B;return"#<"+u.$class()+"@"+u.$object_id()+" {doctype: "+u.$doctype().$inspect()+", doctitle: "+(N(r=u.header)?u.header.$title():r).$inspect()+", blocks: "+u.blocks.$size()+"}>"}),E.$private(),Ne(E,"$apply_attribute_value_subs",function(u){var r,l=this;return N(U("AttributeEntryPassMacroRx")["$=~"](u))?(u=(r=g["~"])===B?B:r["$[]"](2),N((r=g["~"])===B?B:r["$[]"](1))&&(u=l.$apply_subs(u,l.$resolve_pass_subs((r=g["~"])===B?B:r["$[]"](1))))):u=l.$apply_header_subs(u),N(l.max_attribute_value_size)?l.$limit_bytesize(u,l.max_attribute_value_size):u}),Ne(E,"$limit_bytesize",function(u,r){if(N(x(u.$bytesize(),r)))for(;!N((u=u.$byteslice(0,r))["$valid_encoding?"]());)r=we(r,1);return u}),Ne(E,"$resolve_docinfo_subs",function(){var u=this;return N(u.attributes["$key?"]("docinfosubs"))?u.$resolve_subs(u.attributes["$[]"]("docinfosubs"),"block",B,"docinfo"):["attributes"]}),Ne(E,"$create_converter",function(u,r){var l=this,y=B,h=B,f=B,S=B,R=B;return y=L(["document","htmlsyntax"],{document:l,htmlsyntax:l.attributes["$[]"]("htmlsyntax")}),N(h=N(f=(S=l.options)["$[]"]("template_dirs"))?f:S["$[]"]("template_dir"))&&(y["$[]="]("template_dirs",[].concat(Ze(h))),y["$[]="]("template_cache",S.$fetch("template_cache",!0)),y["$[]="]("template_engine",S["$[]"]("template_engine")),y["$[]="]("template_engine_options",S["$[]"]("template_engine_options")),y["$[]="]("eruby",S["$[]"]("eruby")),y["$[]="]("safe",l.safe),N(r)&&y["$[]="]("delegate_backend",r)),N(R=S["$[]"]("converter"))?A(U("Converter"),"CustomFactory").$new(De(u,R)).$create(u,y):S.$fetch("converter_factory",U("Converter")).$create(u,y)}),Ne(E,"$clear_playback_attributes",function(u){return u.$delete("attribute_entries")}),Ne(E,"$save_attributes",function(){var u=this,r=B,l=B,y=B,h=B,f=B,S=B,R=B,Z=B,G=B,oe=B,Ee=B,Ke=B,Je=B,$t=B;if(N((l=u.attributes)["$key?"]("doctitle"))||ve(r=u.$doctitle())||l["$[]="]("doctitle",r),u.id=N(y=u.id)?y:l["$[]"]("css-signature"),N(h=N(l.$delete("toc2"))?"left":l["$[]"]("toc"))&&(f=N(S=l.$fetch("toc-placement","macro"))&&Ge(S,"auto")?S:l["$[]"]("toc-position"),!(N(h["$empty?"]())&&N(f["$nil_or_empty?"]())))){switch(R="left",Z="toc2",G=N(f["$nil_or_empty?"]())?N(h["$empty?"]())?R:h:f,l["$[]="]("toc",""),l["$[]="]("toc-placement","auto"),G){case"left":case"<":case"&lt;":l["$[]="]("toc-position","left");break;case"right":case">":case"&gt;":l["$[]="]("toc-position","right");break;case"top":case"^":l["$[]="]("toc-position","top");break;case"bottom":case"v":l["$[]="]("toc-position","bottom");break;case"preamble":case"macro":l["$[]="]("toc-position","content"),l["$[]="]("toc-placement",G),Z=B;break;default:l.$delete("toc-position"),Z=B}N(Z)&&(N(y=l["$[]"]("toc-class"))||l["$[]="]("toc-class",Z))}if(N(oe=l["$[]"]("icons"))&&ve(l["$key?"]("icontype")))switch(oe){case"":case"font":break;default:l["$[]="]("icons",""),Ie(oe,"image")||l["$[]="]("icontype",oe)}return N(u.compat_mode=l["$key?"]("compat-mode"))&&N(l["$key?"]("language"))&&l["$[]="]("source-language",l["$[]"]("language")),N(u.parent_document)||(Ie(Ee=l["$[]"]("basebackend"),"html")?N(Ke=l["$[]"]("source-highlighter"))&&ve(l["$[]"](""+Ke+"-unavailable"))&&(N(Je=u.options["$[]"]("syntax_highlighter_factory"))?u.syntax_highlighter=Je.$create(Ke,u.backend,L(["document"],{document:u})):N($t=u.options["$[]"]("syntax_highlighters"))?u.syntax_highlighter=A(U("SyntaxHighlighter"),"DefaultFactoryProxy").$new($t).$create(Ke,u.backend,L(["document"],{document:u})):u.syntax_highlighter=U("SyntaxHighlighter").$create(Ke,u.backend,L(["document"],{document:u}))):Ie(Ee,"docbook")&&(N(u["$attribute_locked?"]("toc"))||N(u.attributes_modified["$include?"]("toc"))||l["$[]="]("toc",""),N(u["$attribute_locked?"]("sectnums"))||N(u.attributes_modified["$include?"]("sectnums"))||l["$[]="]("sectnums","")),u.outfilesuffix=l["$[]"]("outfilesuffix"),O(U("FLEXIBLE_ATTRIBUTES"),"each",[],function tt(at){var ct=tt.$$s==null?this:tt.$$s;return ct.attribute_overrides==null&&(ct.attribute_overrides=B),at==null&&(at=B),N(ct.attribute_overrides["$key?"](at))&&N(ct.attribute_overrides["$[]"](at))?ct.attribute_overrides.$delete(at):B},{$$s:u})),u.header_attributes=l.$merge()}),Ne(E,"$fill_datetime_attributes",function(u,r){var l,y=this,h=B,f=B,S=B,R=B,Z=B,G=B,oe=B,Ee=B;return h=N(A("ENV")["$key?"]("SOURCE_DATE_EPOCH"))?f=A("Time").$at(y.$Integer(A("ENV")["$[]"]("SOURCE_DATE_EPOCH"))).$utc():A("Time").$now(),N(S=u["$[]"]("localdate"))?N(R=u["$[]"]("localyear"))||u["$[]="]("localyear",Ie(S.$index("-"),4)?S.$slice(0,4):B):(S=(l=["localdate",h.$strftime("%F")],O(u,"[]=",l),l[l.length-1]),N(R=u["$[]"]("localyear"))||u["$[]="]("localyear",h.$year().$to_s())),Z=N(R=u["$[]"]("localtime"))?R:(l=["localtime",h.$strftime("%T "+(Ie(h.$utc_offset(),0)?"UTC":"%z"))],O(u,"[]=",l),l[l.length-1]),N(R=u["$[]"]("localdatetime"))||u["$[]="]("localdatetime",""+S+" "+Z),r=N(R=N(G=f)?G:r)?R:h,N(oe=u["$[]"]("docdate"))?N(R=u["$[]"]("docyear"))||u["$[]="]("docyear",Ie(oe.$index("-"),4)?oe.$slice(0,4):B):(oe=(l=["docdate",r.$strftime("%F")],O(u,"[]=",l),l[l.length-1]),N(R=u["$[]"]("docyear"))||u["$[]="]("docyear",r.$year().$to_s())),Ee=N(R=u["$[]"]("doctime"))?R:(l=["doctime",r.$strftime("%T "+(Ie(r.$utc_offset(),0)?"UTC":"%z"))],O(u,"[]=",l),l[l.length-1]),N(R=u["$[]"]("docdatetime"))||u["$[]="]("docdatetime",""+oe+" "+Ee),B}),Ne(E,"$update_backend_attributes",function(u,r){var l,y,h=this,f=B,S=B,R=B,Z=B,G=B,oe=B,Ee=B,Ke=B,Je=B,$t=B,tt=B,at=B,ct=B,ft=B;return r==null&&(r=B),N(r)||Ge(u,h.backend)?(f=h.backend,S=(R=h.attributes)["$[]"]("basebackend"),Z=h.doctype,N(u["$include?"](":"))&&(y=u.$partition(":"),l=v(y),G=l[0]==null?B:l[0],l[1]==null||l[1],u=l[2]==null?B:l[2]),N(u["$start_with?"]("xhtml"))?(R["$[]="]("htmlsyntax","xml"),u=u.$slice(1,u.$length())):N(u["$start_with?"]("html"))&&(N(oe=R["$[]"]("htmlsyntax"))||R["$[]="]("htmlsyntax","html")),u=N(oe=U("BACKEND_ALIASES")["$[]"](u))?oe:u,N(G)&&(l=[G,u],u=l[0],Ee=l[1]),N(Z)?(N(f)&&(R.$delete("backend-"+f),R.$delete("backend-"+f+"-doctype-"+Z)),R["$[]="]("backend-"+u+"-doctype-"+Z,""),R["$[]="]("doctype-"+Z,"")):N(f)&&R.$delete("backend-"+f),R["$[]="]("backend-"+u,""),h.backend=(l=["backend",u],O(R,"[]=",l),l[l.length-1]),st(A(U("Converter"),"BackendTraits"),Ke=h.$create_converter(u,Ee))?(Je=Ke.$basebackend(),$t=Ke.$filetype(),N(tt=Ke.$htmlsyntax())&&R["$[]="]("htmlsyntax",tt),N(r)?N(oe=R["$[]"]("outfilesuffix"))||R["$[]="]("outfilesuffix",Ke.$outfilesuffix()):N(h["$attribute_locked?"]("outfilesuffix"))||R["$[]="]("outfilesuffix",Ke.$outfilesuffix())):N(Ke)?(at=U("Converter").$derive_backend_traits(u),Je=at["$[]"]("basebackend"),$t=at["$[]"]("filetype"),N(r)?N(oe=R["$[]"]("outfilesuffix"))||R["$[]="]("outfilesuffix",at["$[]"]("outfilesuffix")):N(h["$attribute_locked?"]("outfilesuffix"))||R["$[]="]("outfilesuffix",at["$[]"]("outfilesuffix"))):h.$raise(A("NotImplementedError"),"asciidoctor: FAILED: missing converter for backend '"+u+"'. Processing aborted."),h.converter=Ke,N(ct=R["$[]"]("filetype"))&&R.$delete("filetype-"+ct),R["$[]="]("filetype",$t),R["$[]="]("filetype-"+$t,""),N(ft=U("DEFAULT_PAGE_WIDTHS")["$[]"](Je))?R["$[]="]("pagewidth",ft):R.$delete("pagewidth"),Ge(Je,S)&&(N(Z)?(N(S)&&(R.$delete("basebackend-"+S),R.$delete("basebackend-"+S+"-doctype-"+Z)),R["$[]="]("basebackend-"+Je+"-doctype-"+Z,"")):N(S)&&R.$delete("basebackend-"+S),R["$[]="]("basebackend-"+Je,""),R["$[]="]("basebackend",Je)),u):B},-2),Ne(E,"$update_doctype_attributes",function(u){var r,l=this,y=B,h=B,f=B,S=B;return N(u)&&Ge(u,l.doctype)?(r=[l.backend,(y=l.attributes)["$[]"]("basebackend"),l.doctype],h=r[0],f=r[1],S=r[2],N(S)?(y.$delete("doctype-"+S),N(h)&&(y.$delete("backend-"+h+"-doctype-"+S),y["$[]="]("backend-"+h+"-doctype-"+u,"")),N(f)&&(y.$delete("basebackend-"+f+"-doctype-"+S),y["$[]="]("basebackend-"+f+"-doctype-"+u,""))):(N(h)&&y["$[]="]("backend-"+h+"-doctype-"+u,""),N(f)&&y["$[]="]("basebackend-"+f+"-doctype-"+u,"")),y["$[]="]("doctype-"+u,""),l.doctype=(r=["doctype",u],O(y,"[]=",r),r[r.length-1])):B})}(fe[0],V("AbstractBlock"),fe)}(rt[0],rt)},Opal.modules["asciidoctor/inline"]=function(t){var W=t.module,H=t.klass,T=t.hash2,O=t.send2,c=t.find_super,N=t.def,Ne=t.return_val,L=t.alias,ve=t.truthy,v=[],Ve=t.nil;return t.add_stubs("attr_accessor,attr_reader,[],convert,converter,attr,==,apply_reftext_subs,reftext"),function(de,Ue){var we=W(de,"Asciidoctor"),Ie=[we].concat(Ue),st=t.$r(Ie);return function(De,et){var Me=H(De,et,"Inline"),Ge=Me.$$prototype;return Ge.text=Ge.type=Ve,Me.$attr_accessor("text"),Me.$attr_reader("type"),Me.$attr_accessor("target"),N(Me,"$initialize",function it(x,Xe,g,Ze){it.$$p;var rt=this;return it.$$p=null,g==null&&(g=Ve),Ze==null&&(Ze=T([],{})),O(rt,c(rt,"initialize",it,!1,!0),"initialize",[x,Xe,Ze],null),rt.node_name="inline_"+Xe,rt.text=g,rt.id=Ze["$[]"]("id"),rt.type=Ze["$[]"]("type"),rt.target=Ze["$[]"]("target")},-3),N(Me,"$block?",Ne(!1)),N(Me,"$inline?",Ne(!0)),N(Me,"$convert",function(){var x=this;return x.$converter().$convert(x)}),L(Me,"render","convert"),N(Me,"$alt",function(){var x=this,Xe=Ve;return ve(Xe=x.$attr("alt"))?Xe:""}),N(Me,"$reftext?",function(){var x=this,Xe=Ve,g=Ve;return ve(Xe=x.text)?ve(g=x.type["$=="]("ref"))?g:x.type["$=="]("bibref"):Xe}),N(Me,"$reftext",function(){var x=this,Xe=Ve;return ve(Xe=x.text)?x.$apply_reftext_subs(Xe):Ve}),N(Me,"$xreftext",function(x){var Xe=this;return Xe.$reftext()},-1)}(Ie[0],st("AbstractNode"))}(v[0],v)},Opal.modules["asciidoctor/list"]=function(t){var W=t.module,H=t.klass,T=t.alias,O=t.hash2,c=t.send2,N=t.find_super,Ne=t.def,L=t.truthy,ve=t.eqeq,v=[],Ve=t.nil;return t.add_stubs("blocks,blocks?,==,next_list,callouts,convert,class,object_id,inspect,size,items,parent,attr_accessor,level,drop,nil_or_empty?,apply_subs,attr_writer,empty?,===,[],outline?,!,simple?,source,shift,context"),function(de,Ue){var we=W(de,"Asciidoctor"),Ie=[we].concat(Ue),st=t.$r(Ie);return function(De,et){var Me=H(De,et,"List"),Ge=Me.$$prototype;return Ge.context=Ge.document=Ge.style=Ve,T(Me,"items","blocks"),T(Me,"content","blocks"),T(Me,"items?","blocks?"),Ne(Me,"$initialize",function it(x,Xe,g){var Ze=it.$$p||Ve,rt=this;return it.$$p=null,g==null&&(g=O([],{})),c(rt,N(rt,"initialize",it,!1,!0),"initialize",[x,Xe,g],Ze)},-3),Ne(Me,"$outline?",function(){var x=this,Xe=Ve;return L(Xe=x.context["$=="]("ulist"))?Xe:x.context["$=="]("olist")}),Ne(Me,"$convert",function it(){var x=it.$$p||Ve,Xe=this,g=Ve;return it.$$p=null,ve(Xe.context,"colist")?(g=c(Xe,N(Xe,"convert",it,!1,!0),"convert",[],x),Xe.document.$callouts().$next_list(),g):c(Xe,N(Xe,"convert",it,!1,!0),"convert",[],x)}),T(Me,"render","convert"),Ne(Me,"$to_s",function(){var x=this;return"#<"+x.$class()+"@"+x.$object_id()+" {context: "+x.context.$inspect()+", style: "+x.style.$inspect()+", items: "+x.$items().$size()+"}>"})}(Ie[0],st("AbstractBlock")),function(De,et,Me){var Ge=H(De,et,"ListItem"),it=[Ge].concat(Me),x=t.$r(it),Xe=Ge.$$prototype;return Xe.text=Xe.subs=Xe.blocks=Ve,T(Ge,"list","parent"),Ge.$attr_accessor("marker"),Ne(Ge,"$initialize",function g(Ze,rt){g.$$p;var B=this;return g.$$p=null,rt==null&&(rt=Ve),c(B,N(B,"initialize",g,!1,!0),"initialize",[Ze,"list_item"],null),B.text=rt,B.level=Ze.$level(),B.subs=x("NORMAL_SUBS").$drop(0)},-2),Ne(Ge,"$text?",function(){var Ze=this;return!L(Ze.text["$nil_or_empty?"]())}),Ne(Ge,"$text",function(){var Ze=this,rt=Ve;return L(rt=Ze.text)?Ze.$apply_subs(Ze.text,Ze.subs):rt}),Ge.$attr_writer("text"),Ne(Ge,"$simple?",function(){var Ze=this,rt=Ve,B=Ve,A=Ve,Be=Ve;return L(rt=Ze.blocks["$empty?"]())?rt:L(B=L(A=Ze.blocks.$size()["$=="](1))?x("List")["$==="](Be=Ze.blocks["$[]"](0)):A)?Be["$outline?"]():B}),Ne(Ge,"$compound?",function(){var Ze=this;return Ze["$simple?"]()["$!"]()}),Ne(Ge,"$fold_first",function(){var Ze=this;return Ze.text=L(Ze.text["$nil_or_empty?"]())?Ze.blocks.$shift().$source():""+Ze.text+x("LF")+Ze.blocks.$shift().$source(),Ve}),Ne(Ge,"$to_s",function(){var Ze=this,rt=Ve;return"#<"+Ze.$class()+"@"+Ze.$object_id()+" {list_context: "+Ze.$parent().$context().$inspect()+", text: "+Ze.text.$inspect()+", blocks: "+(L(rt=Ze.blocks)?rt:[]).$size()+"}>"})}(Ie[0],st("AbstractBlock"),Ie)}(v[0],v)},Opal.modules["asciidoctor/parser"]=function(t){var W=t.module,H=t.klass,T=t.const_set,O=t.send,c=t.truthy,N=t.hash2,Ne=t.to_ary,L=t.defs,ve=t.eqeq,v=t.not,Ve=t.gvars,de=t.neqeq,Ue=t.rb_plus,we=t.rb_lt,Ie=t.rb_gt,st=t.to_a,De=t.eqeqeq,et=t.rb_minus,Me=t.rb_times,Ge=t.thrower,it=[],x=t.nil,Xe=t.$$$;return t.add_stubs("include,new,proc,start_with?,match?,is_delimited_block?,private_class_method,parse_document_header,[],has_more_lines?,next_section,assign_numeral,<<,blocks,skip_blank_lines,parse_block_metadata_lines,attributes,is_next_line_doctitle?,[]=,finalize_header,nil_or_empty?,title=,sourcemap,cursor,parse_section_title,id=,include?,sub_specialchars,sub_attributes,source_location=,header,attribute_locked?,id,clear,delete,instance_variable_get,parse_header_metadata,==,!,register,process_authors,update,doctype,parse_manpage_header,=~,downcase,error,logger,message_with_context,cursor_at_line,backend,save,is_next_line_section?,initialize_section,join,map,read_lines_until,lstrip,split,title,restore_save,discard_save,header?,empty?,context,!=,attr?,attr,key?,document,+,level,special,sectname,to_i,<,>,warn,next_block,blocks?,style,style=,parent=,content_model,content_model=,lines,subs,size,context=,shift,unwrap_standalone_preamble,source_location,merge,fetch,parse_block_metadata_line,extensions,block_macros?,mark,read_line,terminator,to_s,masq,to_sym,registered_for_block?,debug?,debug,cursor_at_mark,strict_verbatim_paragraphs,unshift_line,markdown_syntax,keys,chr,uniform?,length,end_with?,parse_attributes,attribute_missing,tr,basename,assign_caption,registered_for_block_macro?,config,process_method,replace,parse_callout_list,callouts,===,parse_list,parse_description_list,underline_style_section_titles,is_section_title?,peek_line,atx_section_title?,generate_id,level=,read_paragraph_lines,adjust_indentation!,map!,slice,pop,build_block,apply_subs,chop,catalog_inline_anchors,rekey,index,strip,-,parse_table,each,raise,title?,update_attributes,commit_subs,sub?,catalog_callouts,source,remove_sub,block_terminates_paragraph,to_proc,nil?,parse_blocks,parse_list_item,items,scan,gsub,count,advance,dup,match,callout_ids,next_list,catalog_inline_anchor,marker=,catalog_inline_biblio_anchor,set_option,text=,resolve_ordered_list_marker,read_lines_for_list_item,skip_line_comments,unshift_lines,fold_first,text?,is_sibling_list_item?,concat,find,casecmp,sectname=,special=,numbered=,numbered,lineno,peek_lines,setext_section_title?,abs,cursor_at_prev_line,process_attribute_entries,next_line_empty?,apply_header_subs,rstrip,each_with_index,compact,to_h,squeeze,to_a,parse_style_attribute,process_attribute_entry,skip_comment_lines,store_attribute,sanitize_attribute_name,set_attribute,save_to,delete_attribute,ord,int_to_roman,resolve_list_marker,parse_colspecs,create_columns,has_header_option=,format,starts_with_delimiter?,close_open_cell,parse_cellspec,delimiter,match_delimiter,pre_match,post_match,buffer_has_unclosed_quotes?,skip_past_delimiter,buffer=,buffer,skip_past_escaped_delimiter,keep_cell_open,push_cellspec,close_cell,cell_open?,columns,assign_column_widths,partition_header_footer,upto,partition,shorthand_property_syntax,each_char,yield_buffered_attribute,any?,*,each_byte,%"),function(g,Ze){var rt=W(g,"Asciidoctor"),B=[rt].concat(Ze);return function(A,Be,$e){var me=H(A,Be,"Parser"),fe=[me].concat($e),V=t.$r(fe);return me.$include(V("Logging")),T(fe[0],"BlockMatchData",V("Struct").$new("context","masq","tip","terminator")),T(fe[0],"TAB","	"),T(fe[0],"TabIndentRx",/^\t+/),T(fe[0],"StartOfBlockProc",O(me,"proc",[],function te(P){var q=te.$$s==null?this:te.$$s,E=x,j=x;return P==null&&(P=x),c(E=c(j=P["$start_with?"]("["))?V("BlockAttributeLineRx")["$match?"](P):j)?E:q["$is_delimited_block?"](P)},{$$s:me})),T(fe[0],"StartOfListProc",O(me,"proc",[],function(P){return P==null&&(P=x),V("AnyListRx")["$match?"](P)})),T(fe[0],"StartOfBlockOrListProc",O(me,"proc",[],function te(P){var q=te.$$s==null?this:te.$$s,E=x,j=x,U=x;return P==null&&(P=x),c(E=c(j=q["$is_delimited_block?"](P))?j:c(U=P["$start_with?"]("["))?V("BlockAttributeLineRx")["$match?"](P):U)?E:V("AnyListRx")["$match?"](P)},{$$s:me})),T(fe[0],"NoOp",x),T(fe[0],"AuthorKeys",["author","authorinitials","firstname","middlename","lastname","email"]),T(fe[0],"TableCellHorzAlignments",N(["<",">","^"],{"<":"left",">":"right","^":"center"})),T(fe[0],"TableCellVertAlignments",N(["<",">","^"],{"<":"top",">":"bottom","^":"middle"})),T(fe[0],"TableCellStyles",N(["d","s","e","m","h","l","a"],{d:"none",s:"strong",e:"emphasis",m:"monospaced",h:"header",l:"literal",a:"asciidoc"})),me.$private_class_method("new"),L(me,"$parse",function(P,q,E){var j,U,X=this,I=x,u=x,r=x;if(E==null&&(E=N([],{})),I=X.$parse_document_header(P,q,u=E["$[]"]("header_only")),!c(u))for(;c(P["$has_more_lines?"]());)U=X.$next_section(P,q,I),j=Ne(U),r=j[0]==null?x:j[0],I=j[1]==null?x:j[1],c(r)&&(q.$assign_numeral(r),q.$blocks()["$<<"](r));return q},-3),L(me,"$parse_document_header",function(P,q,E){var j,U,X,I=this,u=x,r=x,l=x,y=x,h=x,f=x,S=x,R=x,Z=x,G=x,oe=x,Ee=x,Ke=x,Je=x,$t=x;return E==null&&(E=!1),u=c(P.$skip_blank_lines())?I.$parse_block_metadata_lines(P,q):N([],{}),r=q.$attributes(),c(l=I["$is_next_line_doctitle?"](P,u,r["$[]"]("leveloffset")))&&c(u["$[]"]("title"))?(r["$[]="]("authorcount",0),q.$finalize_header(u,!1)):(c((y=r["$[]"]("doctitle"))["$nil_or_empty?"]())||q["$title="](h=y),c(l)?(c(q.$sourcemap())&&(f=P.$cursor()),U=I.$parse_section_title(P,q),j=Ne(U),X=[j[0]==null?x:j[0]],O(q,"id=",X),X[X.length-1],j[1]==null||j[1],S=j[2]==null?x:j[2],j[3]==null||j[3],R=j[4]==null?x:j[4],c(h)?S=x:(q["$title="](S),c((j=["doctitle",h=q.$sub_specialchars(S)],O(r,"[]=",j),j[j.length-1])["$include?"](V("ATTR_REF_HEAD")))&&r["$[]="]("doctitle",h=q.$sub_attributes(h,N(["attribute_missing"],{attribute_missing:"skip"})))),c(f)&&q.$header()["$source_location="](f),c(R)||c(q["$attribute_locked?"]("compat-mode"))||r["$[]="]("compat-mode",""),c(Z=u["$[]"]("separator"))&&(c(q["$attribute_locked?"]("title-separator"))||r["$[]="]("title-separator",Z)),c(G=u["$[]"]("id"))?q["$id="](G):G=q.$id(),c(oe=u["$[]"]("role"))&&r["$[]="]("role",oe),c(Ee=u["$[]"]("reftext"))&&r["$[]="]("reftext",Ee),u.$clear(),(Ke=q.$instance_variable_get("@attributes_modified")).$delete("doctitle"),I.$parse_header_metadata(P,q,x),c(Ke["$include?"]("doctitle"))?c((y=r["$[]"]("doctitle"))["$nil_or_empty?"]())||ve(y,h)?r["$[]="]("doctitle",h):q["$title="](y):v(S)&&Ke["$<<"]("doctitle"),c(G)&&q.$register("refs",[G,q])):c(Je=r["$[]"]("author"))?($t=I.$process_authors(Je,!0,!1),c(r["$[]"]("authorinitials"))&&$t.$delete("authorinitials"),r.$update($t)):c(Je=r["$[]"]("authors"))?($t=I.$process_authors(Je,!0),r.$update($t)):r["$[]="]("authorcount",0),ve(q.$doctype(),"manpage")&&I.$parse_manpage_header(P,q,u,E),q.$finalize_header(u))},-3),L(me,"$parse_manpage_header",function(P,q,E,j){var U,X=this,I=x,u=x,r=x,l=x,y=x,h=x,f=x,S=x,R=x,Z=x,G=x,oe=x;return j==null&&(j=!1),c(V("ManpageTitleVolnumRx")["$=~"]((I=q.$attributes())["$[]"]("doctitle")))?(I["$[]="]("manvolnum",u=(U=Ve["~"])===x?x:U["$[]"](2)),I["$[]="]("mantitle",(c((r=(U=Ve["~"])===x?x:U["$[]"](1))["$include?"](V("ATTR_REF_HEAD")))?q.$sub_attributes(r):r).$downcase())):(X.$logger().$error(X.$message_with_context("non-conforming manpage title",N(["source_location"],{source_location:P.$cursor_at_line(1)}))),I["$[]="]("mantitle",c(l=c(y=I["$[]"]("doctitle"))?y:I["$[]"]("docname"))?l:"command"),I["$[]="]("manvolnum",u="1")),c(h=I["$[]"]("manname"))&&c(I["$[]"]("manpurpose"))?(c(l=I["$[]"]("manname-title"))||I["$[]="]("manname-title","Name"),I["$[]="]("mannames",[h]),ve(q.$backend(),"manpage")&&(I["$[]="]("docname",h),I["$[]="]("outfilesuffix","."+u))):c(j)||(P.$skip_blank_lines(),P.$save(),E.$update(X.$parse_block_metadata_lines(P,q)),c(f=X["$is_next_line_section?"](P,N([],{})))?ve(f,1)?(S=X.$initialize_section(P,q,N([],{})),R=O(P.$read_lines_until(N(["break_on_blank_lines","skip_line_comments"],{break_on_blank_lines:!0,skip_line_comments:!0})),"map",[],function(Ke){return Ke==null&&(Ke=x),Ke.$lstrip()}).$join(" "),c(V("ManpageNamePurposeRx")["$=~"](R))?(c((h=(U=Ve["~"])===x?x:U["$[]"](1))["$include?"](V("ATTR_REF_HEAD")))&&(h=q.$sub_attributes(h)),c(h["$include?"](","))?h=(Z=O(h.$split(","),"map",[],function(Ke){return Ke==null&&(Ke=x),Ke.$lstrip()}))["$[]"](0):Z=[h],c((G=(U=Ve["~"])===x?x:U["$[]"](2))["$include?"](V("ATTR_REF_HEAD")))&&(G=q.$sub_attributes(G)),c(l=I["$[]"]("manname-title"))||I["$[]="]("manname-title",S.$title()),c(S.$id())&&I["$[]="]("manname-id",S.$id()),I["$[]="]("manname",h),I["$[]="]("mannames",Z),I["$[]="]("manpurpose",G),ve(q.$backend(),"manpage")&&(I["$[]="]("docname",h),I["$[]="]("outfilesuffix","."+u))):oe="non-conforming name section body"):oe="name section must be at level 1":oe="name section expected",c(oe)?(P.$restore_save(),X.$logger().$error(X.$message_with_context(oe,N(["source_location"],{source_location:P.$cursor()}))),I["$[]="]("manname",h=c(l=I["$[]"]("docname"))?l:"command"),I["$[]="]("mannames",[h]),ve(q.$backend(),"manpage")&&(I["$[]="]("docname",h),I["$[]="]("outfilesuffix","."+u))):P.$discard_save()),x},-4),L(me,"$next_section",function(P,q,E){var j,U,X=this,I=x,u=x,r=x,l=x,y=x,h=x,f=x,S=x,R=x,Z=x,G=x,oe=x,Ee=x,Ke=x,Je=x,$t=x,tt=x,at=x,ct=x,ft=x;for(E==null&&(E=N([],{})),I=u=r=!1,ve(q.$context(),"document")&&c(q.$blocks()["$empty?"]())&&(c(l=q["$header?"]())||c(E.$delete("invalid-header"))||v(X["$is_next_line_section?"](P,E)))?(y=(h=q).$doctype()["$=="]("book"),(c(l)||c(y)&&de(E["$[]"](1),"abstract"))&&(I=u=V("Block").$new(q,"preamble",N(["content_model"],{content_model:"compound"})),c(y)&&c(q["$attr?"]("preface-title"))&&I["$title="](q.$attr("preface-title")),q.$blocks()["$<<"](I)),f=q,S=0,c(q.$attributes()["$key?"]("fragment"))?R=-1:c(y)?(j=[1,0],R=j[0],Z=j[1]):R=1):(y=(h=q.$document()).$doctype()["$=="]("book"),f=X.$initialize_section(P,q,E),E=c(G=E["$[]"]("title"))?N(["title"],{title:G}):N([],{}),R=Ue(S=f.$level(),1),ve(S,0)?r=y:ve(S,1)&&c(f.$special())&&(ve(oe=f.$sectname(),"appendix")||ve(oe,"preface")||ve(oe,"abstract")||(R=x))),P.$skip_blank_lines();c(P["$has_more_lines?"]());){if(X.$parse_block_metadata_lines(P,h,E),c(Ee=X["$is_next_line_section?"](P,E)))if(c(h["$attr?"]("leveloffset"))&&(Ee=Ue(Ee,h.$attr("leveloffset").$to_i()),c(we(Ee,0))&&(Ee=0)),c(Ie(Ee,S)))c(R)?ve(Ee,R)||c(Z)&&ve(Ee,Z)||c(we(R,0))||(Ke=c(Z)?"expected levels "+Z+" or "+R:"expected level "+R,X.$logger().$warn(X.$message_with_context("section title out of sequence: "+Ke+", got level "+Ee,N(["source_location"],{source_location:P.$cursor()})))):X.$logger().$error(X.$message_with_context(""+oe+" sections do not support nested sections",N(["source_location"],{source_location:P.$cursor()}))),U=X.$next_section(P,f,E),j=Ne(U),Je=j[0]==null?x:j[0],E=j[1]==null?x:j[1],f.$assign_numeral(Je),f.$blocks()["$<<"](Je);else if(ve(Ee,0)&&ve(f,h))c(y)||X.$logger().$error(X.$message_with_context("level 0 sections can only be used when doctype is book",N(["source_location"],{source_location:P.$cursor()}))),U=X.$next_section(P,f,E),j=Ne(U),Je=j[0]==null?x:j[0],E=j[1]==null?x:j[1],f.$assign_numeral(Je),f.$blocks()["$<<"](Je);else break;else $t=P.$cursor(),c(tt=X.$next_block(P,c(at=u)?at:f,E,N(["parse_metadata"],{parse_metadata:!1})))&&(c(r)&&(v(f["$blocks?"]())?de(tt.$style(),"partintro")?ve(tt.$style(),"open")&&ve(tt.$context(),"open")?tt["$style="]("partintro"):(tt["$parent="](u=V("Block").$new(f,"open",N(["content_model"],{content_model:"compound"}))),u["$style="]("partintro"),f.$blocks()["$<<"](u)):ve(tt.$content_model(),"simple")&&(tt["$content_model="]("compound"),tt["$<<"](V("Block").$new(tt,"paragraph",N(["source","subs"],{source:tt.$lines(),subs:tt.$subs()}))),tt.$lines().$clear(),tt.$subs().$clear()):ve(f.$blocks().$size(),1)&&(ct=f.$blocks()["$[]"](0),v(u)&&ve(ct.$content_model(),"compound")?X.$logger().$error(X.$message_with_context("illegal block content outside of partintro block",N(["source_location"],{source_location:$t}))):de(ct.$content_model(),"compound")&&(tt["$parent="](u=V("Block").$new(f,"open",N(["content_model"],{content_model:"compound"}))),ve(ct.$style(),(j=["partintro"],O(u,"style=",j),j[j.length-1]))&&(ct["$context="]("paragraph"),ct["$style="](x)),f.$blocks().$shift(),u["$<<"](ct),f.$blocks()["$<<"](u)))),(c(at=u)?at:f).$blocks()["$<<"](tt),E.$clear());if(!c(at=P.$skip_blank_lines()))break}if(c(r))c(f["$blocks?"]())&&ve(f.$blocks()["$[]"](-1).$context(),"section")||X.$logger().$error(X.$message_with_context("invalid part, must have at least one section (e.g., chapter, appendix, etc.)",N(["source_location"],{source_location:P.$cursor()})));else if(c(I))if(c(I["$blocks?"]()))if(c(y)||c(h.$blocks()["$[]"](1))||v(V("Compliance").$unwrap_standalone_preamble()))c(h.$sourcemap())&&I["$source_location="](I.$blocks()["$[]"](0).$source_location());else for(h.$blocks().$shift();c(ft=I.$blocks().$shift());)h["$<<"](ft);else h.$blocks().$shift();return[ve(f,q)?x:f,E.$merge()]},-3),L(me,"$next_block",function(P,q,E,j){var U,X,I=this,u=x,r=x,l=x,y=x,h=x,f=x,S=x,R=x,Z=x,G=x,oe=x,Ee=x,Ke=x,Je=x,$t=x,tt=x,at=x,ct=x,ft=x,ut=x,pt=x,ht=x,Et=x,yt=x,Tt=x,qt=x,wt=x,At=x,Ct=x,zt=x,Jt=x,Kt=x,It=x,xt=x,Rt=x,Bt=x,kt=x,Nt=x,Wt=x,Dt=x,Lt=x,Vt=x,Mt=x,Ht=x,pr=x,gr=x,Pr=x,mr=x,Ur=x;if(Ve["~"]==null&&(Ve["~"]=x),E==null&&(E=N([],{})),j==null&&(j=N([],{})),!c(u=P.$skip_blank_lines()))return x;if(c(r=j["$[]"]("text_only"))&&c(Ie(u,0))&&(j.$delete("text_only"),r=x),l=q.$document(),c(j.$fetch("parse_metadata",!0))){for(;c(I.$parse_block_metadata_line(P,l,E,j));)if(P.$shift(),!c(y=P.$skip_blank_lines()))return x}if(c(h=l.$extensions())&&(U=[h["$blocks?"](),h["$block_macros?"]()],f=U[0],S=U[1]),P.$mark(),U=[P.$read_line(),l.$attributes(),E["$[]"](1)],R=U[0],Z=U[1],G=U[2],oe=Ee=Ke=Je=x,c($t=I["$is_delimited_block?"](R,!0))&&(Ee=Ke=$t.$context(),Je=$t.$terminator(),c(G)?ve(G,Ee.$to_s())||(c($t.$masq()["$include?"](G))?Ee=G.$to_sym():c($t.$masq()["$include?"]("admonition"))&&c(V("ADMONITION_STYLES")["$include?"](G))?Ee="admonition":c(f)&&c(h["$registered_for_block?"](G,Ee))?Ee=G.$to_sym():(c(I.$logger()["$debug?"]())&&I.$logger().$debug(I.$message_with_context("unknown style for "+Ee+" block: "+G,N(["source_location"],{source_location:P.$cursor_at_mark()}))),G=Ee.$to_s())):G=(U=["style",Ee.$to_s()],O(E,"[]=",U),U[U.length-1])),!c($t))for(;c(!0);){if(c(G)&&c(V("Compliance").$strict_verbatim_paragraphs())&&c(V("VERBATIM_STYLES")["$include?"](G))){Ee=G.$to_sym(),P.$unshift_line(R);break}if(c(r))tt=R["$start_with?"](" ",V("TAB"));else if(at=V("Compliance").$markdown_syntax(),c(R["$start_with?"](" "))){if(U=[!0," "],tt=U[0],ct=U[1],c(at)&&c(O(R.$lstrip(),"start_with?",st(V("MARKDOWN_THEMATIC_BREAK_CHARS").$keys())))&&c(V("MarkdownThematicBreakRx")["$match?"](R))){oe=V("Block").$new(q,"thematic_break",N(["content_model"],{content_model:"empty"}));break}}else if(c(R["$start_with?"](V("TAB"))))U=[!0,V("TAB")],tt=U[0],ct=U[1];else if(U=[!1,R.$chr()],tt=U[0],ct=U[1],ft=c(at)?V("HYBRID_LAYOUT_BREAK_CHARS"):V("LAYOUT_BREAK_CHARS"),c(ft["$key?"](ct))&&c(c(at)?V("ExtLayoutBreakRx")["$match?"](R):c(y=I["$uniform?"](R,ct,ut=R.$length()))?Ie(ut,2):y)){oe=V("Block").$new(q,ft["$[]"](ct),N(["content_model"],{content_model:"empty"}));break}else if(c(R["$end_with?"]("]"))&&c(R["$include?"]("::"))){if((ve(ct,"i")||c(R["$start_with?"]("video:","audio:")))&&c(V("BlockMediaMacroRx")["$=~"](R))){if(U=[((X=Ve["~"])===x?x:X["$[]"](1)).$to_sym(),(X=Ve["~"])===x?x:X["$[]"](2),(X=Ve["~"])===x?x:X["$[]"](3)],pt=U[0],ht=U[1],Et=U[2],oe=V("Block").$new(q,pt,N(["content_model"],{content_model:"empty"})),c(Et)){switch(pt){case"video":yt=["poster","width","height"];break;case"audio":yt=[];break;default:yt=["alt","width","height"]}oe.$parse_attributes(Et,yt,N(["sub_input","into"],{sub_input:!0,into:E}))}if(c(E["$key?"]("style"))&&E.$delete("style"),c(ht["$include?"](V("ATTR_REF_HEAD")))){if(c((Tt=oe.$sub_attributes(ht))["$empty?"]())&&ve(c(y=Z["$[]"]("attribute-missing"))?y:V("Compliance").$attribute_missing(),"drop-line")&&c(oe.$sub_attributes(Ue(ht," "),N(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]()))return E.$clear(),x;ht=Tt}ve(pt,"image")&&(l.$register("images",ht),E["$[]="]("imagesdir",Z["$[]"]("imagesdir")),c(y=E["$[]"]("alt"))||E["$[]="]("alt",c(qt=G)?qt:(U=["default-alt",V("Helpers").$basename(ht,!0).$tr("_-"," ")],O(E,"[]=",U),U[U.length-1])),c((wt=E.$delete("scaledwidth"))["$nil_or_empty?"]())||E["$[]="]("scaledwidth",c(V("TrailingDigitsRx")["$match?"](wt))?""+wt+"%":wt),c(E["$[]"]("title"))&&(oe["$title="](At=E.$delete("title")),oe.$assign_caption(E.$delete("caption"),"figure"))),E["$[]="]("target",ht);break}else if(ve(ct,"t")&&c(R["$start_with?"]("toc:"))&&c(V("BlockTocMacroRx")["$=~"](R))){oe=V("Block").$new(q,"toc",N(["content_model"],{content_model:"empty"})),c((U=Ve["~"])===x?x:U["$[]"](1))&&oe.$parse_attributes((U=Ve["~"])===x?x:U["$[]"](1),[],N(["into"],{into:E}));break}else if(c(c(S)?c(y=c(qt=V("CustomBlockMacroRx")["$=~"](R))?Ct=h["$registered_for_block_macro?"]((U=Ve["~"])===x?x:U["$[]"](1)):qt)?y:zt=I.$logger()["$debug?"]():c(y=I.$logger()["$debug?"]())?zt=V("CustomBlockMacroRx")["$=~"](R):y))if(c(zt))I.$logger().$debug(I.$message_with_context("unknown name for block macro: "+((U=Ve["~"])===x?x:U["$[]"](1)),N(["source_location"],{source_location:P.$cursor_at_mark()})));else{if(Jt=(U=Ve["~"])===x?x:U["$[]"](3),c((ht=(U=Ve["~"])===x?x:U["$[]"](2))["$include?"](V("ATTR_REF_HEAD")))){if(c((Tt=q.$sub_attributes(ht))["$empty?"]())&&ve(c(y=Z["$[]"]("attribute-missing"))?y:V("Compliance").$attribute_missing(),"drop-line")&&c(q.$sub_attributes(Ue(ht," "),N(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]()))return E.$clear(),x;ht=Tt}if(ve((Kt=Ct.$config())["$[]"]("content_model"),"attributes")?c(Jt)&&l.$parse_attributes(Jt,c(y=c(qt=Kt["$[]"]("positional_attrs"))?qt:Kt["$[]"]("pos_attrs"))?y:[],N(["sub_input","into"],{sub_input:!0,into:E})):E["$[]="]("text",c(y=Jt)?y:""),c(It=Kt["$[]"]("default_attrs"))&&O(E,"update",[It],function(Yt,cr){return cr==null&&(cr=x),cr}),c(oe=Ct.$process_method()["$[]"](q,ht,E))&&de(oe,q)){E.$replace(oe.$attributes());break}else return E.$clear(),x}}if(v(tt)&&ve(ct=c(y=ct)?y:R.$chr(),"<")&&c(V("CalloutListRx")["$=~"](R))){P.$unshift_line(R),oe=I.$parse_callout_list(P,Ve["~"],q,l.$callouts()),E["$[]="]("style","arabic");break}else if(c(V("UnorderedListRx")["$match?"](R))){P.$unshift_line(R),v(G)&&De(V("Section"),q)&&ve(q.$sectname(),"bibliography")&&E["$[]="]("style",G="bibliography"),oe=I.$parse_list(P,"ulist",q,G);break}else if(c(V("OrderedListRx")["$match?"](R))){P.$unshift_line(R),oe=I.$parse_list(P,"olist",q,G),c(oe.$style())&&E["$[]="]("style",oe.$style());break}else if((c(R["$include?"]("::"))||c(R["$include?"](";;")))&&c(V("DescriptionListRx")["$=~"](R))){P.$unshift_line(R),oe=I.$parse_description_list(P,Ve["~"],q);break}else if((ve(G,"float")||ve(G,"discrete"))&&c(c(V("Compliance").$underline_style_section_titles())?I["$is_section_title?"](R,P.$peek_line()):c(y=tt["$!"]())?I["$atx_section_title?"](R):y)){P.$unshift_line(R),X=I.$parse_section_title(P,l,E["$[]"]("id")),U=Ne(X),xt=U[0]==null?x:U[0],Rt=U[1]==null?x:U[1],At=U[2]==null?x:U[2],Bt=U[3]==null?x:U[3],c(Rt)&&E["$[]="]("reftext",Rt),oe=V("Block").$new(q,"floating_title",N(["content_model"],{content_model:"empty"})),oe["$title="](At),E.$delete("title"),oe["$id="](c(y=xt)?y:c(Z["$key?"]("sectids"))?V("Section").$generate_id(oe.$title(),l):x),oe["$level="](Bt);break}else if(c(G)&&de(G,"normal"))if(c(V("PARAGRAPH_STYLES")["$include?"](G))){Ee=G.$to_sym(),Ke="paragraph",P.$unshift_line(R);break}else if(c(V("ADMONITION_STYLES")["$include?"](G))){Ee="admonition",Ke="paragraph",P.$unshift_line(R);break}else if(c(f)&&c(h["$registered_for_block?"](G,"paragraph"))){Ee=G.$to_sym(),Ke="paragraph",P.$unshift_line(R);break}else c(I.$logger()["$debug?"]())&&I.$logger().$debug(I.$message_with_context("unknown style for paragraph: "+G,N(["source_location"],{source_location:P.$cursor_at_mark()}))),G=x;if(P.$unshift_line(R),c(tt)&&v(G))kt=I.$read_paragraph_lines(P,Nt=ve(u,0)?j["$[]"]("list_type"):x,N(["skip_line_comments"],{skip_line_comments:r})),I["$adjust_indentation!"](kt),c(r)||ve(Nt,"dlist")?oe=V("Block").$new(q,"paragraph",N(["content_model","source","attributes"],{content_model:"simple",source:kt,attributes:E})):oe=V("Block").$new(q,"literal",N(["content_model","source","attributes"],{content_model:"verbatim",source:kt,attributes:E}));else{if(kt=I.$read_paragraph_lines(P,c(y=u["$=="](0))?j["$[]"]("list_type"):y,N(["skip_line_comments"],{skip_line_comments:!0})),c(r))c(tt)&&ve(G,"normal")&&I["$adjust_indentation!"](kt),oe=V("Block").$new(q,"paragraph",N(["content_model","source","attributes"],{content_model:"simple",source:kt,attributes:E}));else if(c(V("ADMONITION_STYLE_HEADS")["$include?"](ct))&&c(R["$include?"](":"))&&c(V("AdmonitionParagraphRx")["$=~"](R)))kt["$[]="](0,(U=Ve["~"])===x?x:U.$post_match()),E["$[]="]("name",Wt=(U=["style",(X=Ve["~"])===x?x:X["$[]"](1)],O(E,"[]=",U),U[U.length-1]).$downcase()),E["$[]="]("textlabel",c(y=E.$delete("caption"))?y:Z["$[]"](""+Wt+"-caption")),oe=V("Block").$new(q,"admonition",N(["content_model","source","attributes"],{content_model:"simple",source:kt,attributes:E}));else if(c(at)&&ve(ct,">")&&c(R["$start_with?"]("> "))){if(O(kt,"map!",[],function(Yt){return Yt==null&&(Yt=x),ve(Yt,">")?Yt.$slice(1,Yt.$length()):c(Yt["$start_with?"]("> "))?Yt.$slice(2,Yt.$length()):Yt}),c(kt["$[]"](-1)["$start_with?"]("-- "))&&(Dt=(Dt=kt.$pop()).$slice(3,Dt.$length()),!c(kt["$empty?"]())))for(;c(kt["$[]"](-1)["$empty?"]());)kt.$pop();E["$[]="]("style","quote"),oe=I.$build_block("quote","compound",!1,q,V("Reader").$new(kt),E),c(Dt)&&(X=oe.$apply_subs(Dt).$split(", ",2),U=Ne(X),Lt=U[0]==null?x:U[0],Vt=U[1]==null?x:U[1],c(Lt)&&E["$[]="]("attribution",Lt),c(Vt)&&E["$[]="]("citetitle",Vt))}else if(ve(ct,'"')&&c(Ie(kt.$size(),1))&&c(kt["$[]"](-1)["$start_with?"]("-- "))&&c(kt["$[]"](-2)["$end_with?"]('"'))){for(kt["$[]="](0,R.$slice(1,R.$length())),Dt=(Dt=kt.$pop()).$slice(3,Dt.$length());c(kt["$[]"](-1)["$empty?"]());)kt.$pop();kt["$<<"](kt.$pop().$chop()),E["$[]="]("style","quote"),oe=V("Block").$new(q,"quote",N(["content_model","source","attributes"],{content_model:"simple",source:kt,attributes:E})),X=oe.$apply_subs(Dt).$split(", ",2),U=Ne(X),Lt=U[0]==null?x:U[0],Vt=U[1]==null?x:U[1],c(Lt)&&E["$[]="]("attribution",Lt),c(Vt)&&E["$[]="]("citetitle",Vt)}else c(tt)&&ve(G,"normal")&&I["$adjust_indentation!"](kt),oe=V("Block").$new(q,"paragraph",N(["content_model","source","attributes"],{content_model:"simple",source:kt,attributes:E}));I.$catalog_inline_anchors(kt.$join(V("LF")),oe,l,P)}break}if(!c(oe))switch(Ee){case"listing":case"source":(ve(Ee,"source")||v(E["$[]"](1))&&c(Mt=c(qt=E["$[]"](2))?qt:Z["$[]"]("source-language")))&&(c(Mt)?(E["$[]="]("style","source"),E["$[]="]("language",Mt),V("AttributeList").$rekey(E,[x,x,"linenums"])):(V("AttributeList").$rekey(E,[x,"language","linenums"]),c(E["$key?"]("language"))||c(Z["$key?"]("source-language"))&&E["$[]="]("language",Z["$[]"]("source-language"))),c(E["$key?"]("linenums"))||(c(E["$[]"]("linenums-option"))||c(Z["$[]"]("source-linenums-option")))&&E["$[]="]("linenums",""),c(E["$key?"]("indent"))||c(Z["$key?"]("source-indent"))&&E["$[]="]("indent",Z["$[]"]("source-indent"))),oe=I.$build_block("listing","verbatim",Je,q,P,E);break;case"fenced_code":E["$[]="]("style","source"),c(Ie(ut=R.$length(),3))&&(c(Ht=(Mt=R.$slice(3,ut)).$index(","))?c(Ie(Ht,0))?(Mt=Mt.$slice(0,Ht).$strip(),c(we(Ht,et(ut,4)))&&E["$[]="]("linenums","")):c(Ie(ut,4))&&E["$[]="]("linenums",""):Mt=Mt.$lstrip()),c(Mt["$nil_or_empty?"]())?c(Z["$key?"]("source-language"))&&E["$[]="]("language",Z["$[]"]("source-language")):E["$[]="]("language",Mt),c(E["$key?"]("linenums"))||(c(E["$[]"]("linenums-option"))||c(Z["$[]"]("source-linenums-option")))&&E["$[]="]("linenums",""),c(E["$key?"]("indent"))||c(Z["$key?"]("source-indent"))&&E["$[]="]("indent",Z["$[]"]("source-indent")),Je=Je.$slice(0,3),oe=I.$build_block("listing","verbatim",Je,q,P,E);break;case"table":pr=P.$cursor(),gr=V("Reader").$new(P.$read_lines_until(N(["terminator","skip_line_comments","context","cursor"],{terminator:Je,skip_line_comments:!0,context:"table",cursor:"at_mark"})),pr),c(Je["$start_with?"]("|","!"))||c(qt=E["$[]"]("format"))||E["$[]="]("format",c(Je["$start_with?"](","))?"csv":"dsv"),oe=I.$parse_table(gr,q,E);break;case"sidebar":oe=I.$build_block(Ee,"compound",Je,q,P,E);break;case"admonition":E["$[]="]("name",Wt=G.$downcase()),E["$[]="]("textlabel",c(qt=E.$delete("caption"))?qt:Z["$[]"](""+Wt+"-caption")),oe=I.$build_block(Ee,"compound",Je,q,P,E);break;case"open":case"abstract":case"partintro":oe=I.$build_block("open","compound",Je,q,P,E);break;case"literal":oe=I.$build_block(Ee,"verbatim",Je,q,P,E);break;case"example":c(E["$[]"]("collapsible-option"))&&E["$[]="]("caption",""),oe=I.$build_block(Ee,"compound",Je,q,P,E);break;case"quote":case"verse":V("AttributeList").$rekey(E,[x,"attribution","citetitle"]),oe=I.$build_block(Ee,ve(Ee,"verse")?"verbatim":"compound",Je,q,P,E);break;case"stem":case"latexmath":case"asciimath":ve(Ee,"stem")&&E["$[]="]("style",V("STEM_TYPE_ALIASES")["$[]"](c(qt=E["$[]"](2))?qt:Z["$[]"]("stem"))),oe=I.$build_block("stem","raw",Je,q,P,E);break;case"pass":oe=I.$build_block(Ee,"raw",Je,q,P,E);break;case"comment":return I.$build_block(Ee,"skip",Je,q,P,E),E.$clear(),x;default:if(c(f)&&c(Ct=h["$registered_for_block?"](Ee,Ke))){if(ve(Pr=(Kt=Ct.$config())["$[]"]("content_model"),"skip")||(c((mr=c(qt=Kt["$[]"]("positional_attrs"))?qt:Kt["$[]"]("pos_attrs"))["$nil_or_empty?"]())||V("AttributeList").$rekey(E,Ue([x],mr)),c(It=Kt["$[]"]("default_attrs"))&&O(It,"each",[],function(Yt,cr){var Sr;return Yt==null&&(Yt=x),cr==null&&(cr=x),c(qt=E["$[]"](Yt))?qt:(Sr=[Yt,cr],O(E,"[]=",Sr),Sr[Sr.length-1])}),E["$[]="]("cloaked-context",Ke)),!c(oe=I.$build_block(Ee,Pr,Je,q,P,E,N(["extension"],{extension:Ct}))))return E.$clear(),x}else I.$raise("Unsupported block type "+Ee+" at "+P.$cursor())}return c(l.$sourcemap())&&oe["$source_location="](P.$cursor_at_mark()),c(E["$[]"]("title"))&&(oe["$title="](At=E.$delete("title")),c(V("CAPTION_ATTRIBUTE_NAMES")["$[]"](oe.$context()))&&oe.$assign_caption(E.$delete("caption"))),oe["$style="](E["$[]"]("style")),c(Ur=c(y=oe.$id())?y:(U=[E["$[]"]("id")],O(oe,"id=",U),U[U.length-1]))&&(c(c(At)?At["$include?"](V("ATTR_REF_HEAD")):oe["$title?"]())&&oe.$title(),c(l.$register("refs",[Ur,oe]))||I.$logger().$warn(I.$message_with_context("id assigned to block already in use: "+Ur,N(["source_location"],{source_location:P.$cursor_at_mark()})))),c(E["$empty?"]())||oe.$update_attributes(E),oe.$commit_subs(),c(oe["$sub?"]("callouts"))&&(c(I.$catalog_callouts(oe.$source(),l))||oe.$remove_sub("callouts")),oe},-3),L(me,"$read_paragraph_lines",function(P,q,E){var j=x;return E==null&&(E=N([],{})),E["$[]="]("break_on_blank_lines",!0),E["$[]="]("break_on_list_continuation",!0),E["$[]="]("preserve_last_line",!0),j=c(q)?c(V("Compliance").$block_terminates_paragraph())?V("StartOfBlockOrListProc"):V("StartOfListProc"):c(V("Compliance").$block_terminates_paragraph())?V("StartOfBlockProc"):V("NoOp"),O(P,"read_lines_until",[E],j.$to_proc())},-3),L(me,"$is_delimited_block?",function(P,q){var E,j,U=this,X=x,I=x,u=x,r=x,l=x;if(q==null&&(q=x),!(c(Ie(X=P.$length(),1))&&c(V("DELIMITED_BLOCK_HEADS")["$[]"](P.$slice(0,2)))))return x;if(ve(X,2))I=P,u=2;else if(c(we(X,5))?(I=P,u=X):I=P.$slice(0,u=4),c(V("Compliance").$markdown_syntax())&&c(I["$start_with?"]("`"))){if(ve(u,4)){if(ve(I,"````")||de(I=I.$chop(),"```"))return x;P=I,X=u=3}else if(de(I,"```"))return x}else if(ve(u,3))return x;return j=V("DELIMITED_BLOCKS")["$[]"](I),E=Ne(j),r=E[0]==null?x:E[0],l=E[1]==null?x:E[1],c(r)&&(ve(X,u)||c(U["$uniform?"](P.$slice(1,X),V("DELIMITED_BLOCK_TAILS")["$[]"](I),et(X,1))))?c(q)?V("BlockMatchData").$new(r,l,I,P):!0:x},-2),L(me,"$build_block",function(P,q,E,j,U,X,I){var u,r=this,l=x,y=x,h=x,f=x,S=x,R=x,Z=x,G=x,oe=x,Ee=x,Ke=x;switch(I==null&&(I=N([],{})),q){case"skip":u=[!0,"simple"],l=u[0],y=u[1];break;case"raw":u=[!1,"simple"],l=u[0],y=u[1];break;default:u=[!1,q],l=u[0],y=u[1]}switch(c(E["$nil?"]())?(ve(y,"verbatim")?h=U.$read_lines_until(N(["break_on_blank_lines","break_on_list_continuation"],{break_on_blank_lines:!0,break_on_list_continuation:!0})):(ve(q,"compound")&&(q="simple"),h=r.$read_paragraph_lines(U,!1,N(["skip_line_comments","skip_processing"],{skip_line_comments:!0,skip_processing:l}))),f=x):de(y,"compound")?(h=U.$read_lines_until(N(["terminator","skip_processing","context","cursor"],{terminator:E,skip_processing:l,context:P,cursor:"at_mark"})),f=x):ve(E,!1)?(h=x,f=U):(h=x,S=U.$cursor(),f=V("Reader").$new(U.$read_lines_until(N(["terminator","skip_processing","context","cursor"],{terminator:E,skip_processing:l,context:P,cursor:"at_mark"})),S)),q){case"verbatim":R=(c(Z=X["$[]"]("tabsize"))?Z:j.$document().$attributes()["$[]"]("tabsize")).$to_i(),c(G=X["$[]"]("indent"))?r["$adjust_indentation!"](h,G.$to_i(),R):c(Ie(R,0))&&r["$adjust_indentation!"](h,-1,R);break;case"skip":return x}if(c(oe=I["$[]"]("extension")))if(X.$delete("style"),c(Ee=oe.$process_method()["$[]"](j,c(Ke=f)?Ke:V("Reader").$new(h),X.$merge()))&&de(Ee,j))X.$replace(Ee.$attributes()),ve(Ee.$content_model(),"compound")&&De(V("Block"),Ee)&&v((h=Ee.$lines())["$empty?"]())&&(q="compound",f=V("Reader").$new(h));else return x;else Ee=V("Block").$new(j,P,N(["content_model","source","attributes"],{content_model:q,source:h,attributes:X}));return ve(q,"compound")&&r.$parse_blocks(f,Ee),Ee},-7),L(me,"$parse_blocks",function(P,q,E){var j=this,U=x,X=x,I=x;if(E==null&&(E=x),c(E))for(;c(c(U=c(X=I=j.$next_block(P,q,E.$merge()))?q.$blocks()["$<<"](I):X)?U:P["$has_more_lines?"]()););else for(;c(c(U=c(X=I=j.$next_block(P,q))?q.$blocks()["$<<"](I):X)?U:P["$has_more_lines?"]()););return x},-3),L(me,"$parse_list",function(P,q,E,j){var U,X=this,I=x,u=x,r=x,l=x;for(Ve["~"]==null&&(Ve["~"]=x),I=V("List").$new(E,q),u=V("ListRxMap")["$[]"](q);c(c(r=P["$has_more_lines?"]())?u["$=~"](P.$peek_line()):r)&&(c(l=X.$parse_list_item(P,I,Ve["~"],(U=Ve["~"])===x?x:U["$[]"](1),j))&&I.$items()["$<<"](l),!!c(r=P.$skip_blank_lines())););return I}),L(me,"$catalog_callouts",function(P,q){var E=x,j=x;return E=!1,j=0,c(P["$include?"]("<"))&&O(P,"scan",[V("CalloutScanRx")],function(){var X;return c(((X=Ve["~"])===x?x:X["$[]"](0))["$start_with?"]("\\"))||q.$callouts().$register(ve((X=Ve["~"])===x?x:X["$[]"](2),".")?(j=Ue(j,1)).$to_s():(X=Ve["~"])===x?x:X["$[]"](2)),E=!0}),E}),L(me,"$catalog_inline_anchor",function(P,q,E,j,U){var X=this;return U==null&&(U=E.$document()),c(q)&&c(q["$include?"](V("ATTR_REF_HEAD")))&&(q=U.$sub_attributes(q)),c(U.$register("refs",[P,V("Inline").$new(E,"anchor",q,N(["type","id"],{type:"ref",id:P}))]))||(De(V("Reader"),j)&&(j=j.$cursor()),X.$logger().$warn(X.$message_with_context("id assigned to anchor already in use: "+P,N(["source_location"],{source_location:j})))),x},-5),L(me,"$catalog_inline_anchors",function(P,q,E,j){var U=this;return(c(P["$include?"]("[["))||c(P["$include?"]("or:")))&&O(P,"scan",[V("InlineAnchorScanRx")],function X(){var I,u=X.$$s==null?this:X.$$s,r=x,l=x,y=x,h=x;if(c(r=(I=Ve["~"])===x?x:I["$[]"](1))){if(c(l=(I=Ve["~"])===x?x:I["$[]"](2))&&c(l["$include?"](V("ATTR_REF_HEAD")))&&c((l=E.$sub_attributes(l))["$empty?"]()))return x}else r=(I=Ve["~"])===x?x:I["$[]"](3),c(l=(I=Ve["~"])===x?x:I["$[]"](4))&&(c(l["$include?"]("]"))?(l=l.$gsub("\\]","]"),c(l["$include?"](V("ATTR_REF_HEAD")))&&(l=E.$sub_attributes(l))):c(l["$include?"](V("ATTR_REF_HEAD")))&&c((l=E.$sub_attributes(l))["$empty?"]())&&(l=x));return c(E.$register("refs",[r,V("Inline").$new(q,"anchor",l,N(["type","id"],{type:"ref",id:r}))]))?x:(y=j.$cursor_at_mark(),c(Ie(h=Ue(((I=Ve["~"])===x?x:I.$pre_match()).$count(V("LF")),c(((I=Ve["~"])===x?x:I["$[]"](0))["$start_with?"](V("LF")))?1:0),0))&&(y=y.$dup()).$advance(h),u.$logger().$warn(u.$message_with_context("id assigned to anchor already in use: "+r,N(["source_location"],{source_location:y}))))},{$$s:U}),x}),L(me,"$catalog_inline_biblio_anchor",function(P,q,E,j){var U=this,X=x;return c(E.$document().$register("refs",[P,V("Inline").$new(E,"anchor",c(X=q)?"["+q+"]":X,N(["type","id"],{type:"bibref",id:P}))]))||U.$logger().$warn(U.$message_with_context("id assigned to bibliography anchor already in use: "+P,N(["source_location"],{source_location:j.$cursor()}))),x}),L(me,"$parse_description_list",function(P,q,E){var j=this,U=x,X=x,I=x,u=x,r=x;for(Ve["~"]==null&&(Ve["~"]=x),U=V("List").$new(E,"dlist"),X=V("DescriptionListSiblingRx")["$[]"](q["$[]"](2)),U.$items()["$<<"](I=j.$parse_list_item(P,U,q,X));c(c(u=P["$has_more_lines?"]())?X["$=~"](P.$peek_line()):u);)r=j.$parse_list_item(P,U,Ve["~"],X),c(I["$[]"](1))?U.$items()["$<<"](I=r):(I["$[]"](0)["$<<"](r["$[]"](0)["$[]"](0)),I["$[]="](1,r["$[]"](1)));return U}),L(me,"$parse_callout_list",function(P,q,E,j){var U=this,X=x,I=x,u=x,r=x,l=x,y=x,h=x,f=x;for(X=V("List").$new(E,"colist"),I=1,u=0;c(c(r=q)?r:c(l=q=V("CalloutListRx").$match(P.$peek_line()))?P.$mark():l);)ve(y=q["$[]"](1),".")&&(y=(u=Ue(u,1)).$to_s()),ve(y,I.$to_s())||U.$logger().$warn(U.$message_with_context("callout list item index: expected "+I+", got "+y,N(["source_location"],{source_location:P.$cursor_at_mark()}))),c(h=U.$parse_list_item(P,X,q,"<1>"))&&(X.$items()["$<<"](h),c((f=j.$callout_ids(X.$items().$size()))["$empty?"]())?U.$logger().$warn(U.$message_with_context("no callout found for <"+X.$items().$size()+">",N(["source_location"],{source_location:P.$cursor_at_mark()}))):h.$attributes()["$[]="]("coids",f)),I=Ue(I,1),q=x;return j.$next_list(),X}),L(me,"$parse_list_item",function(P,q,E,j,U){var X,I,u=this,r=x,l=x,y=x,h=x,f=x,S=x,R=x,Z=x,G=x,oe=x,Ee=x,Ke=x,Je=x,$t=x,tt=x,at=x,ct=x,ft=x,ut=x,pt=x;if(U==null&&(U=x),ve(r=q.$context(),"dlist"))l=!0,y=V("ListItem").$new(q,h=E["$[]"](1)),c(h["$start_with?"]("[["))&&c(V("LeadingInlineAnchorRx")["$=~"](h))&&u.$catalog_inline_anchor((X=Ve["~"])===x?x:X["$[]"](1),c(f=(X=Ve["~"])===x?x:X["$[]"](2))?f:((X=Ve["~"])===x?x:X.$post_match()).$lstrip(),y,P),c(S=E["$[]"](3))&&(R=!0),Z=V("ListItem").$new(q,S),c(q.$document().$sourcemap())&&(y["$source_location="](P.$cursor()),c(R)?Z["$source_location="](y.$source_location()):G=!0);else switch(R=!0,Z=V("ListItem").$new(q,S=E["$[]"](2)),c(q.$document().$sourcemap())&&Z["$source_location="](P.$cursor()),r){case"ulist":Z["$marker="](j),c(S["$start_with?"]("["))&&(c(U)&&ve(U,"bibliography")?c(V("InlineBiblioAnchorRx")["$=~"](S))&&u.$catalog_inline_biblio_anchor((X=Ve["~"])===x?x:X["$[]"](1),(X=Ve["~"])===x?x:X["$[]"](2),Z,P):c(S["$start_with?"]("[["))?c(V("LeadingInlineAnchorRx")["$=~"](S))&&u.$catalog_inline_anchor((X=Ve["~"])===x?x:X["$[]"](1),(X=Ve["~"])===x?x:X["$[]"](2),Z,P):c(S["$start_with?"]("[ ] ","[x] ","[*] "))&&(q.$set_option("checklist"),Z.$attributes()["$[]="]("checkbox",""),c(S["$start_with?"]("[ "))||Z.$attributes()["$[]="]("checked",""),Z["$text="](S.$slice(4,S.$length()))));break;case"olist":I=u.$resolve_ordered_list_marker(j,oe=q.$items().$size(),!0,P),X=Ne(I),j=X[0]==null?x:X[0],Ee=X[1]==null?x:X[1],Z["$marker="](j),ve(oe,0)&&v(U)&&q["$style="](c(Ke=Ee)?Ke:(c(Je=V("ORDERED_LIST_STYLES")["$[]"](et(j.$length(),1)))?Je:"arabic").$to_s()),c(S["$start_with?"]("[["))&&c(V("LeadingInlineAnchorRx")["$=~"](S))&&u.$catalog_inline_anchor((X=Ve["~"])===x?x:X["$[]"](1),(X=Ve["~"])===x?x:X["$[]"](2),Z,P);break;default:Z["$marker="](j),c(S["$start_with?"]("[["))&&c(V("LeadingInlineAnchorRx")["$=~"](S))&&u.$catalog_inline_anchor((X=Ve["~"])===x?x:X["$[]"](1),(X=Ve["~"])===x?x:X["$[]"](2),Z,P)}if(P.$shift(),$t=P.$cursor(),tt=V("Reader").$new(u.$read_lines_for_list_item(P,r,j,R),$t),c(tt["$has_more_lines?"]())){for(c(G)&&Z["$source_location="]($t),at=tt.$skip_line_comments(),c(ct=tt.$peek_line())&&(c(at["$empty?"]())||tt.$unshift_lines(at),c(ct["$empty?"]())||(ft=!0,c(l)||(R=x))),c(ut=u.$next_block(tt,Z,N([],{}),N(["text_only","list_type"],{text_only:c(R)?x:!0,list_type:r})))&&Z.$blocks()["$<<"](ut);c(tt["$has_more_lines?"]());)c(ut=u.$next_block(tt,Z,N([],{}),N(["list_type"],{list_type:r})))&&Z.$blocks()["$<<"](ut);c(ft)&&c(pt=Z.$blocks()["$[]"](0))&&ve(pt.$context(),"paragraph")&&Z.$fold_first()}return c(l)?[[y],c(Z["$text?"]())||c(Z["$blocks?"]())?Z:x]:Z},-5),L(me,"$read_lines_for_list_item",function(P,q,E,j){var U,X=this,I=x,u=x,r=x,l=x,y=x,h=x,f=x,S=x,R=x,Z=x,G=x,oe=x,Ee=x,Ke=x,Je=x;for(E==null&&(E=x),j==null&&(j=!0),I=[],u="inactive",r=!1,l=x,y=q["$=="]("dlist");c(P["$has_more_lines?"]())&&(h=P.$read_line(),!c(X["$is_sibling_list_item?"](h,q,E)));){if(f=c(I["$empty?"]())?x:I["$[]"](-1),ve(f,V("LIST_CONTINUATION"))&&(ve(u,"inactive")&&(u="active",j=!0,c(r)||I["$[]="](-1,"")),ve(h,V("LIST_CONTINUATION")))){de(u,"frozen")&&(u="frozen",I["$<<"](h)),h=x;continue}if(c(S=X["$is_delimited_block?"](h,!0))){if(!ve(u,"active"))break;I["$<<"](h),I.$concat(P.$read_lines_until(N(["terminator","read_last_line","context"],{terminator:S.$terminator(),read_last_line:!0,context:x}))),u="inactive"}else if(c(y)&&de(u,"active")&&c(h["$start_with?"]("["))&&c(V("BlockAttributeLineRx")["$match?"](h))){for(R=[h];c(Z=P.$peek_line());){if(c(X["$is_delimited_block?"](Z)))G=!0;else if(c(Z["$empty?"]())||c(Z["$start_with?"]("["))&&c(V("BlockAttributeLineRx")["$match?"](Z))){R["$<<"](P.$read_line());continue}else c(V("AnyListRx")["$match?"](Z))&&v(X["$is_sibling_list_item?"](Z,q,E))?I.$concat(R):G=!0;break}if(c(G)){P.$unshift_lines(R);break}}else if(ve(u,"active")&&v(h["$empty?"]()))c(V("LiteralParagraphRx")["$match?"](h))?(P.$unshift_line(h),c(y)?I.$concat(O(P,"read_lines_until",[N(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],function $t(tt){var at=$t.$$s==null?this:$t.$$s;return tt==null&&(tt=x),at["$is_sibling_list_item?"](tt,q,E)},{$$s:X})):I.$concat(P.$read_lines_until(N(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0}))),u="inactive"):ve(oe=h.$chr(),".")&&c(V("BlockTitleRx")["$match?"](h))||ve(oe,"[")&&c(V("BlockAttributeLineRx")["$match?"](h))||ve(oe,":")&&c(V("AttributeEntryRx")["$match?"](h))?I["$<<"](h):(c(Ee=O(c(r)?["dlist"]:V("NESTABLE_LIST_CONTEXTS"),"find",[],function(tt){return tt==null&&(tt=x),V("ListRxMap")["$[]"](tt)["$match?"](h)}))&&(r=!0,ve(Ee,"dlist")&&c(((U=Ve["~"])===x?x:U["$[]"](3))["$nil_or_empty?"]())&&(j=!1)),I["$<<"](h),u="inactive");else if(c(f)&&c(f["$empty?"]())){if(c(h["$empty?"]())&&(!c(h=c(Ke=P.$skip_blank_lines())?P.$read_line():Ke)||c(X["$is_sibling_list_item?"](h,q,E))))break;if(ve(h,V("LIST_CONTINUATION")))l=I.$size(),I["$<<"](h);else if(c(j)){if(c(X["$is_sibling_list_item?"](h,q,E)))break;if(c(Ee=O(V("NESTABLE_LIST_CONTEXTS"),"find",[],function(tt){return tt==null&&(tt=x),V("ListRxMap")["$[]"](tt)["$=~"](h)})))I["$<<"](h),r=!0,ve(Ee,"dlist")&&c(((U=Ve["~"])===x?x:U["$[]"](3))["$nil_or_empty?"]())&&(j=!1);else if(c(V("LiteralParagraphRx")["$match?"](h)))P.$unshift_line(h),c(y)?I.$concat(O(P,"read_lines_until",[N(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],function $t(tt){var at=$t.$$s==null?this:$t.$$s;return tt==null&&(tt=x),at["$is_sibling_list_item?"](tt,q,E)},{$$s:X})):I.$concat(P.$read_lines_until(N(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})));else break}else c(r)||I.$pop(),I["$<<"](h),j=!0}else c(h["$empty?"]())||(j=!0),c(Ee=O(c(r)?["dlist"]:V("NESTABLE_LIST_CONTEXTS"),"find",[],function(tt){return tt==null&&(tt=x),V("ListRxMap")["$[]"](tt)["$=~"](h)}))&&(r=!0,ve(Ee,"dlist")&&c(((U=Ve["~"])===x?x:U["$[]"](3))["$nil_or_empty?"]())&&(j=!1)),I["$<<"](h);h=x}for(c(h)&&P.$unshift_line(h),c(l)&&I["$[]="](l,"");!c(I["$empty?"]());)if(c((Je=I["$[]"](-1))["$empty?"]()))I.$pop();else{ve(Je,V("LIST_CONTINUATION"))&&I.$pop();break}return I},-3),L(me,"$initialize_section",function(P,q,E){var j,U,X=this,I=x,u=x,r=x,l=x,y=x,h=x,f=x,S=x,R=x,Z=x,G=x,oe=x,Ee=x,Ke=x,Je=x,$t=x,tt=x;return E==null&&(E=N([],{})),I=q.$document(),u=(r=I.$doctype())["$=="]("book"),c(I.$sourcemap())&&(l=P.$cursor()),y=E["$[]"](1),U=X.$parse_section_title(P,I,E["$[]"]("id")),j=Ne(U),h=j[0]==null?x:j[0],f=j[1]==null?x:j[1],S=j[2]==null?x:j[2],R=j[3]==null?x:j[3],Z=j[4]==null?x:j[4],c(y)?c(u)&&ve(y,"abstract")?(j=["chapter",1],G=j[0],R=j[1]):c(y["$start_with?"]("sect"))&&c(V("SectionLevelStyleRx")["$match?"](y))?G="section":(j=[y,!0],G=j[0],oe=j[1],ve(R,0)&&(R=1),Ee=G["$=="]("appendix")):c(u)?G=ve(R,0)?"part":c(Ie(R,1))?"section":"chapter":ve(r,"manpage")&&ve(S.$casecmp("synopsis"),0)?(j=["synopsis",!0],G=j[0],oe=j[1]):G="section",c(f)&&E["$[]="]("reftext",f),Ke=V("Section").$new(q,R),j=[h,S,G,l],U=[j[0]],O(Ke,"id=",U),U[U.length-1],U=[j[1]],O(Ke,"title=",U),U[U.length-1],U=[j[2]],O(Ke,"sectname=",U),U[U.length-1],U=[j[3]],O(Ke,"source_location=",U),U[U.length-1],c(oe)?(Ke["$special="](!0),c(Ee)?Ke["$numbered="](!0):ve(I.$attributes()["$[]"]("sectnums"),"all")&&Ke["$numbered="](c(u)&&ve(R,1)?"chapter":!0)):c(I.$attributes()["$[]"]("sectnums"))&&c(Ie(R,0))?Ke["$numbered="](c(Ke.$special())?c(Je=q.$numbered())||Je:!0):c(u)&&ve(R,0)&&c(I.$attributes()["$[]"]("partnums"))&&Ke["$numbered="](!0),c($t=c(Je=Ke.$id())?Je:(j=[c(I.$attributes()["$key?"]("sectids"))?tt=V("Section").$generate_id(Ke.$title(),I):x],O(Ke,"id=",j),j[j.length-1]))&&(c(tt)||v(S["$include?"](V("ATTR_REF_HEAD")))||Ke.$title(),c(I.$register("refs",[$t,Ke]))||X.$logger().$warn(X.$message_with_context("id assigned to section already in use: "+$t,N(["source_location"],{source_location:P.$cursor_at_line(et(P.$lineno(),c(Z)?1:2))})))),Ke.$update_attributes(E),P.$skip_blank_lines(),Ke},-3),L(me,"$is_next_line_section?",function(P,q){var E=this,j=x,U=x,X=x;return c(j=q["$[]"](1))&&(ve(j,"discrete")||ve(j,"float"))?x:c(V("Compliance").$underline_style_section_titles())?(U=P.$peek_lines(2,c(X=j)?j["$=="]("comment"):X),E["$is_section_title?"](c(X=U["$[]"](0))?X:"",U["$[]"](1))):E["$atx_section_title?"](c(X=P.$peek_line())?X:"")}),L(me,"$is_next_line_doctitle?",function(P,q,E){var j=this,U=x,X=x;return c(E)?c(U=X=j["$is_next_line_section?"](P,q))?Ue(X,E.$to_i())["$=="](0):U:j["$is_next_line_section?"](P,q)["$=="](0)}),L(me,"$is_section_title?",function(P,q){var E=this,j=x;return q==null&&(q=x),c(j=E["$atx_section_title?"](P))?j:c(q["$nil_or_empty?"]())?x:E["$setext_section_title?"](P,q)},-2),L(me,"$atx_section_title?",function(P){var q,E=x;return c(c(V("Compliance").$markdown_syntax())?c(E=P["$start_with?"]("=","#"))?V("ExtAtxSectionTitleRx")["$=~"](P):E:c(E=P["$start_with?"]("="))?V("AtxSectionTitleRx")["$=~"](P):E)?et(((q=Ve["~"])===x?x:q["$[]"](1)).$length(),1):x}),L(me,"$setext_section_title?",function(P,q){var E=this,j=x,U=x,X=x;return c(U=V("SETEXT_SECTION_LEVELS")["$[]"](X=q.$chr()))&&c(E["$uniform?"](q,X,j=q.$length()))&&c(V("SetextSectionTitleRx")["$match?"](P))&&c(we(et(P.$length(),j).$abs(),2))?U:x}),L(me,"$parse_section_title",function(P,q,E){var j,U,X=this,I=x,u=x,r=x,l=x,y=x,h=x,f=x,S=x,R=x;return E==null&&(E=x),I=x,u=P.$read_line(),c(c(V("Compliance").$markdown_syntax())?c(r=u["$start_with?"]("=","#"))?V("ExtAtxSectionTitleRx")["$=~"](u):r:c(r=u["$start_with?"]("="))?V("AtxSectionTitleRx")["$=~"](u):r)?(j=[et(((U=Ve["~"])===x?x:U["$[]"](1)).$length(),1),(U=Ve["~"])===x?x:U["$[]"](2),!0],l=j[0],y=j[1],h=j[2],c(E)||c(y["$end_with?"]("]]"))&&c(V("InlineSectionAnchorRx")["$=~"](y))&&v((j=Ve["~"])===x?x:j["$[]"](1))&&(j=[y.$slice(0,et(y.$length(),((U=Ve["~"])===x?x:U["$[]"](0)).$length())),(U=Ve["~"])===x?x:U["$[]"](2),(U=Ve["~"])===x?x:U["$[]"](3)],y=j[0],E=j[1],I=j[2])):c(V("Compliance").$underline_style_section_titles())&&c(R=P.$peek_line(!0))&&c(l=V("SETEXT_SECTION_LEVELS")["$[]"](S=R.$chr()))&&c(X["$uniform?"](R,S,f=R.$length()))&&c(y=c(r=V("SetextSectionTitleRx")["$=~"](u))?(j=Ve["~"])===x?x:j["$[]"](1):r)&&c(we(et(u.$length(),f).$abs(),2))?(h=!1,c(E)||c(y["$end_with?"]("]]"))&&c(V("InlineSectionAnchorRx")["$=~"](y))&&v((j=Ve["~"])===x?x:j["$[]"](1))&&(j=[y.$slice(0,et(y.$length(),((U=Ve["~"])===x?x:U["$[]"](0)).$length())),(U=Ve["~"])===x?x:U["$[]"](2),(U=Ve["~"])===x?x:U["$[]"](3)],y=j[0],E=j[1],I=j[2]),P.$shift()):X.$raise("Unrecognized section at "+P.$cursor_at_prev_line()),c(q["$attr?"]("leveloffset"))&&(l=Ue(l,q.$attr("leveloffset").$to_i()),c(we(l,0))&&(l=0)),[E,I,y,l,h]},-3),L(me,"$parse_header_metadata",function(P,q,E){var j,U=this,X=x,I=x,u=x,r=x,l=x,y=x,h=x,f=x,S=x,R=x,Z=x,G=x,oe=x,Ee=x,Ke=x,Je=x,$t=x,tt=x,at=x;if(q==null&&(q=x),E==null&&(E=!0),X=c(I=q)?q.$attributes():I,U.$process_attribute_entries(P,q),c(P["$has_more_lines?"]())&&v(P["$next_line_empty?"]())?(u=(r=U.$process_authors(P.$read_line())).$delete("authorcount"),c(q)&&c(Ie((j=["authorcount",u],O(X,"[]=",j),j[j.length-1]),0))&&(O(r,"each",[],function(ft,ut){var pt;return ft==null&&(ft=x),ut==null&&(ut=x),c(X["$key?"](ft))?x:(pt=[ft,q.$apply_header_subs(ut)],O(X,"[]=",pt),pt[pt.length-1])}),l=X["$[]"]("author"),y=X["$[]"]("authorinitials"),h=X["$[]"]("authors")),r["$[]="]("authorcount",u),U.$process_attribute_entries(P,q),c(P["$has_more_lines?"]())&&v(P["$next_line_empty?"]())&&(f=P.$read_line(),c(S=V("RevisionInfoLineRx").$match(f))?(R=N([],{}),c(S["$[]"](1))&&R["$[]="]("revnumber",S["$[]"](1).$rstrip()),c((Z=S["$[]"](2).$strip())["$empty?"]())||(v(S["$[]"](1))&&c(Z["$start_with?"]("v"))?R["$[]="]("revnumber",Z.$slice(1,Z.$length())):R["$[]="]("revdate",Z)),c(S["$[]"](3))&&R["$[]="]("revremark",S["$[]"](3).$rstrip()),c(q)&&v(R["$empty?"]())&&O(R,"each",[],function(ft,ut){var pt;return ft==null&&(ft=x),ut==null&&(ut=x),c(X["$key?"](ft))?x:(pt=[ft,q.$apply_header_subs(ut)],O(X,"[]=",pt),pt[pt.length-1])})):P.$unshift_line(f)),U.$process_attribute_entries(P,q),P.$skip_blank_lines()):r=N([],{}),c(q)){if(c(X["$key?"]("author"))&&de(G=X["$[]"]("author"),l))oe=U.$process_authors(G,!0,!1),de(X["$[]"]("authorinitials"),y)&&oe.$delete("authorinitials");else if(c(X["$key?"]("authors"))&&de(G=X["$[]"]("authors"),h))oe=U.$process_authors(G,!0);else{for(j=[[],1,"author_1",!1,!1],Ee=j[0],Ke=j[1],Je=j[2],$t=j[3],tt=j[4];c(X["$key?"](Je));)ve(at=X["$[]"](Je),r["$[]"](Je))?(Ee["$<<"](x),tt=!0):(Ee["$<<"](at),$t=!0),Je="author_"+(Ke=Ue(Ke,1));c($t)?(c(tt)&&O(Ee,"each_with_index",[],function(ft,ut){var pt,ht=x;return ft==null&&(ft=x),ut==null&&(ut=x),c(ft)?x:(pt=[ut,O([r["$[]"]("firstname_"+(ht=Ue(ut,1))),r["$[]"]("middlename_"+ht),r["$[]"]("lastname_"+ht)].$compact(),"map",[],function(yt){return yt==null&&(yt=x),yt.$tr(" ","_")}).$join(" ")],O(Ee,"[]=",pt),pt[pt.length-1])}),oe=U.$process_authors(Ee,!0,!1)):oe=N(["authorcount"],{authorcount:0})}ve(oe["$[]"]("authorcount"),0)?c(u)?oe=x:X["$[]="]("authorcount",0):(X.$update(oe),v(X["$key?"]("email"))&&c(X["$key?"]("email_1"))&&X["$[]="]("email",X["$[]"]("email_1")))}return c(E)?r.$merge(R.$to_h(),oe.$to_h()):x},-2),L(me,"$process_authors",function(P,q,E){var j=x,U=x;return q==null&&(q=!1),E==null&&(E=!0),j=N([],{}),U=0,O(c(E)&&c(P["$include?"](";"))?P.$split(V("AuthorDelimiterRx")):[].concat(st(P)),"each",[],function(I){var u,r=x,l=x,y=x,h=x,f=x,S=x,R=x;return I==null&&(I=x),c(I["$empty?"]())?x:(r=N([],{}),ve(U=Ue(U,1),1)?O(V("AuthorKeys"),"each",[],function(G){var oe;return G==null&&(G=x),oe=[G.$to_sym(),G],O(r,"[]=",oe),oe[oe.length-1]}):O(V("AuthorKeys"),"each",[],function(G){var oe;return G==null&&(G=x),oe=[G.$to_sym(),""+G+"_"+U],O(r,"[]=",oe),oe[oe.length-1]}),c(q)?(c(I["$include?"]("<"))&&(j["$[]="](r["$[]"]("author"),I.$tr("_"," ")),I=I.$gsub(V("XmlSanitizeRx"),"")),ve((l=I.$split(x,3)).$size(),3)&&l["$<<"](l.$pop().$squeeze(" "))):c(y=V("AuthorInfoLineRx").$match(I))&&(l=y.$to_a()).$shift(),c(l)?(h=(u=[r["$[]"]("firstname"),f=l["$[]"](0).$tr("_"," ")],O(j,"[]=",u),u[u.length-1]),j["$[]="](r["$[]"]("authorinitials"),f.$chr()),c(l["$[]"](1))&&(c(l["$[]"](2))?(j["$[]="](r["$[]"]("middlename"),S=l["$[]"](1).$tr("_"," ")),j["$[]="](r["$[]"]("lastname"),R=l["$[]"](2).$tr("_"," ")),h=Ue(Ue(Ue(Ue(f," "),S)," "),R),j["$[]="](r["$[]"]("authorinitials"),""+f.$chr()+S.$chr()+R.$chr())):(j["$[]="](r["$[]"]("lastname"),R=l["$[]"](1).$tr("_"," ")),h=Ue(Ue(f," "),R),j["$[]="](r["$[]"]("authorinitials"),""+f.$chr()+R.$chr()))),c(j["$[]"](r["$[]"]("author")))||j["$[]="](r["$[]"]("author"),h),c(q)||v(l["$[]"](3))||j["$[]="](r["$[]"]("email"),l["$[]"](3))):(j["$[]="](r["$[]"]("author"),(u=[r["$[]"]("firstname"),f=I.$squeeze(" ").$strip()],O(j,"[]=",u),u[u.length-1])),j["$[]="](r["$[]"]("authorinitials"),f.$chr())),ve(U,1)?(u=["authors",j["$[]"](r["$[]"]("author"))],O(j,"[]=",u),u[u.length-1]):(ve(U,2)&&O(V("AuthorKeys"),"each",[],function(G){var oe;return G==null&&(G=x),c(j["$key?"](G))?(oe=[""+G+"_1",j["$[]"](G)],O(j,"[]=",oe),oe[oe.length-1]):x}),u=["authors",""+j["$[]"]("authors")+", "+j["$[]"](r["$[]"]("author"))],O(j,"[]=",u),u[u.length-1]))}),j["$[]="]("authorcount",U),j},-2),L(me,"$parse_block_metadata_lines",function(P,q,E,j){var U=this;for(E==null&&(E=N([],{})),j==null&&(j=N([],{}));c(U.$parse_block_metadata_line(P,q,E,j))&&(P.$shift(),!!c(P.$skip_blank_lines())););return E},-3),L(me,"$parse_block_metadata_line",function(P,q,E,j){var U,X=this,I=x,u=x,r=x,l=x,y=x,h=x;if(Ve["~"]==null&&(Ve["~"]=x),j==null&&(j=N([],{})),c(u=P.$peek_line())&&c(c(j["$[]"]("text_only"))?u["$start_with?"]("[","/"):I=u["$start_with?"]("[",".","/",":"))){if(c(u["$start_with?"]("["))){if(c(u["$start_with?"]("[["))){if(c(u["$end_with?"]("]]"))&&c(V("BlockAnchorRx")["$=~"](u)))return E["$[]="]("id",(U=Ve["~"])===x?x:U["$[]"](1)),c(r=(U=Ve["~"])===x?x:U["$[]"](2))&&E["$[]="]("reftext",c(r["$include?"](V("ATTR_REF_HEAD")))?q.$sub_attributes(r):r),!0}else if(c(u["$end_with?"]("]"))&&c(V("BlockAttributeListRx")["$=~"](u)))return l=E["$[]"](1),c(q.$parse_attributes((U=Ve["~"])===x?x:U["$[]"](1),[],N(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!0,into:E}))["$[]"](1))&&E["$[]="](1,c(y=X.$parse_style_attribute(E,P))?y:l),!0}else if(c(I)&&c(u["$start_with?"]("."))){if(c(V("BlockTitleRx")["$=~"](u)))return E["$[]="]("title",(U=Ve["~"])===x?x:U["$[]"](1)),!0}else if(v(I)||c(u["$start_with?"]("/"))){if(c(u["$start_with?"]("//"))){if(ve(u,"//"))return!0;if(c(I)&&c(X["$uniform?"](u,"/",h=u.$length()))){if(!ve(h,3))return P.$read_lines_until(N(["terminator","skip_first_line","preserve_last_line","skip_processing","context"],{terminator:u,skip_first_line:!0,preserve_last_line:!0,skip_processing:!0,context:"comment"})),!0}else if(!c(u["$start_with?"]("///")))return!0}}else if(c(I)&&c(u["$start_with?"](":"))&&c(V("AttributeEntryRx")["$=~"](u)))return X.$process_attribute_entry(P,q,E,Ve["~"]),!0}return x},-4),L(me,"$process_attribute_entries",function(P,q,E){var j=this;for(E==null&&(E=x),P.$skip_comment_lines();c(j.$process_attribute_entry(P,q,E));)P.$shift(),P.$skip_comment_lines()},-3),L(me,"$process_attribute_entry",function(P,q,E,j){var U,X=this,I=x,u=x,r=x,l=x,y=x,h=x;if(E==null&&(E=x),j==null&&(j=x),c(j)||c(j=c(P["$has_more_lines?"]())?V("AttributeEntryRx").$match(P.$peek_line()):x)){if(c((I=j["$[]"](2))["$nil_or_empty?"]()))I="";else if(c(I["$end_with?"](V("LINE_CONTINUATION"),V("LINE_CONTINUATION_LEGACY"))))for(U=[I.$slice(et(I.$length(),2),2),I.$slice(0,et(I.$length(),2)).$rstrip()],u=U[0],I=U[1];c(c(r=P.$advance())?(l=c(y=P.$peek_line())?y:"")["$empty?"]()["$!"]():r)&&(l=l.$lstrip(),c(h=l["$end_with?"](u))&&(l=l.$slice(0,et(l.$length(),2)).$rstrip()),I=""+I+(c(I["$end_with?"](V("HARD_LINE_BREAK")))?V("LF"):" ")+l,!!c(h)););return X.$store_attribute(j["$[]"](1),I,q,E),!0}else return x},-3),L(me,"$store_attribute",function(P,q,E,j){var U=this,X=x;return E==null&&(E=x),j==null&&(j=x),c(P["$end_with?"]("!"))?(P=P.$chop(),q=x):c(P["$start_with?"]("!"))&&(P=P.$slice(1,P.$length()),q=x),ve(P=U.$sanitize_attribute_name(P),"numbered")?P="sectnums":ve(P,"hardbreaks")?P="hardbreaks-option":ve(P,"showtitle")&&U.$store_attribute("notitle",c(q)?x:"",E,j),c(E)?c(q)?(ve(P,"leveloffset")&&(c(q["$start_with?"]("+"))?q=Ue(E.$attr("leveloffset",0).$to_i(),q.$slice(1,q.$length()).$to_i()).$to_s():c(q["$start_with?"]("-"))&&(q=et(E.$attr("leveloffset",0).$to_i(),q.$slice(1,q.$length()).$to_i()).$to_s())),c(X=E.$set_attribute(P,q))&&(q=X,c(j)&&Xe(V("Document"),"AttributeEntry").$new(P,q).$save_to(j))):c(E.$delete_attribute(P))&&c(j)&&Xe(V("Document"),"AttributeEntry").$new(P,q).$save_to(j):c(j)&&Xe(V("Document"),"AttributeEntry").$new(P,q).$save_to(j),[P,q]},-3),L(me,"$resolve_list_marker",function(P,q,E,j,U){var X=this;switch(E==null&&(E=0),j==null&&(j=!1),U==null&&(U=x),P){case"ulist":return q;case"olist":return X.$resolve_ordered_list_marker(q,E,j,U)["$[]"](0);default:return"<1>"}},-3),L(me,"$resolve_ordered_list_marker",function(P,q,E,j){var U=this,X=x,I=x,u=x;if(q==null&&(q=0),E==null&&(E=!1),j==null&&(j=x),c(P["$start_with?"](".")))return[P];switch(X=O(V("ORDERED_LIST_STYLES"),"find",[],function(l){return l==null&&(l=x),V("OrderedListMarkerRxMap")["$[]"](l)["$match?"](P)})){case"arabic":c(E)&&(I=Ue(q,1),u=P.$to_i()),P="1.";break;case"loweralpha":c(E)&&(I=Ue("a"["$[]"](0).$ord(),q).$chr(),u=P.$chop()),P="a.";break;case"upperalpha":c(E)&&(I=Ue("A"["$[]"](0).$ord(),q).$chr(),u=P.$chop()),P="A.";break;case"lowerroman":c(E)&&(I=V("Helpers").$int_to_roman(Ue(q,1)).$downcase(),u=P.$chop()),P="i)";break;case"upperroman":c(E)&&(I=V("Helpers").$int_to_roman(Ue(q,1)),u=P.$chop()),P="I)";break}return c(E)&&de(I,u)&&U.$logger().$warn(U.$message_with_context("list item index: expected "+I+", got "+u,N(["source_location"],{source_location:j.$cursor()}))),[P,X]},-2),L(me,"$is_sibling_list_item?",function(P,q,E){var j,U=this,X=x;return De(Xe("Regexp"),E)?E["$match?"](P):c(X=V("ListRxMap")["$[]"](q)["$=~"](P))?E["$=="](U.$resolve_list_marker(q,(j=Ve["~"])===x?x:j["$[]"](1))):X}),L(me,"$parse_table",function(P,q,E){var j,U,X,I=this,u=x,r=x,l=x,y=x,h=x,f=x,S=x,R=x,Z=x,G=x,oe=x,Ee=x,Ke=x,Je=x,$t=x,tt=x,at=x,ct=x;for(u=V("Table").$new(q,E),c(E["$key?"]("cols"))&&v((r=I.$parse_colspecs(E["$[]"]("cols")))["$empty?"]())&&(u.$create_columns(r),l=!0),y=c(h=P.$skip_blank_lines())?h:0,c(E["$[]"]("header-option"))?u["$has_header_option="](!0):ve(y,0)&&v(E["$[]"]("noheader-option"))&&(u["$has_header_option="]("implicit"),f=!0),S=Xe(V("Table"),"ParserContext").$new(P,u,E),j=[S.$format(),-1,x],R=j[0],Z=j[1],G=j[2];c(oe=P.$read_line());){for(c(Ee=Ie(Z=Ue(Z,1),0))&&c(oe["$empty?"]())?(oe=x,c(G)&&(G=Ue(G,1))):ve(R,"psv")&&(c(S["$starts_with_delimiter?"](oe))?(oe=oe.$slice(1,oe.$length()),S.$close_open_cell(),c(G)&&(G=x)):(U=I.$parse_cellspec(oe,"start",S.$delimiter()),j=Ne(U),Ke=j[0]==null?x:j[0],oe=j[1]==null?x:j[1],c(Ke)?(S.$close_open_cell(Ke),c(G)&&(G=x)):c(G)&&ve(G,Z)&&u["$has_header_option="](f=G=x))),c(Ee)||(P.$mark(),c(f)&&(c(P["$has_more_lines?"]())&&c(P.$peek_line()["$empty?"]())?G=1:u["$has_header_option="](f=x))),j=!1;j||c(!0);)if(j=!1,c(oe)&&c(Je=S.$match_delimiter(oe))){if(U=[Je.$pre_match(),Je.$post_match()],$t=U[0],tt=U[1],De("csv",h=R)){if(c(S["$buffer_has_unclosed_quotes?"]($t))){if(S.$skip_past_delimiter($t),c((oe=tt)["$empty?"]()))break;j=!0;continue}S["$buffer="](""+S.$buffer()+$t)}else if(De("dsv",h)){if(c($t["$end_with?"]("\\"))){if(S.$skip_past_escaped_delimiter($t),c((oe=tt)["$empty?"]())){S["$buffer="](""+S.$buffer()+V("LF")),S.$keep_cell_open();break}j=!0;continue}S["$buffer="](""+S.$buffer()+$t)}else{if(c($t["$end_with?"]("\\"))){if(S.$skip_past_escaped_delimiter($t),c((oe=tt)["$empty?"]())){S["$buffer="](""+S.$buffer()+V("LF")),S.$keep_cell_open();break}j=!0;continue}X=I.$parse_cellspec($t),U=Ne(X),Ke=U[0]==null?x:U[0],at=U[1]==null?x:U[1],S.$push_cellspec(Ke),S["$buffer="](""+S.$buffer()+at)}c((oe=tt)["$empty?"]())&&(oe=x),S.$close_cell()}else{switch(S["$buffer="](""+S.$buffer()+oe+V("LF")),R){case"csv":c(S["$buffer_has_unclosed_quotes?"]())?(c(G)&&ve(Z,0)&&u["$has_header_option="](f=G=x),S.$keep_cell_open()):S.$close_cell(!0);break;case"dsv":S.$close_cell(!0);break;default:S.$keep_cell_open()}break}if(c(S["$cell_open?"]()))c(P["$has_more_lines?"]())||S.$close_cell(!0);else if(!c(h=P.$skip_blank_lines()))break}return ve((ct=u.$attributes(),c(h=ct["$[]"]("colcount"))?h:(j=["colcount",u.$columns().$size()],O(ct,"[]=",j),j[j.length-1])),0)||c(l)||u.$assign_column_widths(),c(f)&&u["$has_header_option="](!0),u.$partition_header_footer(E),u}),L(me,"$parse_colspecs",function(P){var q=x;return c(P["$include?"](" "))&&(P=P.$delete(" ")),ve(P,P.$to_i().$to_s())?O(Xe("Array"),"new",[P.$to_i()],function(){return N(["width"],{width:1})}):(q=[],O(c(P["$include?"](","))?P.$split(",",-1):P.$split(";",-1),"each",[],function(j){var U,X,I=x,u=x,r=x,l=x,y=x;return j==null&&(j=x),c(j["$empty?"]())?q["$<<"](N(["width"],{width:1})):c(I=V("ColumnSpecRx").$match(j))?(u=N([],{}),c(I["$[]"](2))&&(X=I["$[]"](2).$split("."),U=Ne(X),r=U[0]==null?x:U[0],l=U[1]==null?x:U[1],v(r["$nil_or_empty?"]())&&c(V("TableCellHorzAlignments")["$key?"](r))&&u["$[]="]("halign",V("TableCellHorzAlignments")["$[]"](r)),v(l["$nil_or_empty?"]())&&c(V("TableCellVertAlignments")["$key?"](l))&&u["$[]="]("valign",V("TableCellVertAlignments")["$[]"](l))),c(y=I["$[]"](3))?u["$[]="]("width",ve(y,"~")?-1:y.$to_i()):u["$[]="]("width",1),c(I["$[]"](4))&&c(V("TableCellStyles")["$key?"](I["$[]"](4)))&&u["$[]="]("style",V("TableCellStyles")["$[]"](I["$[]"](4))),c(I["$[]"](1))?O(1,"upto",[I["$[]"](1).$to_i()],function(){return q["$<<"](u.$merge())}):q["$<<"](u)):x}),q)}),L(me,"$parse_cellspec",function(P,q,E){var j,U,X=x,I=x,u=x,r=x,l=x,y=x;if(q==null&&(q="end"),E==null&&(E=x),j=[x,""],X=j[0],I=j[1],ve(q,"start"))if(c(P["$include?"](E)))if(U=P.$partition(E),j=Ne(U),u=j[0]==null?x:j[0],j[1]==null||j[1],I=j[2]==null?x:j[2],c(X=V("CellSpecStartRx").$match(u))){if(c(X["$[]"](0)["$empty?"]()))return[N([],{}),I]}else return[x,P];else return[x,P];else if(c(X=V("CellSpecEndRx").$match(P))){if(c(X["$[]"](0).$lstrip()["$empty?"]()))return[N([],{}),P.$rstrip()];I=X.$pre_match()}else return[N([],{}),P];if(r=N([],{}),c(X["$[]"](1)))switch(U=X["$[]"](1).$split("."),j=Ne(U),l=j[0]==null?x:j[0],y=j[1]==null?x:j[1],l=c(l["$nil_or_empty?"]())?1:l.$to_i(),y=c(y["$nil_or_empty?"]())?1:y.$to_i(),X["$[]"](2)){case"+":ve(l,1)||r["$[]="]("colspan",l),ve(y,1)||r["$[]="]("rowspan",y);break;case"*":ve(l,1)||r["$[]="]("repeatcol",l);break}return c(X["$[]"](3))&&(U=X["$[]"](3).$split("."),j=Ne(U),l=j[0]==null?x:j[0],y=j[1]==null?x:j[1],v(l["$nil_or_empty?"]())&&c(V("TableCellHorzAlignments")["$key?"](l))&&r["$[]="]("halign",V("TableCellHorzAlignments")["$[]"](l)),v(y["$nil_or_empty?"]())&&c(V("TableCellVertAlignments")["$key?"](y))&&r["$[]="]("valign",V("TableCellVertAlignments")["$[]"](y))),c(X["$[]"](4))&&c(V("TableCellStyles")["$key?"](X["$[]"](4)))&&r["$[]="]("style",V("TableCellStyles")["$[]"](X["$[]"](4))),[r,I]},-2),L(me,"$parse_style_attribute",function(P,q){var E,j=this,U=x,X=x,I=x,u=x,r=x,l=x;return q==null&&(q=x),c(U=P["$[]"](1))&&v(U["$include?"](" "))&&c(V("Compliance").$shorthand_property_syntax())?(X=x,I="",u=N([],{}),O(U,"each_char",[],function y(h){var f=y.$$s==null?this:y.$$s;switch(h==null&&(h=x),h){case".":return f.$yield_buffered_attribute(u,X,I,q),I="",X="role";case"#":return f.$yield_buffered_attribute(u,X,I,q),I="",X="id";case"%":return f.$yield_buffered_attribute(u,X,I,q),I="",X="option";default:return I=Ue(I,h)}},{$$s:j}),c(X)?(j.$yield_buffered_attribute(u,X,I,q),c(r=u["$[]"]("style"))&&P["$[]="]("style",r),c(u["$key?"]("id"))&&P["$[]="]("id",u["$[]"]("id")),c(u["$key?"]("role"))&&P["$[]="]("role",c((l=P["$[]"]("role"))["$nil_or_empty?"]())?u["$[]"]("role").$join(" "):""+l+" "+u["$[]"]("role").$join(" ")),c(u["$key?"]("option"))&&O(u["$[]"]("option"),"each",[],function(h){var f;return h==null&&(h=x),f=[""+h+"-option",""],O(P,"[]=",f),f[f.length-1]}),r):(E=["style",U],O(P,"[]=",E),E[E.length-1])):(E=["style",U],O(P,"[]=",E),E[E.length-1])},-2),L(me,"$yield_buffered_attribute",function(P,q,E,j){var U,X=this,I=x;return c(q)?c(E["$empty?"]())?c(j)?X.$logger().$warn(X.$message_with_context("invalid empty "+q+" detected in style attribute",N(["source_location"],{source_location:j.$cursor_at_prev_line()}))):X.$logger().$warn("invalid empty "+q+" detected in style attribute"):ve(q,"id")?(c(P["$key?"]("id"))&&(c(j)?X.$logger().$warn(X.$message_with_context("multiple ids detected in style attribute",N(["source_location"],{source_location:j.$cursor_at_prev_line()}))):X.$logger().$warn("multiple ids detected in style attribute")),P["$[]="](q,E)):(c(I=P["$[]"](q))?I:(U=[q,[]],O(P,"[]=",U),U[U.length-1]))["$<<"](E):c(E["$empty?"]())||P["$[]="]("style",E),x}),L(me,"$adjust_indentation!",function(P,q,E){var j=x,U=x,X=x;return q==null&&(q=0),E==null&&(E=0),c(P["$empty?"]())||(c(Ie(E,0))&&c(O(P,"any?",[],function(u){return u==null&&(u=x),u["$include?"](V("TAB"))}))&&(j=Me(" ",E),O(P,"map!",[],function(u){var r=x,l=x,y=x,h=x,f=x;return u==null&&(u=x),c(u["$empty?"]())||c((r=u.$index(V("TAB")))["$nil?"]())||ve(r,0)&&(l=0,function(){try{var S=Ge("break");return O(u,"each_byte",[],function(Z){return Z==null&&(Z=x),ve(Z,9)||S.$throw(),l=Ue(l,1)})}catch(R){if(R===S)return R.$v;throw R}}(),u=""+Me(j,l)+u.$slice(l,u.$length()),!c(u["$include?"](V("TAB"))))?u:(y=0,h=0,f="",O(u,"each_char",[],function(R){var Z=x,G=x;return R==null&&(R=x),ve(R,V("TAB"))?ve((Z=Ue(h,y))["$%"](E),0)?(y=Ue(y,et(E,1)),f=Ue(f,j)):(ve(G=et(E,Z["$%"](E)),1)||(y=Ue(y,et(G,1))),f=Ue(f,Me(" ",G))):f=Ue(f,R),h=Ue(h,1)}),f)})),c(we(q,0)))||(U=x,function(){try{var I=Ge("break");return O(P,"each",[],function(r){var l=x;return r==null&&(r=x),c(r["$empty?"]())||(ve(l=et(r.$length(),r.$lstrip().$length()),0)&&(U=x,I.$throw()),c(U)&&c(we(U,l)))?x:U=l})}catch(u){if(u===I)return u.$v;throw u}}(),ve(q,0)?c(U)&&O(P,"map!",[],function(u){return u==null&&(u=x),c(u["$empty?"]())?u:u.$slice(U,u.$length())}):(X=Me(" ",q),c(U)?O(P,"map!",[],function(u){return u==null&&(u=x),c(u["$empty?"]())?u:Ue(X,u.$slice(U,u.$length()))}):O(P,"map!",[],function(u){return u==null&&(u=x),c(u["$empty?"]())?u:Ue(X,u)}))),x},-2),L(me,"$uniform?",function(P,q,E){return P.$count(q)["$=="](E)}),L(me,"$sanitize_attribute_name",function(P){return P.$gsub(V("InvalidAttributeNameCharsRx"),"").$downcase()})}(B[0],null,B)}(it[0],it)},Opal.modules["asciidoctor/path_resolver"]=function(t){var W=t.module,H=t.klass,T=t.const_set,O=t.truthy,c=t.hash2,N=t.def,Ne=t.eqeq,L=t.alias,ve=t.rb_plus,v=t.to_ary,Ve=t.send,de=t.not,Ue=t.neqeq,we=t.rb_gt,Ie=t.gvars,st=[],De=t.nil,et=t.$$$;return t.add_stubs("include,attr_accessor,root?,posixify,expand_path,pwd,start_with?,==,match?,absolute_path?,+,length,descends_from?,slice,to_s,relative_path_from,new,include?,tr,partition_path,each,pop,<<,join_path,[],web_root?,unc?,index,split,delete,[]=,join,raise,!,fetch,warn,logger,empty?,nil_or_empty?,chomp,!=,>,size,extract_uri_prefix,end_with?,gsub,private,=~"),function(Me,Ge){var it=W(Me,"Asciidoctor"),x=[it].concat(Ge);return function(Xe,g,Ze){var rt=H(Xe,g,"PathResolver"),B=[rt].concat(Ze),A=t.$r(B),Be=rt.$$prototype;return Be.file_separator=Be._partition_path_web=Be._partition_path_sys=Be.working_dir=De,rt.$include(A("Logging")),T(B[0],"DOT","."),T(B[0],"DOT_DOT",".."),T(B[0],"DOT_SLASH","./"),T(B[0],"SLASH","/"),T(B[0],"BACKSLASH","\\"),T(B[0],"DOUBLE_SLASH","//"),T(B[0],"URI_CLASSLOADER","uri:classloader:"),T(B[0],"WindowsRootRx",/^(?:[a-zA-Z]:)?[\\\/]/),rt.$attr_accessor("file_separator"),rt.$attr_accessor("working_dir"),N(rt,"$initialize",function(me,fe){var V=this,te=De,P=De;return me==null&&(me=De),fe==null&&(fe=De),V.file_separator=O(te=O(P=me)?P:et(et("File"),"ALT_SEPARATOR"))?te:et(et("File"),"SEPARATOR"),V.working_dir=O(fe)?O(V["$root?"](fe))?V.$posixify(fe):et("File").$expand_path(fe):et("Dir").$pwd(),V._partition_path_sys=c([],{}),V._partition_path_web=c([],{})},-1),N(rt,"$absolute_path?",function(me){var fe=this,V=De,te=De;return O(V=me["$start_with?"](A("SLASH")))?V:O(te=fe.file_separator["$=="](A("BACKSLASH")))?A("WindowsRootRx")["$match?"](me):te}),Ne(A("RUBY_ENGINE"),"opal")&&Ne(et("JAVASCRIPT_IO_MODULE"),"xmlhttprequest")?N(rt,"$root?",function(me){var fe=this,V=De;return O(V=fe["$absolute_path?"](me))?V:me["$start_with?"]("file://","http://","https://")}):Ne(et("RUBY_ENGINE"),"jruby")?N(rt,"$root?",function(me){var fe=this,V=De;return O(V=fe["$absolute_path?"](me))?V:me["$start_with?"](A("URI_CLASSLOADER"))}):L(rt,"root?","absolute_path?"),N(rt,"$unc?",function(me){return me["$start_with?"](A("DOUBLE_SLASH"))}),N(rt,"$web_root?",function(me){return me["$start_with?"](A("SLASH"))}),N(rt,"$descends_from?",function(me,fe){var V=De;return Ne(fe,me)?0:Ne(fe,A("SLASH"))?O(V=me["$start_with?"](A("SLASH")))?1:V:O(V=me["$start_with?"](ve(fe,A("SLASH"))))?ve(fe.$length(),1):V}),N(rt,"$relative_path",function(me,fe){var V=this,te=De;if(O(V["$root?"](me))){if(O(te=V["$descends_from?"](me,fe)))return me.$slice(te,me.$length());try{return A("Pathname").$new(me).$relative_path_from(A("Pathname").$new(fe)).$to_s()}catch(P){if(t.rescue(P,[A("StandardError")]))try{return me}finally{t.pop_exception()}else throw P}}else return me}),N(rt,"$posixify",function(me){var fe=this;return O(me)?Ne(fe.file_separator,A("BACKSLASH"))&&O(me["$include?"](A("BACKSLASH")))?me.$tr(A("BACKSLASH"),A("SLASH")):me:""}),L(rt,"posixfy","posixify"),N(rt,"$expand_path",function(me){var fe,V,te=this,P=De,q=De,E=De;return V=te.$partition_path(me),fe=v(V),P=fe[0]==null?De:fe[0],q=fe[1]==null?De:fe[1],O(me["$include?"](A("DOT_DOT")))?(E=[],Ve(P,"each",[],function(U){return U==null&&(U=De),Ne(U,A("DOT_DOT"))?E.$pop():E["$<<"](U)}),te.$join_path(E,q)):te.$join_path(P,q)}),N(rt,"$partition_path",function(me,fe){var V,te=this,P=De,q=De,E=De,j=De,U=De;return fe==null&&(fe=De),O(P=(q=O(fe)?te._partition_path_web:te._partition_path_sys)["$[]"](me))?P:(E=te.$posixify(me),O(fe)?O(te["$web_root?"](E))?j=A("SLASH"):O(E["$start_with?"](A("DOT_SLASH")))&&(j=A("DOT_SLASH")):O(te["$root?"](E))?O(te["$unc?"](E))?j=A("DOUBLE_SLASH"):O(E["$start_with?"](A("SLASH")))?j=A("SLASH"):O(E["$start_with?"](A("URI_CLASSLOADER")))?j=E.$slice(0,A("URI_CLASSLOADER").$length()):j=E.$slice(0,ve(E.$index(A("SLASH")),1)):O(E["$start_with?"](A("DOT_SLASH")))&&(j=A("DOT_SLASH")),U=(O(j)?E.$slice(j.$length(),E.$length()):E).$split(A("SLASH")),U.$delete(A("DOT")),V=[me,[U,j]],Ve(q,"[]=",V),V[V.length-1])},-2),N(rt,"$join_path",function(me,fe){return fe==null&&(fe=De),O(fe)?""+fe+me.$join(A("SLASH")):me.$join(A("SLASH"))},-2),N(rt,"$system_path",function(me,fe,V,te){var P,q,E=this,j=De,U=De,X=De,I=De,u=De,r=De,l=De,y=De,h=De,f=De,S=De;if(fe==null&&(fe=De),V==null&&(V=De),te==null&&(te=c([],{})),O(V)&&(O(E["$root?"](V))||E.$raise(et("SecurityError"),"Jail is not an absolute path: "+V),V=E.$posixify(V)),O(me))if(O(E["$root?"](me))){if(j=E.$expand_path(me),O(V)&&de(E["$descends_from?"](j,V))){if(O(te.$fetch("recover",!0)))return E.$logger().$warn(""+(O(U=te["$[]"]("target_name"))?U:"path")+" is outside of jail; recovering automatically"),q=E.$partition_path(j),P=v(q),X=P[0]==null?De:P[0],q=E.$partition_path(V),P=v(q),I=P[0]==null?De:P[0],u=P[1]==null?De:P[1],E.$join_path(ve(I,X),u);E.$raise(et("SecurityError"),""+(O(U=te["$[]"]("target_name"))?U:"path")+" "+me+" is outside of jail: "+V+" (disallowed in safe mode)")}return j}else q=E.$partition_path(me),P=v(q),X=P[0]==null?De:P[0];else X=[];if(O(X["$empty?"]())){if(O(fe["$nil_or_empty?"]()))return O(U=V)?U:E.working_dir;if(O(E["$root?"](fe)))if(O(V))fe=E.$posixify(fe);else return E.$expand_path(fe);else q=E.$partition_path(fe),P=v(q),X=P[0]==null?De:P[0],fe=O(U=V)?U:E.working_dir}else O(fe["$nil_or_empty?"]())?fe=O(U=V)?U:E.working_dir:O(E["$root?"](fe))?O(V)&&(fe=E.$posixify(fe)):fe=""+(O(U=V)?U:E.working_dir).$chomp("/")+"/"+fe;return O(V)&&O(r=E["$descends_from?"](fe,V)["$!"]())&&Ne(E.file_separator,A("BACKSLASH"))?(q=E.$partition_path(fe),P=v(q),l=P[0]==null?De:P[0],y=P[1]==null?De:P[1],q=E.$partition_path(V),P=v(q),I=P[0]==null?De:P[0],u=P[1]==null?De:P[1],Ue(y,u)&&(O(te.$fetch("recover",!0))?(E.$logger().$warn("start path for "+(O(U=te["$[]"]("target_name"))?U:"path")+" is outside of jail root; recovering automatically"),l=I,r=!1):E.$raise(et("SecurityError"),"start path for "+(O(U=te["$[]"]("target_name"))?U:"path")+" "+fe+" refers to location outside jail root: "+V+" (disallowed in safe mode)"))):(q=E.$partition_path(fe),P=v(q),l=P[0]==null?De:P[0],u=P[1]==null?De:P[1]),O((h=ve(l,X))["$include?"](A("DOT_DOT")))&&(P=[h,[]],f=P[0],h=P[1],O(V)?(O(I)||(q=E.$partition_path(V),P=v(q),I=P[0]==null?De:P[0]),S=!1,Ve(f,"each",[],function R(Z){var G=R.$$s==null?this:R.$$s;return Z==null&&(Z=De),Ne(Z,A("DOT_DOT"))?O(we(h.$size(),I.$size()))?h.$pop():O(te.$fetch("recover",!0))?O(S)?De:(G.$logger().$warn(""+(O(U=te["$[]"]("target_name"))?U:"path")+" has illegal reference to ancestor of jail; recovering automatically"),S=!0):G.$raise(et("SecurityError"),""+(O(U=te["$[]"]("target_name"))?U:"path")+" "+me+" refers to location outside jail: "+V+" (disallowed in safe mode)"):h["$<<"](Z)},{$$s:E})):Ve(f,"each",[],function(Z){return Z==null&&(Z=De),Ne(Z,A("DOT_DOT"))?h.$pop():h["$<<"](Z)})),O(r)?(j=E.$join_path(h,u),O(E["$descends_from?"](j,V))?j:O(te.$fetch("recover",!0))?(E.$logger().$warn(""+(O(U=te["$[]"]("target_name"))?U:"path")+" is outside of jail; recovering automatically"),O(I)||(q=E.$partition_path(V),P=v(q),I=P[0]==null?De:P[0]),E.$join_path(ve(I,X),u)):E.$raise(et("SecurityError"),""+(O(U=te["$[]"]("target_name"))?U:"path")+" "+me+" is outside of jail: "+V+" (disallowed in safe mode)")):E.$join_path(h,u)},-2),N(rt,"$web_path",function(me,fe){var V,te,P=this,q=De,E=De,j=De,U=De,X=De;return fe==null&&(fe=De),me=P.$posixify(me),fe=P.$posixify(fe),O(fe["$nil_or_empty?"]())||O(P["$web_root?"](me))||(te=P.$extract_uri_prefix(""+fe+(O(fe["$end_with?"](A("SLASH")))?"":A("SLASH"))+me),V=v(te),me=V[0]==null?De:V[0],q=V[1]==null?De:V[1]),te=P.$partition_path(me,!0),V=v(te),E=V[0]==null?De:V[0],j=V[1]==null?De:V[1],U=[],Ve(E,"each",[],function(u){return u==null&&(u=De),Ne(u,A("DOT_DOT"))?O(U["$empty?"]())?O(j)&&Ue(j,A("DOT_SLASH"))?De:U["$<<"](u):Ne(U["$[]"](-1),A("DOT_DOT"))?U["$<<"](u):U.$pop():U["$<<"](u)}),O((X=P.$join_path(U,j))["$include?"](" "))&&(X=X.$gsub(" ","%20")),O(q)?""+q+X:X},-2),rt.$private(),N(rt,"$extract_uri_prefix",function(me){var fe;return O(me["$include?"](":"))&&O(A("UriSniffRx")["$=~"](me))?[me.$slice(((fe=Ie["~"])===De?De:fe["$[]"](0)).$length(),me.$length()),(fe=Ie["~"])===De?De:fe["$[]"](0)]:me})}(x[0],null,x)}(st[0],st)},Opal.modules["asciidoctor/reader"]=function(t){var W=t.module,H=t.klass,T=t.def,O=t.rb_plus,c=t.alias,N=t.hash2,Ne=t.not,L=t.eqeqeq,ve=t.to_ary,v=t.truthy,Ve=t.rb_gt,de=t.send,Ue=t.rb_minus,we=t.thrower,Ie=t.eqeq,st=t.rb_times,De=t.neqeq,et=t.to_a,Me=t.assign_ivar_val,Ge=t.send2,it=t.find_super,x=t.rb_ge,Xe=t.gvars,g=t.rb_lt,Ze=t.hash,rt=[],B=t.nil,A=t.$$$;return t.add_stubs("include,attr_reader,+,line_info,attr_accessor,!,===,split,file,dir,dirname,path,basename,lineno,reverse,prepare_lines,empty?,nil_or_empty?,peek_line,[],>,slice,length,process_line,times,shift,read_line,<<,-,unshift_all,has_more_lines?,read_lines,join,unshift,unshift_line,unshift_lines,replace_next_line,start_with?,==,*,read_lines_until,size,clear,cursor,[]=,fetch,!=,cursor_at_mark,warn,logger,message_with_context,pop,push,respond_to?,reverse_each,new,tap,each,instance_variables,instance_variable_get,drop,instance_variable_set,class,object_id,inspect,private,prepare_source_array,prepare_source_string,chomp,valid_encoding?,to_s,raise,to_i,attributes,catalog,pop_include,parse,path=,dup,end_with?,keys,rindex,rootname,key?,attr,reverse!,>=,exceeds_max_depth?,nil?,include_processors?,extensions,extensions?,include_processors,map,skip_front_matter!,adjust_indentation!,include?,=~,preprocess_conditional_directive,preprocess_include_directive,downcase,error,none?,any?,all?,strip,send,resolve_expr_val,rstrip,sub_attributes,attribute_missing,info,parse_attributes,find,handles?,instance,process_method,safe,resolve_include_path,method,split_delimited_value,partition,<,to_a,uniq,sort,call,each_line,infinite?,push_include,delete,first,values,value?,create_include_cursor,delete_at,keep_if,read,uriish?,attr?,require_library,normalize_system_path,file?,relative_path,path_resolver,base_dir,to_f"),function(Be,$e){var me=W(Be,"Asciidoctor"),fe=[me].concat($e),V=t.$r(fe);return function(te,P,q){var E=H(te,P,"Reader"),j=[E].concat(q),U=t.$r(j),X=E.$$prototype;return X.file=X.lines=X.look_ahead=X.unescape_next_line=X.lineno=X.process_lines=X.dir=X.path=X.mark=X.source_lines=X.saved=B,E.$include(U("Logging")),function(I,u){var r=H(I,u,"Cursor"),l=r.$$prototype;return l.lineno=l.path=B,r.$attr_reader("file","dir","path","lineno"),T(r,"$initialize",function(h,f,S,R){var Z,G=this;return f==null&&(f=B),S==null&&(S=B),R==null&&(R=1),Z=[h,f,S,R],G.file=Z[0],G.dir=Z[1],G.path=Z[2],G.lineno=Z[3],Z},-2),T(r,"$advance",function(h){var f=this;return f.lineno=O(f.lineno,h)}),T(r,"$line_info",function(){var h=this;return""+h.path+": line "+h.lineno}),c(r,"to_s","line_info")}(j[0],null),E.$attr_reader("file"),E.$attr_reader("dir"),E.$attr_reader("path"),E.$attr_reader("lineno"),E.$attr_reader("source_lines"),E.$attr_accessor("process_lines"),E.$attr_accessor("unterminated"),T(E,"$initialize",function(u,r,l){var y,h,f=this,S=B;return u==null&&(u=B),r==null&&(r=B),l==null&&(l=N([],{})),Ne(r)?(f.file=B,f.dir=".",f.path="<stdin>",f.lineno=1):L(A("String"),r)?(f.file=r,h=A("File").$split(f.file),y=ve(h),f.dir=y[0]==null?B:y[0],f.path=y[1]==null?B:y[1],f.lineno=1):(v(f.file=r.$file())?(f.dir=v(S=r.$dir())?S:A("File").$dirname(f.file),f.path=v(S=r.$path())?S:A("File").$basename(f.file)):(f.dir=v(S=r.$dir())?S:".",f.path=v(S=r.$path())?S:"<stdin>"),f.lineno=v(S=r.$lineno())?S:1),f.lines=(f.source_lines=f.$prepare_lines(u,l)).$reverse(),f.mark=B,f.look_ahead=0,f.process_lines=!0,f.unescape_next_line=!1,f.unterminated=B,f.saved=B},-1),T(E,"$has_more_lines?",function(){var u=this;return v(u.lines["$empty?"]())?(u.look_ahead=0,!1):!0}),T(E,"$empty?",function(){var u=this;return v(u.lines["$empty?"]())?(u.look_ahead=0,!0):!1}),c(E,"eof?","empty?"),T(E,"$next_line_empty?",function(){var u=this;return u.$peek_line()["$nil_or_empty?"]()}),T(E,"$peek_line",function(u){var r=this,l=B,y=B;for(u==null&&(u=!1);v(!0);){if(l=r.lines["$[]"](-1),v(u)||v(Ve(r.look_ahead,0)))return v(r.unescape_next_line)?l.$slice(1,l.$length()):l;if(v(l)){if(v(y=r.$process_line(l)))return y}else return r.look_ahead=0,B}},-1),T(E,"$peek_lines",function(u,r){var l=this,y=B,h=B,f=B;return u==null&&(u=B),r==null&&(r=!1),y=l.look_ahead,h=[],function(){try{var S=we("break");return de(v(f=u)?f:U("MAX_INT"),"times",[],function R(){var Z=R.$$s==null?this:R.$$s,G=B;if(Z.lineno==null&&(Z.lineno=B),v(G=v(r)?Z.$shift():Z.$read_line()))return h["$<<"](G);v(r)&&(Z.lineno=Ue(Z.lineno,1)),S.$throw()},{$$s:l})}catch(R){if(R===S)return R.$v;throw R}}(),v(h["$empty?"]())||(l.$unshift_all(h),v(r)&&(l.look_ahead=y)),h},-1),T(E,"$read_line",function(){var u=this;return v(Ve(u.look_ahead,0))||v(u["$has_more_lines?"]())?u.$shift():B}),T(E,"$read_lines",function(){var u=this,r=B;for(r=[];v(u["$has_more_lines?"]());)r["$<<"](u.$shift());return r}),c(E,"readlines","read_lines"),T(E,"$read",function(){var u=this;return u.$read_lines().$join(U("LF"))}),T(E,"$advance",function(){var u=this;return!!v(u.$shift())}),T(E,"$unshift_line",function(u){var r=this;return r.$unshift(u),B}),c(E,"restore_line","unshift_line"),T(E,"$unshift_lines",function(u){var r=this;return r.$unshift_all(u)}),c(E,"restore_lines","unshift_lines"),T(E,"$replace_next_line",function(u){var r=this;return r.$shift(),r.$unshift(u),!0}),c(E,"replace_line","replace_next_line"),T(E,"$skip_blank_lines",function(){var u=this,r=B,l=B;if(v(u["$empty?"]()))return B;for(r=0;v(l=u.$peek_line());)if(v(l["$empty?"]()))u.$shift(),r=O(r,1);else return r}),T(E,"$skip_comment_lines",function(){var u=this,r=B,l=B,y=B;if(v(u["$empty?"]()))return B;for(;v(v(r=l=u.$peek_line())?l["$empty?"]()["$!"]():r)&&v(l["$start_with?"]("//"));)if(v(l["$start_with?"]("///")))if(v(Ve(y=l.$length(),3))&&Ie(l,st("/",y)))u.$read_lines_until(N(["terminator","skip_first_line","read_last_line","skip_processing","context"],{terminator:l,skip_first_line:!0,read_last_line:!0,skip_processing:!0,context:"comment"}));else break;else u.$shift();return B}),T(E,"$skip_line_comments",function(){var u=this,r=B,l=B,y=B;if(v(u["$empty?"]()))return[];for(r=[];v(v(l=y=u.$peek_line())?y["$empty?"]()["$!"]():l)&&v(y["$start_with?"]("//"));)r["$<<"](u.$shift());return r}),T(E,"$terminate",function(){var u=this;return u.lineno=O(u.lineno,u.lines.$size()),u.lines.$clear(),u.look_ahead=0,B}),T(E,"$read_lines_until",function I(u){var r,l=I.$$p||B,y=this,h=B,f=B,S=B,R=B,Z=B,G=B,oe=B,Ee=B,Ke=B,Je=B,$t=B,tt=B,at=B,ct=B,ft=B,ut=B;for(I.$$p=null,u==null&&(u=N([],{})),h=[],v(y.process_lines)&&v(u["$[]"]("skip_processing"))&&(y.process_lines=!1,f=!0),v(S=u["$[]"]("terminator"))?(R=v(Z=u["$[]"]("cursor"))?Z:y.$cursor(),G=!1,oe=!1):(G=u["$[]"]("break_on_blank_lines"),oe=u["$[]"]("break_on_list_continuation")),Ee=u["$[]"]("skip_line_comments"),Ke=Je=B,v(u["$[]"]("skip_first_line"))&&y.$shift();v($t=y.$read_line());){if(v(v(S)?$t["$=="](S):v(Z=v(tt=v(at=G)?$t["$empty?"]():at)?tt:v(at=v(ct=v(ft=oe)?Ke:ft)?$t["$=="](U("LIST_CONTINUATION")):ct)?(r=["preserve_last_line",!0],de(u,"[]=",r),r[r.length-1]):at)?Z:v(tt=l!==B)?t.yield1(l,$t):tt)){v(u["$[]"]("read_last_line"))&&h["$<<"]($t),v(u["$[]"]("preserve_last_line"))&&(y.$unshift($t),Je=!0);break}v(Ee)&&v($t["$start_with?"]("//"))&&Ne($t["$start_with?"]("///"))||(h["$<<"]($t),Ke=!0)}return v(f)&&(y.process_lines=!0,v(Je)&&Ne(S)&&(y.look_ahead=Ue(y.look_ahead,1))),v(S)&&De(S,$t)&&v(ut=u.$fetch("context",S))&&(Ie(R,"at_mark")&&(R=y.$cursor_at_mark()),y.$logger().$warn(y.$message_with_context("unterminated "+ut+" block",N(["source_location"],{source_location:R}))),y.unterminated=!0),h},-1),T(E,"$shift",function(){var u=this;return u.lineno=O(u.lineno,1),Ie(u.look_ahead,0)||(u.look_ahead=Ue(u.look_ahead,1)),u.lines.$pop()}),T(E,"$unshift",function(u){var r=this;return r.lineno=Ue(r.lineno,1),r.look_ahead=O(r.look_ahead,1),r.lines.$push(u),B}),Ie(A("RUBY_ENGINE"),"jruby")?T(E,"$unshift_all",function(u){var r=this;return r.lineno=Ue(r.lineno,u.$size()),r.look_ahead=O(r.look_ahead,u.$size()),v(u["$respond_to?"]("reverse"))?de(r.lines,"push",et(u.$reverse())):de(u,"reverse_each",[],function l(y){var h=l.$$s==null?this:l.$$s;return h.lines==null&&(h.lines=B),y==null&&(y=B),h.lines.$push(y)},{$$s:r}),B}):T(E,"$unshift_all",function(u){var r=this;return r.lineno=Ue(r.lineno,u.$size()),r.look_ahead=O(r.look_ahead,u.$size()),de(r.lines,"push",et(u.$reverse())),B}),T(E,"$cursor",function(){var u=this;return U("Cursor").$new(u.file,u.dir,u.path,u.lineno)}),T(E,"$cursor_at_line",function(u){var r=this;return U("Cursor").$new(r.file,r.dir,r.path,u)}),T(E,"$cursor_at_mark",function(){var u=this;return v(u.mark)?de(U("Cursor"),"new",et(u.mark)):u.$cursor()}),T(E,"$cursor_before_mark",function(){var u,r,l=this,y=B,h=B,f=B,S=B;return v(l.mark)?(r=l.mark,u=ve(r),y=u[0]==null?B:u[0],h=u[1]==null?B:u[1],f=u[2]==null?B:u[2],S=u[3]==null?B:u[3],U("Cursor").$new(y,h,f,Ue(S,1))):U("Cursor").$new(l.file,l.dir,l.path,Ue(l.lineno,1))}),T(E,"$cursor_at_prev_line",function(){var u=this;return U("Cursor").$new(u.file,u.dir,u.path,Ue(u.lineno,1))}),T(E,"$mark",function(){var u=this;return u.mark=[u.file,u.dir,u.path,u.lineno]}),T(E,"$line_info",function(){var u=this;return""+u.path+": line "+u.lineno}),T(E,"$lines",function(){var u=this;return u.lines.$reverse()}),T(E,"$string",function(){var u=this;return u.lines.$reverse().$join(U("LF"))}),T(E,"$source",function(){var u=this;return u.source_lines.$join(U("LF"))}),T(E,"$save",function(){var u=this;return u.saved=de(N([],{}),"tap",[],function r(l){var y=r.$$s==null?this:r.$$s;return l==null&&(l=B),de(y.$instance_variables(),"each",[],function h(f){var S,R=h.$$s==null?this:h.$$s,Z=B;return f==null&&(f=B),Ie(f,"@saved")||Ie(f,"@source_lines")?B:(S=[f,L(A("Array"),Z=R.$instance_variable_get(f))?Z.$drop(0):Z],de(l,"[]=",S),S[S.length-1])},{$$s:y})},{$$s:u}),B}),T(E,"$restore_save",function(){var u=this;return v(u.saved)?(de(u.saved,"each",[],function r(l,y){var h=r.$$s==null?this:r.$$s;return l==null&&(l=B),y==null&&(y=B),h.$instance_variable_set(l,y)},{$$s:u}),u.saved=B):B}),T(E,"$discard_save",Me("saved",B)),T(E,"$to_s",function(){var u=this;return"#<"+u.$class()+"@"+u.$object_id()+" {path: "+u.path.$inspect()+", line: "+u.lineno+"}>"}),E.$private(),T(E,"$prepare_lines",function(u,r){var l=this,y=B;r==null&&(r=N([],{}));try{return v(y=r["$[]"]("normalize"))?L(A("Array"),u)?U("Helpers").$prepare_source_array(u,y["$!="]("chomp")):U("Helpers").$prepare_source_string(u,y["$!="]("chomp")):L(A("Array"),u)?u.$drop(0):v(u)?u.$chomp().$split(U("LF"),-1):[]}catch(h){if(t.rescue(h,[U("StandardError")]))try{return v((L(A("Array"),u)?u.$join():u.$to_s())["$valid_encoding?"]())?l.$raise():l.$raise(A("ArgumentError"),"source is either binary or contains invalid Unicode data")}finally{t.pop_exception()}else throw h}},-2),T(E,"$process_line",function(u){var r=this;return v(r.process_lines)&&(r.look_ahead=O(r.look_ahead,1)),u})}(fe[0],null,fe),function(te,P,q){var E=H(te,P,"PreprocessorReader"),j=[E].concat(q),U=t.$r(j),X=E.$$prototype;return X.include_stack=X.lines=X.file=X.dir=X.path=X.lineno=X.maxdepth=X.process_lines=X.includes=X.document=X.unescape_next_line=X.include_processor_extensions=X.look_ahead=X.skipping=X.conditional_stack=B,E.$attr_reader("include_stack"),T(E,"$initialize",function I(u,r,l,y){I.$$p;var h=this,f=B,S=B;return I.$$p=null,r==null&&(r=B),l==null&&(l=B),y==null&&(y=N([],{})),h.document=u,Ge(h,it(h,"initialize",I,!1,!0),"initialize",[r,l,y],null),v(Ve(f=(v(S=u.$attributes()["$[]"]("max-include-depth"))?S:64).$to_i(),0))?h.maxdepth=N(["abs","curr","rel"],{abs:f,curr:f,rel:f}):h.maxdepth=B,h.include_stack=[],h.includes=u.$catalog()["$[]"]("includes"),h.skipping=!1,h.conditional_stack=[],h.include_processor_extensions=B},-2),T(E,"$has_more_lines?",function(){var u=this;return!!v(u.$peek_line())}),T(E,"$empty?",function(){var u=this;return!v(u.$peek_line())}),c(E,"eof?","empty?"),T(E,"$peek_line",function I(u){var r=I.$$p||B,l=this,y=B;return I.$$p=null,u==null&&(u=!1),v(y=Ge(l,it(l,"peek_line",I,!1,!0),"peek_line",[u],r))?y:v(l.include_stack["$empty?"]())?B:(l.$pop_include(),l.$peek_line(u))},-1),T(E,"$push_include",function(u,r,l,y,h){var f=this,S=B,R=B,Z=B,G=B,oe=B,Ee=B;return r==null&&(r=B),l==null&&(l=B),y==null&&(y=1),h==null&&(h=N([],{})),f.include_stack["$<<"]([f.lines,f.file,f.dir,f.path,f.lineno,f.maxdepth,f.process_lines]),v(f.file=r)?(L(A("String"),r)?f.dir=A("File").$dirname(r):v(U("RUBY_ENGINE_OPAL"))?f.dir=A("URI").$parse(A("File").$dirname(r=r.$to_s())):((f.dir=r.$dup())["$path="](Ie(S=A("File").$dirname(r.$path()),"/")?"":S),r=r.$to_s()),f.path=l=v(R=l)?R:A("File").$basename(r),v(f.process_lines=de(r,"end_with?",et(U("ASCIIDOC_EXTENSIONS").$keys())))&&(v(R=f.includes["$[]"](l.$slice(0,l.$rindex("."))))||f.includes["$[]="](l.$slice(0,l.$rindex(".")),v(h["$[]"]("partial-option"))?B:!0))):(f.dir=".",f.process_lines=!0,v(f.path=l)?v(R=f.includes["$[]"](U("Helpers").$rootname(l)))||f.includes["$[]="](U("Helpers").$rootname(l),v(h["$[]"]("partial-option"))?B:!0):f.path="<stdin>"),f.lineno=y,v(f.maxdepth)&&v(h["$key?"]("depth"))&&(v(Ve(Z=h["$[]"]("depth").$to_i(),0))?(v(Ve(G=O(f.include_stack.$size(),Z),oe=f.maxdepth["$[]"]("abs")))&&(G=Z=oe),f.maxdepth=N(["abs","curr","rel"],{abs:oe,curr:G,rel:Z})):f.maxdepth=N(["abs","curr","rel"],{abs:f.maxdepth["$[]"]("abs"),curr:f.include_stack.$size(),rel:0})),v((f.lines=f.$prepare_lines(u,N(["normalize","condense","indent"],{normalize:v(R=f.process_lines)?R:"chomp",condense:!1,indent:h["$[]"]("indent")})))["$empty?"]())?f.$pop_include():(v(h["$key?"]("leveloffset"))?(f.lines=O(O([v(Ee=f.document.$attr("leveloffset"))?":leveloffset: "+Ee:":leveloffset!:",""],f.lines.$reverse()),["",":leveloffset: "+h["$[]"]("leveloffset")]),f.lineno=Ue(f.lineno,2)):f.lines["$reverse!"](),f.look_ahead=0),f},-2),T(E,"$include_depth",function(){var u=this;return u.include_stack.$size()}),T(E,"$exceeds_max_depth?",function(){var u=this,r=B,l=B;return v(r=v(l=u.maxdepth)?x(u.include_stack.$size(),u.maxdepth["$[]"]("curr")):l)?u.maxdepth["$[]"]("rel"):r}),c(E,"exceeded_max_depth?","exceeds_max_depth?"),T(E,"$shift",function I(){var u=I.$$p||B,r=this,l=B;return I.$$p=null,v(r.unescape_next_line)?(r.unescape_next_line=!1,(l=Ge(r,it(r,"shift",I,!1,!0),"shift",[],u)).$slice(1,l.$length())):Ge(r,it(r,"shift",I,!1,!0),"shift",[],u)}),T(E,"$include_processors?",function(){var u=this;return v(u.include_processor_extensions["$nil?"]())?v(u.document["$extensions?"]())&&v(u.document.$extensions()["$include_processors?"]())?(u.include_processor_extensions=u.document.$extensions().$include_processors())["$!"]()["$!"]():u.include_processor_extensions=!1:u.include_processor_extensions["$!="](!1)}),T(E,"$create_include_cursor",function(u,r,l){var y=B;return L(A("String"),u)?y=A("File").$dirname(u):v(U("RUBY_ENGINE_OPAL"))?y=A("File").$dirname(u=u.$to_s()):(y=Ie(y=A("File").$dirname(u.$path()),"")?"/":y,u=u.$to_s()),U("Cursor").$new(u,y,r,l)}),T(E,"$to_s",function(){var u=this;return"#<"+u.$class()+"@"+u.$object_id()+" {path: "+u.path.$inspect()+", line: "+u.lineno+", include depth: "+u.include_stack.$size()+", include stack: ["+de(u.include_stack,"map",[],function(l){return l==null&&(l=B),l.$to_s()}).$join(", ")+"]}>"}),E.$private(),T(E,"$prepare_lines",function I(u,r){var l=I.$$p||B,y=this,h=B,f=B,S=B,R=B;if(I.$$p=null,r==null&&(r=N([],{})),h=Ge(y,it(y,"prepare_lines",I,!1,!0),"prepare_lines",[u,r],l),v(y.document)&&v(y.document.$attributes()["$[]"]("skip-front-matter"))&&v(f=y["$skip_front_matter!"](h))&&y.document.$attributes()["$[]="]("front-matter",f.$join(U("LF"))),v(r.$fetch("condense",!0)))for(;v(v(S=R=h["$[]"](-1))?R["$empty?"]():S);)h.$pop();return v(r["$[]"]("indent"))&&U("Parser")["$adjust_indentation!"](h,r["$[]"]("indent").$to_i(),y.document.$attr("tabsize").$to_i()),h},-2),T(E,"$process_line",function(u){var r,l=this;return v(l.process_lines)?v(u["$empty?"]())?(l.look_ahead=O(l.look_ahead,1),u):v(u["$end_with?"]("]"))&&Ne(u["$start_with?"]("["))&&v(u["$include?"]("::"))?v(u["$include?"]("if"))&&v(U("ConditionalDirectiveRx")["$=~"](u))?Ie((r=Xe["~"])===B?B:r["$[]"](1),"\\")?(l.unescape_next_line=!0,l.look_ahead=O(l.look_ahead,1),u.$slice(1,u.$length())):v(l.$preprocess_conditional_directive((r=Xe["~"])===B?B:r["$[]"](2),(r=Xe["~"])===B?B:r["$[]"](3),(r=Xe["~"])===B?B:r["$[]"](4),(r=Xe["~"])===B?B:r["$[]"](5)))?(l.$shift(),B):(l.look_ahead=O(l.look_ahead,1),u):v(l.skipping)?(l.$shift(),B):v(u["$start_with?"]("inc","\\inc"))&&v(U("IncludeDirectiveRx")["$=~"](u))?Ie((r=Xe["~"])===B?B:r["$[]"](1),"\\")?(l.unescape_next_line=!0,l.look_ahead=O(l.look_ahead,1),u.$slice(1,u.$length())):v(l.$preprocess_include_directive((r=Xe["~"])===B?B:r["$[]"](2),(r=Xe["~"])===B?B:r["$[]"](3)))?B:(l.look_ahead=O(l.look_ahead,1),u):(l.look_ahead=O(l.look_ahead,1),u):v(l.skipping)?(l.$shift(),B):(l.look_ahead=O(l.look_ahead,1),u):u}),T(E,"$preprocess_conditional_directive",function(u,r,l,y){var h,f=this,S=B,R=B,Z=B,G=B,oe=B,Ee=B;if(v(S=r["$empty?"]())||(r=r.$downcase()),Ie(u,"endif"))return v(y)?f.$logger().$error(f.$message_with_context("malformed preprocessor directive - text not permitted: endif::"+r+"["+y+"]",N(["source_location"],{source_location:f.$cursor()}))):v(f.conditional_stack["$empty?"]())?f.$logger().$error(f.$message_with_context("unmatched preprocessor directive: endif::"+r+"[]",N(["source_location"],{source_location:f.$cursor()}))):v(S)||Ie(r,(R=f.conditional_stack["$[]"](-1))["$[]"]("target"))?(f.conditional_stack.$pop(),f.skipping=v(f.conditional_stack["$empty?"]())?!1:f.conditional_stack["$[]"](-1)["$[]"]("skipping")):f.$logger().$error(f.$message_with_context("mismatched preprocessor directive: endif::"+r+"[], expected endif::"+R["$[]"]("target")+"[]",N(["source_location"],{source_location:f.$cursor()}))),!0;if(v(f.skipping))Z=!1;else switch(u){case"ifdef":if(v(S))return f.$logger().$error(f.$message_with_context("malformed preprocessor directive - missing target: ifdef::["+y+"]",N(["source_location"],{source_location:f.$cursor()}))),!0;switch(l){case",":Z=de(r.$split(",",-1),"none?",[],function Ke(Je){var $t=Ke.$$s==null?this:Ke.$$s;return $t.document==null&&($t.document=B),Je==null&&(Je=B),$t.document.$attributes()["$key?"](Je)},{$$s:f});break;case"+":Z=de(r.$split("+",-1),"any?",[],function Ke(Je){var $t=Ke.$$s==null?this:Ke.$$s;return $t.document==null&&($t.document=B),Je==null&&(Je=B),$t.document.$attributes()["$key?"](Je)["$!"]()},{$$s:f});break;default:Z=f.document.$attributes()["$key?"](r)["$!"]()}break;case"ifndef":if(v(S))return f.$logger().$error(f.$message_with_context("malformed preprocessor directive - missing target: ifndef::["+y+"]",N(["source_location"],{source_location:f.$cursor()}))),!0;switch(l){case",":Z=de(r.$split(",",-1),"any?",[],function Ke(Je){var $t=Ke.$$s==null?this:Ke.$$s;return $t.document==null&&($t.document=B),Je==null&&(Je=B),$t.document.$attributes()["$key?"](Je)},{$$s:f});break;case"+":Z=de(r.$split("+",-1),"all?",[],function Ke(Je){var $t=Ke.$$s==null?this:Ke.$$s;return $t.document==null&&($t.document=B),Je==null&&(Je=B),$t.document.$attributes()["$key?"](Je)},{$$s:f});break;default:Z=f.document.$attributes()["$key?"](r)}break;case"ifeval":if(v(S))if(v(y)&&v(U("EvalExpressionRx")["$=~"](y.$strip())))G=(h=Xe["~"])===B?B:h["$[]"](1),oe=(h=Xe["~"])===B?B:h["$[]"](2),Ee=(h=Xe["~"])===B?B:h["$[]"](3),Z=function(){try{return!v(f.$resolve_expr_val(G).$send(oe,f.$resolve_expr_val(Ee)))}catch(Ke){if(t.rescue(Ke,[U("StandardError")]))try{return!0}finally{t.pop_exception()}else throw Ke}}();else return f.$logger().$error(f.$message_with_context("malformed preprocessor directive - "+(v(y)?"invalid expression":"missing expression")+": ifeval::["+y+"]",N(["source_location"],{source_location:f.$cursor()}))),!0;else return f.$logger().$error(f.$message_with_context("malformed preprocessor directive - target not permitted: ifeval::"+r+"["+y+"]",N(["source_location"],{source_location:f.$cursor()}))),!0;break}return Ie(u,"ifeval")||Ne(y)?(v(Z)&&(f.skipping=!0),f.conditional_stack["$<<"](N(["target","skip","skipping"],{target:r,skip:Z,skipping:f.skipping}))):v(f.skipping)||v(Z)||(f.$replace_next_line(y.$rstrip()),f.$unshift(""),v(y["$start_with?"]("include::"))&&(f.look_ahead=Ue(f.look_ahead,1))),!0}),T(E,"$preprocess_include_directive",function(u,r){var l,y,h=this,f=B,S=B,R=B,Z=B,G=B,oe=B,Ee=B,Ke=B,Je=B,$t=B,tt=B,at=B,ct=B,ft=B,ut=B,pt=B,ht=B,Et=B,yt=B,Tt=B,qt=B,wt=B,At=B,Ct=B,zt=B,Jt=B,Kt=B;if(f=h.document,v((S=u)["$include?"](U("ATTR_REF_HEAD")))&&v((S=f.$sub_attributes(u,N(["attribute_missing"],{attribute_missing:Ie(R=v(Z=f.$attributes()["$[]"]("attribute-missing"))?Z:U("Compliance").$attribute_missing(),"warn")?"drop-line":R})))["$empty?"]()))return Ie(R,"drop-line")&&v(f.$sub_attributes(O(u," "),N(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]())?(de(h.$logger(),"info",[],function It(){var xt=It.$$s==null?this:It.$$s;return xt.$message_with_context("include dropped due to missing attribute: include::"+u+"["+r+"]",N(["source_location"],{source_location:xt.$cursor()}))},{$$s:h}),h.$shift(),!0):v(f.$parse_attributes(r,[],N(["sub_input"],{sub_input:!0}))["$[]"]("optional-option"))?(de(h.$logger(),"info",[],function It(){var xt=It.$$s==null?this:It.$$s;return xt.$message_with_context("optional include dropped "+(Ie(R,"warn")&&v(f.$sub_attributes(O(u," "),N(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]())?"due to missing attribute":"because resolved target is blank")+": include::"+u+"["+r+"]",N(["source_location"],{source_location:xt.$cursor()}))},{$$s:h}),h.$shift(),!0):(h.$logger().$warn(h.$message_with_context("include dropped "+(Ie(R,"warn")&&v(f.$sub_attributes(O(u," "),N(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]())?"due to missing attribute":"because resolved target is blank")+": include::"+u+"["+r+"]",N(["source_location"],{source_location:h.$cursor()}))),h.$replace_next_line("Unresolved directive in "+h.path+" - include::"+u+"["+r+"]"));if(v(h["$include_processors?"]())&&v(G=de(h.include_processor_extensions,"find",[],function(xt){return xt==null&&(xt=B),xt.$instance()["$handles?"](S)})))return h.$shift(),G.$process_method()["$[]"](f,h,S,f.$parse_attributes(r,[],N(["sub_input"],{sub_input:!0}))),!0;if(v(x(f.$safe(),A(U("SafeMode"),"SECURE"))))return h.$replace_next_line("link:"+S+"[role=include]");if(v(h.maxdepth)){if(v(x(h.include_stack.$size(),h.maxdepth["$[]"]("curr"))))return h.$logger().$error(h.$message_with_context("maximum include depth of "+h.maxdepth["$[]"]("rel")+" exceeded",N(["source_location"],{source_location:h.$cursor()}))),B;switch(oe=f.$parse_attributes(r,[],N(["sub_input"],{sub_input:!0})),y=h.$resolve_include_path(S,r,oe),l=ve(y),Ee=l[0]==null?B:l[0],Ke=l[1]==null?B:l[1],Je=l[2]==null?B:l[2],Ke){case"file":$t=A("File").$method("open"),tt=U("FILE_READ_MODE");break;case"uri":$t=A("OpenURI").$method("open_uri"),tt=U("URI_READ_MODE");break;default:return Ee}if(v(U("RUBY_ENGINE_OPAL"))||v(at=oe["$[]"]("encoding"))&&v(function(){try{return A("Encoding").$find(at)}catch(It){if(t.rescue(It,[U("StandardError")]))try{return B}finally{t.pop_exception()}else throw It}}())&&((ct=tt.$split(":"))["$[]="](1,at),tt=ct.$join(":")),ft=ut=B,v(r)&&(v(oe["$key?"]("lines"))?(ft=[],de(h.$split_delimited_value(oe["$[]"]("lines")),"each",[],function(xt){var Rt,Bt,kt=B,Nt=B;return xt==null&&(xt=B),v(xt["$include?"](".."))?(Bt=xt.$partition(".."),Rt=ve(Bt),kt=Rt[0]==null?B:Rt[0],Rt[1]==null||Rt[1],Nt=Rt[2]==null?B:Rt[2],ft=O(ft,v(Nt["$empty?"]())||v(g(Nt=Nt.$to_i(),0))?[kt.$to_i(),A(A("Float"),"INFINITY")]:t.Range.$new(kt.$to_i(),Nt,!1).$to_a())):ft["$<<"](xt.$to_i())}),ft=v(ft["$empty?"]())?B:ft.$sort().$uniq()):v(oe["$key?"]("tag"))?v((pt=oe["$[]"]("tag"))["$empty?"]())||Ie(pt,"!")||(ut=v(pt["$start_with?"]("!"))?Ze(pt.$slice(1,pt.$length()),!1):Ze(pt,!0)):v(oe["$key?"]("tags"))&&(ut=N([],{}),de(h.$split_delimited_value(oe["$[]"]("tags")),"each",[],function(xt){var Rt;return xt==null&&(xt=B),v(xt["$empty?"]())||Ie(xt,"!")?B:v(xt["$start_with?"]("!"))?(Rt=[xt.$slice(1,xt.$length()),!1],de(ut,"[]=",Rt),Rt[Rt.length-1]):(Rt=[xt,!0],de(ut,"[]=",Rt),Rt[Rt.length-1])}),v(ut["$empty?"]())&&(ut=B))),v(ft)){l=[[],B,0],ht=l[0],Et=l[1],yt=l[2];try{de($t,"call",[Ee,tt],function(xt){var Rt=B;return xt==null&&(xt=B),Rt=B,function(){try{var Bt=we("break");return de(xt,"each_line",[],function(Nt){var Wt=B;if(Nt==null&&(Nt=B),yt=O(yt,1),v(Rt)||L(A("Float"),Wt=ft["$[]"](0))&&v(Rt=Wt["$infinite?"]()))return Et=v(Z=Et)?Z:yt,ht["$<<"](Nt);if(Ie(Wt,yt)&&(Et=v(Z=Et)?Z:yt,ht["$<<"](Nt),ft.$shift()),v(ft["$empty?"]()))Bt.$throw();else return B})}catch(kt){if(kt===Bt)return kt.$v;throw kt}}()})}catch(It){if(t.rescue(It,[U("StandardError")]))try{return h.$logger().$error(h.$message_with_context("include "+Ke+" not readable: "+Ee,N(["source_location"],{source_location:h.$cursor()}))),h.$replace_next_line("Unresolved directive in "+h.path+" - include::"+S+"["+r+"]")}finally{t.pop_exception()}else throw It}h.$shift(),v(Et)&&(oe["$[]="]("partial-option",""),h.$push_include(ht,Ee,Je,Et,oe))}else if(v(ut)){l=[[],B,0,[],A("Set").$new(),B],ht=l[0],Et=l[1],yt=l[2],Tt=l[3],qt=l[4],wt=l[5],v(ut["$key?"]("**"))?(At=Ct=ut.$delete("**"),v(ut["$key?"]("*"))?zt=ut.$delete("*"):Ne(At)&&Ie(ut.$values().$first(),!1)&&(zt=!0)):v(ut["$key?"]("*"))?Ie(ut.$keys().$first(),"*")?At=Ct=(zt=ut.$delete("*"))["$!"]():(At=Ct=!1,zt=ut.$delete("*")):At=Ct=ut["$value?"](!0)["$!"]();try{de($t,"call",[Ee,tt],function It(xt){var Rt,Bt=It.$$s==null?this:It.$$s,kt=B,Nt=B;return xt==null&&(xt=B),Rt=["::","[]"],kt=Rt[0],Nt=Rt[1],de(xt,"each_line",[],function Wt(Dt){var Lt,Vt,Mt=Wt.$$s==null?this:Wt.$$s,Ht=B,pr=B,gr=B;return Dt==null&&(Dt=B),yt=O(yt,1),v(Dt["$include?"](kt))&&v(Dt["$include?"](Nt))&&v(U("TagDirectiveRx")["$=~"](Dt))?(Ht=(Lt=Xe["~"])===B?B:Lt["$[]"](2),v((Lt=Xe["~"])===B?B:Lt["$[]"](1))?Ie(Ht,wt)?(Tt.$pop(),Vt=v(Tt["$empty?"]())?[B,Ct]:Tt["$[]"](-1),Lt=ve(Vt),wt=Lt[0]==null?B:Lt[0],At=Lt[1]==null?B:Lt[1],Vt):v(ut["$key?"](Ht))?(pr=Mt.$create_include_cursor(Ee,S,yt),v(gr=de(Tt,"rindex",[],function(mr){return mr==null&&(mr=B),mr["$=="](Ht)},{$$has_trailing_comma_in_args:!0}))?(Ie(gr,0)?Tt.$shift():Tt.$delete_at(gr),Mt.$logger().$warn(Mt.$message_with_context("mismatched end tag (expected '"+wt+"' but found '"+Ht+"') at line "+yt+" of include "+Ke+": "+Ee,N(["source_location","include_location"],{source_location:Mt.$cursor(),include_location:pr})))):Mt.$logger().$warn(Mt.$message_with_context("unexpected end tag '"+Ht+"' at line "+yt+" of include "+Ke+": "+Ee,N(["source_location","include_location"],{source_location:Mt.$cursor(),include_location:pr})))):B:v(ut["$key?"](Ht))?(v(At=ut["$[]"](Ht))&&qt["$<<"](Ht),Tt["$<<"]([wt=Ht,At,yt])):Ne(zt["$nil?"]())?(At=v(wt)&&Ne(At)?!1:zt,Tt["$<<"]([wt=Ht,At,yt])):B):v(At)?(Et=v(Z=Et)?Z:yt,ht["$<<"](Dt)):B},{$$s:Bt})},{$$s:h})}catch(It){if(t.rescue(It,[U("StandardError")]))try{return h.$logger().$error(h.$message_with_context("include "+Ke+" not readable: "+Ee,N(["source_location"],{source_location:h.$cursor()}))),h.$replace_next_line("Unresolved directive in "+h.path+" - include::"+S+"["+r+"]")}finally{t.pop_exception()}else throw It}v(Tt["$empty?"]())||de(Tt,"each",[],function It(xt,Rt,Bt){var kt=It.$$s==null?this:It.$$s;return xt==null&&(xt=B),Bt==null&&(Bt=B),kt.$logger().$warn(kt.$message_with_context("detected unclosed tag '"+xt+"' starting at line "+Bt+" of include "+Ke+": "+Ee,N(["source_location","include_location"],{source_location:kt.$cursor(),include_location:kt.$create_include_cursor(Ee,S,Bt)})))},{$$s:h}),v((Jt=Ue(de(ut,"keep_if",[],function(xt,Rt){return Rt==null&&(Rt=B),Rt}).$keys(),qt.$to_a()))["$empty?"]())||h.$logger().$warn(h.$message_with_context("tag"+(v(Ve(Jt.$size(),1))?"s":"")+" '"+Jt.$join(", ")+"' not found in include "+Ke+": "+Ee,N(["source_location"],{source_location:h.$cursor()}))),h.$shift(),v(Et)&&(v(Ct)&&De(zt,!1)&&v(ut["$empty?"]())||oe["$[]="]("partial-option",""),h.$push_include(ht,Ee,Je,Et,oe))}else{Kt=B;try{Kt=de($t,"call",[Ee,tt],function(xt){return xt==null&&(xt=B),xt.$read()}),h.$shift()}catch(It){if(t.rescue(It,[U("StandardError")]))try{return h.$logger().$error(h.$message_with_context("include "+Ke+" not readable: "+Ee,N(["source_location"],{source_location:h.$cursor()}))),h.$replace_next_line("Unresolved directive in "+h.path+" - include::"+S+"["+r+"]")}finally{t.pop_exception()}else throw It}h.$push_include(Kt,Ee,Je,1,oe)}return!0}else return B}),T(E,"$resolve_include_path",function(u,r,l){var y,h=this,f=B,S=B,R=B;return f=h.document,v(U("Helpers")["$uriish?"](u))||v(L(A("String"),h.dir)?B:u=""+h.dir+"/"+u)?v(f["$attr?"]("allow-uri-read"))?(v(f["$attr?"]("cache-uri"))?v((y=A("::","OpenURI","skip_raise"))&&A(y,"Cache","skip_raise")?"constant":B)||U("Helpers").$require_library("open-uri/cached","open-uri-cached"):Ne(U("RUBY_ENGINE_OPAL"))&&A("OpenURI"),[A("URI").$parse(u),"uri",u]):h.$replace_next_line("link:"+u+"[role=include]"):(S=f.$normalize_system_path(u,h.dir,B,N(["target_name"],{target_name:"include file"})),v(A("File")["$file?"](S))?(R=f.$path_resolver().$relative_path(S,f.$base_dir()),[S,"file",R]):v(l["$[]"]("optional-option"))?(de(h.$logger(),"info",[],function Z(){var G=Z.$$s==null?this:Z.$$s;return G.$message_with_context("optional include dropped because include file not found: "+S,N(["source_location"],{source_location:G.$cursor()}))},{$$s:h}),h.$shift(),!0):(h.$logger().$error(h.$message_with_context("include file not found: "+S,N(["source_location"],{source_location:h.$cursor()}))),h.$replace_next_line("Unresolved directive in "+h.path+" - include::"+u+"["+r+"]")))}),T(E,"$pop_include",function(){var u,r,l=this;return v(l.include_stack["$empty?"]())||(r=l.include_stack.$pop(),u=ve(r),l.lines=u[0]==null?B:u[0],l.file=u[1]==null?B:u[1],l.dir=u[2]==null?B:u[2],l.path=u[3]==null?B:u[3],l.lineno=u[4]==null?B:u[4],l.maxdepth=u[5]==null?B:u[5],l.process_lines=u[6]==null?B:u[6],l.look_ahead=0),B}),T(E,"$split_delimited_value",function(u){return v(u["$include?"](","))?u.$split(","):u.$split(";")}),T(E,"$skip_front_matter!",function(u,r){var l=this,y=B,h=B,f=B,S=B,R=B;if(r==null&&(r=!0),!Ie(y=u["$[]"](0),"---"))return B;for(h=u.$drop(0),u.$shift(),f=[],v(r)&&(l.lineno=O(l.lineno,1));!v(v(S=R=u["$empty?"]())?S:u["$[]"](0)["$=="](y));)f["$<<"](u.$shift()),v(r)&&(l.lineno=O(l.lineno,1));return v(R)?(de(u,"unshift",et(h)),v(r)&&(l.lineno=Ue(l.lineno,h.$size())),B):(u.$shift(),v(r)&&(l.lineno=O(l.lineno,1)),f)},-2),T(E,"$resolve_expr_val",function(u){var r=this,l=B;return v(u["$start_with?"]('"'))&&v(u["$end_with?"]('"'))||v(u["$start_with?"]("'"))&&v(u["$end_with?"]("'"))?(l=!0,u=u.$slice(1,Ue(u.$length(),1))):l=!1,v(u["$include?"](U("ATTR_REF_HEAD")))&&(u=r.document.$sub_attributes(u,N(["attribute_missing"],{attribute_missing:"drop"}))),v(l)?u:v(u["$empty?"]())?B:Ie(u,"true")?!0:Ie(u,"false")?!1:v(u.$rstrip()["$empty?"]())?" ":v(u["$include?"]("."))?u.$to_f():u.$to_i()})}(fe[0],V("Reader"),fe)}(rt[0],rt)},Opal.modules["asciidoctor/section"]=function(t){var W=t.module,H=t.klass,T=t.hash2,O=t.send2,c=t.find_super,N=t.eqeqeq,Ne=t.truthy,L=t.rb_plus,ve=t.def,v=t.alias,Ve=t.rb_gt,de=t.eqeq,Ue=t.not,we=t.send,Ie=t.defs,st=[],De=t.nil;return t.add_stubs("attr_accessor,attr_reader,===,+,level,special,title,generate_id,>,==,sectnum,!,empty?,reftext,sub_placeholder,sub_quotes,compat_mode,[],attributes,context,assign_numeral,class,object_id,inspect,size,[]=,chr,length,gsub,downcase,delete,tr_s,end_with?,chop,start_with?,slice,key?,catalog,unique_id_start_index"),function(et,Me){var Ge=W(et,"Asciidoctor"),it=[Ge].concat(Me),x=t.$r(it);return function(Xe,g,Ze){var rt=H(Xe,g,"Section"),B=[rt].concat(Ze),A=t.$r(B),Be=rt.$$prototype;return Be.document=Be.next_section_index=Be.parent=Be.level=Be.numeral=Be.numbered=Be.sectname=Be.title=Be.blocks=De,rt.$attr_accessor("index"),rt.$attr_accessor("sectname"),rt.$attr_accessor("special"),rt.$attr_accessor("numbered"),rt.$attr_reader("caption"),ve(rt,"$initialize",function $e(me,fe,V,te){var P;$e.$$p;var q=this,E=De;return $e.$$p=null,me==null&&(me=De),fe==null&&(fe=De),V==null&&(V=!1),te==null&&(te=T([],{})),O(q,c(q,"initialize",$e,!1,!0),"initialize",[me,"section",te],null),N(A("Section"),me)?(P=[Ne(E=fe)?E:L(me.$level(),1),me.$special()],q.level=P[0],q.special=P[1]):(P=[Ne(E=fe)?E:1,!1],q.level=P[0],q.special=P[1]),q.numbered=V,q.index=0},-1),v(rt,"name","title"),ve(rt,"$generate_id",function(){var me=this;return A("Section").$generate_id(me.$title(),me.document)}),ve(rt,"$sections?",function(){var me=this;return Ve(me.next_section_index,0)}),ve(rt,"$sectnum",function(me,fe){var V=this,te=De;return me==null&&(me="."),fe==null&&(fe=De),fe=Ne(te=fe)?te:de(fe,!1)?"":me,Ne(Ve(V.level,1))&&N(A("Section"),V.parent)?""+V.parent.$sectnum(me,me)+V.numeral+fe:""+V.numeral+fe},-1),ve(rt,"$xreftext",function(me){var fe=this,V=De,te=De,P=De,q=De;if(me==null&&(me=De),Ne(V=fe.$reftext())&&Ue(V["$empty?"]()))return V;if(Ne(me))if(Ne(fe.numbered))switch(me){case"full":return de(te=fe.sectname,"chapter")||de(te,"appendix")?P=fe.$sub_placeholder(fe.$sub_quotes("_%s_"),fe.$title()):P=fe.$sub_placeholder(fe.$sub_quotes(Ne(fe.document.$compat_mode())?"``%s''":'"`%s`"'),fe.$title()),Ne(q=fe.document.$attributes()["$[]"](""+te+"-refsig"))?""+q+" "+fe.$sectnum(".",",")+" "+P:""+fe.$sectnum(".",",")+" "+P;case"short":return Ne(q=fe.document.$attributes()["$[]"](""+fe.sectname+"-refsig"))?""+q+" "+fe.$sectnum(".",""):fe.$sectnum(".","");default:return de(te=fe.sectname,"chapter")||de(te,"appendix")?fe.$sub_placeholder(fe.$sub_quotes("_%s_"),fe.$title()):fe.$title()}else return de(te=fe.sectname,"chapter")||de(te,"appendix")?fe.$sub_placeholder(fe.$sub_quotes("_%s_"),fe.$title()):fe.$title();else return fe.$title()},-1),ve(rt,"$<<",function $e(me){var fe=$e.$$p||De,V=this;return $e.$$p=null,de(me.$context(),"section")&&V.$assign_numeral(me),O(V,c(V,"<<",$e,!1,!0),"<<",[me],fe)}),ve(rt,"$to_s",function $e(){var me=$e.$$p||De,fe=this,V=De;return $e.$$p=null,Ne(fe.title)?(V=Ne(fe.numbered)?""+fe.$sectnum()+" "+fe.title:fe.title,"#<"+fe.$class()+"@"+fe.$object_id()+" {level: "+fe.level+", title: "+V.$inspect()+", blocks: "+fe.blocks.$size()+"}>"):O(fe,c(fe,"to_s",$e,!1,!0),"to_s",[],me)}),Ie(rt,"$generate_id",function(me,fe){var V,te=De,P=De,q=De,E=De,j=De,U=De,X=De,I=De,u=De,r=De;if(te=fe.$attributes(),P=Ne(q=te["$[]"]("idprefix"))?q:"_",Ne(E=te["$[]"]("idseparator"))?(de(E.$length(),1)||Ue(j=E["$empty?"]())&&Ne(E=(V=["idseparator",E.$chr()],we(te,"[]=",V),V[V.length-1])))&&(U=de(E,"-")||de(E,".")?" .-":" "+E+".-"):(V=["_"," _.-"],E=V[0],U=V[1]),X=""+P+me.$downcase().$gsub(A("InvalidSectionIdCharsRx"),""),Ne(j)?X=X.$delete(" "):(X=X.$tr_s(U,E),Ne(X["$end_with?"](E))&&(X=X.$chop()),Ne(P["$empty?"]())&&Ne(X["$start_with?"](E))&&(X=X.$slice(1,X.$length()))),Ne(fe.$catalog()["$[]"]("refs")["$key?"](X))){for(I=fe.$catalog()["$[]"]("refs"),u=A("Compliance").$unique_id_start_index();Ne(I["$[]"](r=""+X+E+u));)u=L(u,1);return r}else return X})}(it[0],x("AbstractBlock"),it)}(st[0],st)},Opal.modules["asciidoctor/stylesheets"]=function(t){var W=t.module,H=t.klass,T=t.const_set,O=t.return_ivar,c=t.defs,N=t.def,Ne=t.truthy,L=t.hash2,ve=[],v=t.nil,Ve=t.$$$;return t.add_stubs("join,new,rstrip,read,primary_stylesheet_data,write,primary_stylesheet_name,stylesheet_basename,for,read_stylesheet,coderay_stylesheet_data,coderay_stylesheet_name,pygments_stylesheet_data,pygments_stylesheet_name"),function(de,Ue){var we=W(de,"Asciidoctor"),Ie=[we].concat(Ue);return function(st,De,et){var Me=H(st,De,"Stylesheets"),Ge=[Me].concat(et),it=t.$r(Ge),x=Me.$$prototype;return x.primary_stylesheet_data=v,T(Ge[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css"),T(Ge[0],"STYLESHEETS_DIR",Ve("File").$join(it("DATA_DIR"),"stylesheets")),Me.__instance__=Me.$new(),c(Me,"$instance",O("__instance__")),N(Me,"$primary_stylesheet_name",function(){return it("DEFAULT_STYLESHEET_NAME")}),N(Me,"$primary_stylesheet_data",function(){var g=this,Ze=v;return g.primary_stylesheet_data=Ne(Ze=g.primary_stylesheet_data)?Ze:Ve("File").$read(Ve("File").$join(it("STYLESHEETS_DIR"),"asciidoctor-default.css"),L(["mode"],{mode:it("FILE_READ_MODE")})).$rstrip()}),N(Me,"$embed_primary_stylesheet",function(){var g=this;return`<style>
`+g.$primary_stylesheet_data()+`
</style>`}),N(Me,"$write_primary_stylesheet",function(g){var Ze=this;return g==null&&(g="."),Ve("File").$write(Ve("File").$join(g,Ze.$primary_stylesheet_name()),Ze.$primary_stylesheet_data(),L(["mode"],{mode:it("FILE_WRITE_MODE")}))},-1),N(Me,"$coderay_stylesheet_name",function(){return it("SyntaxHighlighter").$for("coderay").$stylesheet_basename()}),N(Me,"$coderay_stylesheet_data",function(){return it("SyntaxHighlighter").$for("coderay").$read_stylesheet()}),N(Me,"$embed_coderay_stylesheet",function(){var g=this;return`<style>
`+g.$coderay_stylesheet_data()+`
</style>`}),N(Me,"$write_coderay_stylesheet",function(g){var Ze=this;return g==null&&(g="."),Ve("File").$write(Ve("File").$join(g,Ze.$coderay_stylesheet_name()),Ze.$coderay_stylesheet_data(),L(["mode"],{mode:it("FILE_WRITE_MODE")}))},-1),N(Me,"$pygments_stylesheet_name",function(g){return g==null&&(g=v),it("SyntaxHighlighter").$for("pygments").$stylesheet_basename(g)},-1),N(Me,"$pygments_stylesheet_data",function(g){return g==null&&(g=v),it("SyntaxHighlighter").$for("pygments").$read_stylesheet(g)},-1),N(Me,"$embed_pygments_stylesheet",function(g){var Ze=this;return g==null&&(g=v),`<style>
`+Ze.$pygments_stylesheet_data(g)+`
</style>`},-1),N(Me,"$write_pygments_stylesheet",function(g,Ze){var rt=this;return g==null&&(g="."),Ze==null&&(Ze=v),Ve("File").$write(Ve("File").$join(g,rt.$pygments_stylesheet_name(Ze)),rt.$pygments_stylesheet_data(Ze),L(["mode"],{mode:it("FILE_WRITE_MODE")}))},-1)}(Ie[0],null,Ie)}(ve[0],ve)},Opal.modules["asciidoctor/table"]=function(t){var W=t.module,H=t.klass,T=t.const_set,O=t.def,c=t.alias,N=t.hash2,Ne=t.send2,L=t.find_super,ve=t.truthy,v=t.rb_lt,Ve=t.rb_gt,de=t.eqeq,Ue=t.rb_times,we=t.rb_divide,Ie=t.send,st=t.rb_plus,De=t.rb_minus,et=t.return_val,Me=t.to_a,Ge=t.gvars,it=t.neqeq,x=t.return_ivar,Xe=t.to_ary,g=t.regexp,Ze=t.not,rt=t.thrower,B=[],A=t.nil,Be=t.$$$;return t.add_stubs("attr_accessor,send,attr_reader,new,[],<,>,to_i,==,[]=,attributes,truncate,*,/,to_f,empty?,body,each,<<,size,+,assign_column_widths,warn,logger,-,update_attributes,assign_width,round,head=,map,shift,reinitialize,nil?,unshift,foot=,pop,parent,sourcemap,dup,header_row?,table,style,merge,delete,start_with?,rstrip,slice,length,advance,lstrip,strip,split,include?,readlines,catalog_inline_anchor,=~,apply_subs,attr_writer,convert,text,!=,file,lineno,include,to_set,mark,key?,nested?,document,error,message_with_context,cursor_at_prev_line,nil_or_empty?,escape,columns,match,chop,end_with?,gsub,!,push_cellspec,cell_open?,close_cell,take_cellspec,squeeze,upto,times,cursor_before_mark,rowspan,activate_rowspan,colspan,end_of_row?,close_row,private,rows,effective_column_visits"),function($e,me){var fe=W($e,"Asciidoctor"),V=[fe].concat(me),te=t.$r(V);return function(P,q,E){var j=H(P,q,"Table"),U=[j].concat(E),X=t.$r(U),I=j.$$prototype;return I.attributes=I.document=I.rows=I.has_header_option=I.columns=A,T(U[0],"DEFAULT_PRECISION",4),function(u,r){var l=H(u,r,"Rows"),y=l.$$prototype;return y.head=y.body=y.foot=A,l.$attr_accessor("head","foot","body"),O(l,"$initialize",function(f,S,R){var Z=this;return f==null&&(f=[]),S==null&&(S=[]),R==null&&(R=[]),Z.head=f,Z.foot=S,Z.body=R},-1),c(l,"[]","send"),O(l,"$by_section",function(){var f=this;return[["head",f.head],["body",f.body],["foot",f.foot]]}),O(l,"$to_h",function(){var f=this;return N(["head","body","foot"],{head:f.head,body:f.body,foot:f.foot})})}(U[0],null),j.$attr_accessor("columns"),j.$attr_accessor("rows"),j.$attr_accessor("has_header_option"),j.$attr_reader("caption"),O(j,"$initialize",function u(r,l){var y;u.$$p;var h=this,f=A,S=A,R=A;return u.$$p=null,Ne(h,L(h,"initialize",u,!1,!0),"initialize",[r,"table"],null),h.rows=X("Rows").$new(),h.columns=[],h.has_header_option=!1,ve(f=l["$[]"]("width"))?(ve(Ve(S=f.$to_i(),100))||ve(v(S,1)))&&(de(S,0)&&(de(f,"0")||de(f,"0%"))||(S=100)):S=100,h.attributes["$[]="]("tablepcwidth",S),ve(h.document.$attributes()["$[]"]("pagewidth"))&&h.attributes["$[]="]("tableabswidth",de(R=Ue(we(S,100),h.document.$attributes()["$[]"]("pagewidth").$to_f()).$truncate(X("DEFAULT_PRECISION")),R.$to_i())?R.$to_i():R),ve(l["$[]"]("rotate-option"))?(y=["orientation","landscape"],Ie(h.attributes,"[]=",y),y[y.length-1]):A}),O(j,"$header_row?",function(){var r=this,l=A;return ve(l=r.has_header_option)&&ve(r.rows.$body()["$empty?"]())?l:A}),O(j,"$create_columns",function(r){var l=this,y=A,h=A,f=A,S=A;return y=[],h=A,f=0,Ie(r,"each",[],function R(Z){var G=R.$$s==null?this:R.$$s,oe=A,Ee=A;return Z==null&&(Z=A),oe=Z["$[]"]("width"),y["$<<"](X("Column").$new(G,y.$size(),Z)),ve(v(oe,0))?(h=ve(Ee=h)?Ee:[])["$<<"](y["$[]"](-1)):f=st(f,oe)},{$$s:l}),ve(Ve(S=(l.columns=y).$size(),0))&&(l.attributes["$[]="]("colcount",S),ve(Ve(f,0))||ve(h)||(f=A),l.$assign_column_widths(f,h)),A}),O(j,"$assign_column_widths",function(r,l){var y=this,h=A,f=A,S=A,R=A,Z=A;return r==null&&(r=A),l==null&&(l=A),h=X("DEFAULT_PRECISION"),f=S=0,ve(r)?(ve(l)&&(ve(Ve(r,100))?(R=0,y.$logger().$warn("total column width must not exceed 100% when using autowidth columns; got "+r+"%")):(R=we(De(100,r),l.$size()).$truncate(h),de(R.$to_i(),R)&&(R=R.$to_i()),r=100),Z=N(["width","autowidth-option"],{width:R,"autowidth-option":""}),Ie(l,"each",[],function(oe){return oe==null&&(oe=A),oe.$update_attributes(Z)})),Ie(y.columns,"each",[],function(oe){return oe==null&&(oe=A),f=st(f,S=oe.$assign_width(A,r,h))})):(S=we(100,y.columns.$size()).$truncate(h),de(S.$to_i(),S)&&(S=S.$to_i()),Ie(y.columns,"each",[],function(oe){return oe==null&&(oe=A),f=st(f,oe.$assign_width(S,A,h))})),de(f,100)||y.columns["$[]"](-1).$assign_width(st(De(100,f),S).$round(h),A,h),A},-1),O(j,"$partition_header_footer",function(r){var l,y=this,h=A,f=A;return h=(l=["rowcount",(f=y.rows.$body()).$size()],Ie(y.attributes,"[]=",l),l[l.length-1]),ve(Ve(h,0))&&(ve(y.has_header_option)?(y.rows["$head="]([Ie(f.$shift(),"map",[],function(R){return R==null&&(R=A),R.$reinitialize(!0)})]),h=De(h,1)):ve(y.has_header_option["$nil?"]())&&(y.has_header_option=!1,f.$unshift(Ie(f.$shift(),"map",[],function(R){return R==null&&(R=A),R.$reinitialize(!1)})))),ve(Ve(h,0))&&ve(r["$[]"]("footer-option"))&&y.rows["$foot="]([f.$pop()]),A})}(V[0],te("AbstractBlock"),V),function(P,q){var E=H(P,q,"Column"),j=E.$$prototype;return j.attributes=A,E.$attr_accessor("style"),O(E,"$initialize",function U(X,I,u){U.$$p;var r=this;return U.$$p=null,u==null&&(u=N([],{})),Ne(r,L(r,"initialize",U,!1,!0),"initialize",[X,"table_column"],null),r.style=u["$[]"]("style"),u["$[]="]("colnumber",st(I,1)),ve(u["$[]"]("width"))||u["$[]="]("width",1),ve(u["$[]"]("halign"))||u["$[]="]("halign","left"),ve(u["$[]"]("valign"))||u["$[]="]("valign","top"),r.$update_attributes(u)},-3),c(E,"table","parent"),O(E,"$assign_width",function(X,I,u){var r,l=this,y=A;return ve(I)&&(X=we(Ue(l.attributes["$[]"]("width").$to_f(),100),I).$truncate(u),de(X.$to_i(),X)&&(X=X.$to_i())),ve(l.$parent().$attributes()["$[]"]("tableabswidth"))&&l.attributes["$[]="]("colabswidth",de(y=Ue(we(X,100),l.$parent().$attributes()["$[]"]("tableabswidth")).$truncate(u),y.$to_i())?y.$to_i():y),r=["colpcwidth",X],Ie(l.attributes,"[]=",r),r[r.length-1]}),O(E,"$block?",et(!1)),O(E,"$inline?",et(!1))}(te("Table"),te("AbstractNode")),function(P,q,E){var j=H(P,q,"Cell"),U=[j].concat(E),X=t.$r(U),I=j.$$prototype;return I.document=I.reinitialize_args=I.attributes=I.cursor=I.text=I.subs=I.style=I.inner_document=I.source_location=I.colspan=I.rowspan=A,T(U[0],"DOUBLE_LF",Ue(X("LF"),2)),j.$attr_accessor("colspan"),j.$attr_accessor("rowspan"),c(j,"column","parent"),j.$attr_reader("inner_document"),O(j,"$initialize",function u(r,l,y,h){var f;u.$$p;var S=this,R=A,Z=A,G=A,oe=A,Ee=A,Ke=A,Je=A,$t=A,tt=A,at=A,ct=A,ft=A,ut=A;if(u.$$p=null,y==null&&(y=N([],{})),h==null&&(h=N([],{})),Ne(S,L(S,"initialize",u,!1,!0),"initialize",[r,"table_cell"],null),S.cursor=S.reinitialize_args=A,ve(S.document.$sourcemap())&&(S.source_location=h["$[]"]("cursor").$dup()),ve(r)&&(ve(R=r.$table()["$header_row?"]())?de(R,"implicit")&&ve(Z=ve(G=r.$style())?G:ve(oe=y)?y["$[]"]("style"):oe)&&((de(Z,"asciidoc")||de(Z,"literal"))&&(S.reinitialize_args=[r,l,ve(G=y)?y.$merge():G,h]),Z=A):Z=r.$style(),S.$update_attributes(r.$attributes())),ve(y))switch(ve(y["$empty?"]())?S.colspan=S.rowspan=A:(f=[y.$delete("colspan"),y.$delete("rowspan")],S.colspan=f[0],S.rowspan=f[1],ve(R)||(Z=ve(G=y["$[]"]("style"))?G:Z),S.$update_attributes(y)),Z){case"asciidoc":if(Ee=!0,Ke=h["$[]"]("cursor"),ve((l=l.$rstrip())["$start_with?"](X("LF")))){for(Je=1;ve((l=l.$slice(1,l.$length()))["$start_with?"](X("LF")));)Je=st(Je,1);Ke.$advance(Je)}else l=l.$lstrip();break;case"literal":for($t=!0,l=l.$rstrip();ve(l["$start_with?"](X("LF")));)l=l.$slice(1,l.$length());break;default:tt=!0,l=ve(l)?l.$strip():""}else S.colspan=S.rowspan=A,de(Z,"asciidoc")&&(Ee=!0,Ke=h["$[]"]("cursor"));return ve(Ee)?(at=S.document.$attributes().$delete("doctitle"),ct=l.$split(X("LF"),-1),ve(ct["$empty?"]())||ve((ft=ct["$[]"](0))["$include?"]("::"))&&(ut=X("PreprocessorReader").$new(S.document,[ft]).$readlines(),de(ft,ut["$[]"](0))&&ve(v(ut.$size(),2))||(ct.$shift(),ve(ut["$empty?"]())||Ie(ct,"unshift",Me(ut)))),S.inner_document=X("Document").$new(ct,N(["standalone","parent","cursor"],{standalone:!1,parent:S.document,cursor:Ke})),ve(at["$nil?"]())||S.document.$attributes()["$[]="]("doctitle",at),S.subs=A):ve($t)?(S.content_model="verbatim",S.subs=X("BASIC_SUBS")):(ve(tt)&&(ve(R)?S.cursor=h["$[]"]("cursor"):S.$catalog_inline_anchor(l,h["$[]"]("cursor"))),S.content_model="simple",S.subs=X("NORMAL_SUBS")),S.text=l,S.style=Z},-3),O(j,"$reinitialize",function(r){var l=this;if(ve(r))l.reinitialize_args=A;else{if(ve(l.reinitialize_args))return Ie(Be(X("Table"),"Cell"),"new",Me(l.reinitialize_args));l.style=l.attributes["$[]"]("style")}return ve(l.cursor)&&l.$catalog_inline_anchor(),l}),O(j,"$catalog_inline_anchor",function(r,l){var y,h=this;return r==null&&(r=h.text),l==null&&(l=A),ve(l)||(y=[h.cursor,A],l=y[0],h.cursor=y[1]),ve(r["$start_with?"]("[["))&&ve(X("LeadingInlineAnchorRx")["$=~"](r))?X("Parser").$catalog_inline_anchor((y=Ge["~"])===A?A:y["$[]"](1),(y=Ge["~"])===A?A:y["$[]"](2),h,l,h.document):A},-1),O(j,"$text",function(){var r=this;return r.$apply_subs(r.text,r.subs)}),j.$attr_writer("text"),O(j,"$content",function(){var r=this,l=A,y=A;return de(l=r.style,"asciidoc")?r.inner_document.$convert():ve(r.text["$include?"](X("DOUBLE_LF")))?Ie(r.$text().$split(X("BlankLineRx")),"map",[],function h(f){var S=h.$$s==null?this:h.$$s;return f==null&&(f=A),ve(l)&&it(l,"header")?X("Inline").$new(S.$parent(),"quoted",f,N(["type"],{type:l})).$convert():f},{$$s:r}):ve((y=r.$text())["$empty?"]())?[]:ve(l)&&it(l,"header")?[X("Inline").$new(r.$parent(),"quoted",y,N(["type"],{type:l})).$convert()]:[y]}),O(j,"$lines",function(){var r=this;return r.text.$split(X("LF"))}),O(j,"$source",x("text")),O(j,"$file",function(){var r=this,l=A;return ve(l=r.source_location)?r.source_location.$file():l}),O(j,"$lineno",function(){var r=this,l=A;return ve(l=r.source_location)?r.source_location.$lineno():l}),O(j,"$to_s",function u(){var r=u.$$p||A,l=this,y=A;return u.$$p=null,""+Ne(l,L(l,"to_s",u,!1,!0),"to_s",[],r)+" - [text: "+l.text+", colspan: "+(ve(y=l.colspan)?y:1)+", rowspan: "+(ve(y=l.rowspan)?y:1)+", attributes: "+l.attributes+"]"})}(te("Table"),te("AbstractBlock"),V),function(P,q,E){var j=H(P,q,"ParserContext"),U=[j].concat(E),X=t.$r(U),I=j.$$prototype;return I.delimiter=I.delimiter_rx=I.buffer=I.cellspecs=I.cell_open=I.format=I.start_cursor_data=I.reader=I.table=I.current_row=I.colcount=I.column_visits=I.active_rowspans=I.linenum=A,j.$include(X("Logging")),T(U[0],"FORMATS",["psv","csv","dsv","tsv"].$to_set()),T(U[0],"DELIMITERS",N(["psv","csv","dsv","tsv","!sv"],{psv:["|",/\|/],csv:[",",/,/],dsv:[":",/:/],tsv:["	",/\t/],"!sv":["!",/!/]})),j.$attr_accessor("table"),j.$attr_accessor("format"),j.$attr_reader("colcount"),j.$attr_accessor("buffer"),j.$attr_reader("delimiter"),j.$attr_reader("delimiter_re"),O(j,"$initialize",function(r,l,y){var h,f,S=this,R=A,Z=A;return y==null&&(y=N([],{})),S.start_cursor_data=(S.reader=r).$mark(),S.table=l,ve(y["$key?"]("format"))?ve(X("FORMATS")["$include?"](R=y["$[]"]("format")))?de(R,"tsv")?S.format="csv":de(S.format=R,"psv")&&ve(l.$document()["$nested?"]())&&(R="!sv"):(S.$logger().$error(S.$message_with_context("illegal table format: "+R,N(["source_location"],{source_location:r.$cursor_at_prev_line()}))),h=["psv",ve(l.$document()["$nested?"]())?"!sv":"psv"],S.format=h[0],R=h[1]):(h=["psv",ve(l.$document()["$nested?"]())?"!sv":"psv"],S.format=h[0],R=h[1]),ve(y["$key?"]("separator"))?ve((Z=y["$[]"]("separator"))["$nil_or_empty?"]())?(f=X("DELIMITERS")["$[]"](R),h=Xe(f),S.delimiter=h[0]==null?A:h[0],S.delimiter_rx=h[1]==null?A:h[1]):de(Z,"\\t")?(f=X("DELIMITERS")["$[]"]("tsv"),h=Xe(f),S.delimiter=h[0]==null?A:h[0],S.delimiter_rx=h[1]==null?A:h[1]):(h=[Z,g([Be("Regexp").$escape(Z)])],S.delimiter=h[0],S.delimiter_rx=h[1]):(f=X("DELIMITERS")["$[]"](R),h=Xe(f),S.delimiter=h[0]==null?A:h[0],S.delimiter_rx=h[1]==null?A:h[1]),S.colcount=ve(l.$columns()["$empty?"]())?-1:l.$columns().$size(),S.buffer="",S.cellspecs=[],S.cell_open=!1,S.active_rowspans=[0],S.column_visits=0,S.current_row=[],S.linenum=-1},-3),O(j,"$starts_with_delimiter?",function(r){var l=this;return r["$start_with?"](l.delimiter)}),O(j,"$match_delimiter",function(r){var l=this;return l.delimiter_rx.$match(r)}),O(j,"$skip_past_delimiter",function(r){var l=this;return l.buffer=""+l.buffer+r+l.delimiter,A}),O(j,"$skip_past_escaped_delimiter",function(r){var l=this;return l.buffer=""+l.buffer+r.$chop()+l.delimiter,A}),O(j,"$buffer_has_unclosed_quotes?",function(r,l){var y=this,h=A,f=A,S=A,R=A;return r==null&&(r=A),l==null&&(l='"'),de(h=ve(r)?st(y.buffer,r).$strip():y.buffer.$strip(),l)?!0:ve(h["$start_with?"](l))?(f=st(l,l),ve(S=h["$end_with?"](l))&&ve(h["$end_with?"](f))||ve(h["$start_with?"](f))?ve(R=(h=h.$gsub(f,""))["$start_with?"](l))?h["$end_with?"](l)["$!"]():R:S["$!"]()):!1},-1),O(j,"$take_cellspec",function(){var r=this;return r.cellspecs.$shift()}),O(j,"$push_cellspec",function(r){var l=this,y=A;return r==null&&(r=N([],{})),l.cellspecs["$<<"](ve(y=r)?y:N([],{})),A},-1),O(j,"$keep_cell_open",function(){var r=this;return r.cell_open=!0,A}),O(j,"$mark_cell_closed",function(){var r=this;return r.cell_open=!1,A}),O(j,"$cell_open?",x("cell_open")),O(j,"$cell_closed?",function(){var r=this;return r.cell_open["$!"]()}),O(j,"$close_open_cell",function(r){var l=this;return r==null&&(r=N([],{})),l.$push_cellspec(r),ve(l["$cell_open?"]())&&l.$close_cell(!0),l.$advance(),A},-1),O(j,"$close_cell",function(r){try{var l=rt("return"),y=this,h=A,f=A,S=A,R=A,Z=A;return r==null&&(r=!1),de(y.format,"psv")?(h=y.buffer,y.buffer="",ve(f=y.$take_cellspec())?S=ve(R=f.$delete("repeatcol"))?R:1:(y.$logger().$error(y.$message_with_context("table missing leading separator; recovering automatically",N(["source_location"],{source_location:Ie(Be(X("Reader"),"Cursor"),"new",Me(y.start_cursor_data))}))),f=N([],{}),S=1)):(h=y.buffer.$strip(),y.buffer="",f=A,S=1,de(y.format,"csv")&&Ze(h["$empty?"]())&&ve(h["$include?"](Z='"'))&&(ve(h["$start_with?"](Z))&&ve(h["$end_with?"](Z))?ve(h=h.$slice(1,De(h.$length(),2)))?h=h.$strip().$squeeze(Z):(y.$logger().$error(y.$message_with_context("unclosed quote in CSV data; setting cell to empty",N(["source_location"],{source_location:y.reader.$cursor_at_prev_line()}))),h=""):h=h.$squeeze(Z))),Ie(1,"upto",[S],function G(oe){var Ee=G.$$s==null?this:G.$$s,Ke=A,Je=A,$t=A,tt=A;return Ee.colcount==null&&(Ee.colcount=A),Ee.table==null&&(Ee.table=A),Ee.current_row==null&&(Ee.current_row=A),Ee.reader==null&&(Ee.reader=A),Ee.column_visits==null&&(Ee.column_visits=A),Ee.linenum==null&&(Ee.linenum=A),oe==null&&(oe=A),de(Ee.colcount,-1)?(Ee.table.$columns()["$<<"](Ke=Be(X("Table"),"Column").$new(Ee.table,De(st(Ee.table.$columns().$size(),oe),1))),ve(f)&&ve(f["$key?"]("colspan"))&&ve(Ve(Je=De(f["$[]"]("colspan").$to_i(),1),0))&&($t=Ee.table.$columns().$size(),Ie(Je,"times",[],function at(ct){var ft=at.$$s==null?this:at.$$s;return ft.table==null&&(ft.table=A),ct==null&&(ct=A),ft.table.$columns()["$<<"](Be(X("Table"),"Column").$new(ft.table,st($t,ct)))},{$$s:Ee}))):ve(Ke=Ee.table.$columns()["$[]"](Ee.current_row.$size()))||(Ee.$logger().$error(Ee.$message_with_context("dropping cell because it exceeds specified number of columns",N(["source_location"],{source_location:Ee.reader.$cursor_before_mark()}))),l.$throw()),tt=Be(X("Table"),"Cell").$new(Ke,h,f,N(["cursor"],{cursor:Ee.reader.$cursor_before_mark()})),Ee.reader.$mark(),Ze(tt.$rowspan())||de(tt.$rowspan(),1)||Ee.$activate_rowspan(tt.$rowspan(),ve(R=tt.$colspan())?R:1),Ee.column_visits=st(Ee.column_visits,ve(R=tt.$colspan())?R:1),Ee.current_row["$<<"](tt),ve(Ee["$end_of_row?"]())&&(it(Ee.colcount,-1)||ve(Ve(Ee.linenum,0))||ve(r)&&de(oe,S))?Ee.$close_row():A},{$$s:y,$$ret:l}),y.cell_open=!1,A}catch(G){if(G===l)return G.$v;throw G}},-1),j.$private(),O(j,"$close_row",function(){var r=this;return r.table.$rows().$body()["$<<"](r.current_row),de(r.colcount,-1)&&(r.colcount=r.column_visits),r.column_visits=0,r.current_row=[],r.active_rowspans.$shift(),ve(r.active_rowspans["$[]"](0))||r.active_rowspans["$[]="](0,0),A}),O(j,"$activate_rowspan",function(r,l){var y=this;return Ie(1,"upto",[De(r,1)],function h(f){var S,R=h.$$s==null?this:h.$$s,Z=A;return R.active_rowspans==null&&(R.active_rowspans=A),f==null&&(f=A),S=[f,st(ve(Z=R.active_rowspans["$[]"](f))?Z:0,l)],Ie(R.active_rowspans,"[]=",S),S[S.length-1]},{$$s:y}),A}),O(j,"$end_of_row?",function(){var r=this,l=A;return ve(l=r.colcount["$=="](-1))?l:r.$effective_column_visits()["$=="](r.colcount)}),O(j,"$effective_column_visits",function(){var r=this;return st(r.column_visits,r.active_rowspans["$[]"](0))}),O(j,"$advance",function(){var r=this;return r.linenum=st(r.linenum,1)})}(te("Table"),null,V)}(B[0],B)},Opal.modules["asciidoctor/writer"]=function(t){var W=t.module,H=t.truthy,T=t.rb_plus,O=t.hash2,c=t.def,N=t.return_val,Ne=[],L=t.nil,ve=t.$$$;return t.add_stubs("respond_to?,write,+,chomp,include"),function(v,Ve){var de=W(v,"Asciidoctor"),Ue=[de].concat(Ve);return function(we,Ie){var st=W(we,"Writer"),De=[st].concat(Ie),et=t.$r(De);return c(st,"$write",function(Ge,it){return H(it["$respond_to?"]("write"))?it.$write(T(Ge.$chomp(),et("LF"))):ve("File").$write(it,Ge,O(["mode"],{mode:et("FILE_WRITE_MODE")})),L})}(Ue[0],Ue),function(we,Ie){var st=W(we,"VoidWriter"),De=[st].concat(Ie),et=t.$r(De);return st.$include(et("Writer")),c(st,"$write",N(L))}(Ue[0],Ue)}(Ne[0],Ne)},Opal.modules["asciidoctor/load"]=function(t){var W=t.module,H=t.hash2,T=t.truthy,O=t.neqeq,c=t.not,N=t.eqeqeq,Ne=t.send,L=t.to_ary,ve=t.rb_plus,v=t.eqeq,Ve=t.def,de=[],Ue=t.nil,we=t.$$$;return t.add_stubs("merge,[],start,!=,logger,key?,logger=,new,!,===,dup,tap,each,partition,[]=,split,gsub,+,respond_to?,keys,raise,join,ancestors,class,==,at,to_i,mtime,absolute_path,path,dirname,basename,extname,read,rewind,drop,record,parse,exception,message,set_backtrace,backtrace,stack_trace=,stack_trace,open,load"),function(Ie,st){var De=W(Ie,"Asciidoctor"),et=[De].concat(st);return function(Me,Ge){var it=[Me].concat(Ge),x=t.$r(it);return Ve(Me,"$load",function(g,Ze){var rt,B,A,Be,$e=this,me=Ue,fe=Ue,V=Ue,te=Ue,P=Ue,q=Ue,E=Ue,j=Ue,U=Ue,X=Ue;Ze==null&&(Ze=H([],{}));try{if(Ze=Ze.$merge(),T(me=Ze["$[]"]("timings"))&&me.$start("read"),T(Ze["$key?"]("logger"))&&O(fe=Ze["$[]"]("logger"),x("LoggerManager").$logger())&&x("LoggerManager")["$logger="](T(V=fe)?V:x("NullLogger").$new()),c(te=Ze["$[]"]("attributes"))?te=H([],{}):N(we("Hash"),te)?te=te.$merge():T((A=we("::","Java","skip_raise"))&&(B=we(A,"JavaUtil","skip_raise"))&&(rt=we(B,"Map","skip_raise"))?"constant":Ue)&&N(we(we(we("Java"),"JavaUtil"),"Map"),te)?te=te.$dup():N(we("Array"),te)?te=Ne(H([],{}),"tap",[],function(u){return u==null&&(u=Ue),Ne(te,"each",[],function(l){var y,h,f=Ue,S=Ue,R=Ue;return l==null&&(l=Ue),h=l.$partition("="),y=L(h),f=y[0]==null?Ue:y[0],S=y[1]==null?Ue:y[1],R=y[2]==null?Ue:y[2],y=[f,R],Ne(u,"[]=",y),y[y.length-1]})}):N(we("String"),te)?te=Ne(H([],{}),"tap",[],function(u){return u==null&&(u=Ue),Ne(te.$gsub(x("SpaceDelimiterRx"),ve("\\1",x("NULL"))).$gsub(x("EscapedSpaceRx"),"\\1").$split(x("NULL")),"each",[],function(l){var y,h,f=Ue,S=Ue,R=Ue;return l==null&&(l=Ue),h=l.$partition("="),y=L(h),f=y[0]==null?Ue:y[0],S=y[1]==null?Ue:y[1],R=y[2]==null?Ue:y[2],y=[f,R],Ne(u,"[]=",y),y[y.length-1]})}):T(te["$respond_to?"]("keys"))&&T(te["$respond_to?"]("[]"))?te=Ne(H([],{}),"tap",[],function(u){return u==null&&(u=Ue),Ne(te.$keys(),"each",[],function(l){var y;return l==null&&(l=Ue),y=[l,te["$[]"](l)],Ne(u,"[]=",y),y[y.length-1]})}):$e.$raise(we("ArgumentError"),"illegal type for attributes option: "+te.$class().$ancestors().$join(" < ")),N(we("File"),g))Ze["$[]="]("input_mtime",v(x("RUBY_ENGINE"),"jruby")?we("Time").$at(g.$mtime().$to_i()):g.$mtime()),te["$[]="]("docfile",P=we("File").$absolute_path(g.$path())),te["$[]="]("docdir",we("File").$dirname(P)),te["$[]="]("docname",x("Helpers").$basename(P,(Be=["docfilesuffix",x("Helpers").$extname(P)],Ne(te,"[]=",Be),Be[Be.length-1]))),q=g.$read();else if(T(g["$respond_to?"]("read"))){try{g.$rewind()}catch(I){if(t.rescue(I,[x("StandardError")]))try{}finally{t.pop_exception()}else throw I}q=g.$read()}else N(we("String"),g)?q=g:N(we("Array"),g)?q=g.$drop(0):T(g)&&$e.$raise(we("ArgumentError"),"unsupported input type: "+g.$class());return T(me)&&(me.$record("read"),me.$start("parse")),Ze["$[]="]("attributes",te),E=v(Ze["$[]"]("parse"),!1)?x("Document").$new(q,Ze):x("Document").$new(q,Ze).$parse(),T(me)&&me.$record("parse"),E}catch(I){if(t.rescue(I,[x("StandardError")])){j=I;try{try{U="asciidoctor: FAILED: "+(T(V=te["$[]"]("docfile"))?V:"<stdin>")+": Failed to load AsciiDoc document",T(j["$respond_to?"]("exception"))?(X=j.$exception(""+U+" - "+j.$message()),X.$set_backtrace(j.$backtrace())):(X=j.$class().$new(U,j),X["$stack_trace="](j.$stack_trace()))}catch(u){if(t.rescue(u,[x("StandardError")]))try{X=j}finally{t.pop_exception()}else throw u}return $e.$raise(X)}finally{t.pop_exception()}}else throw I}},-2),Ve(Me,"$load_file",function(g,Ze){var rt=this;return Ze==null&&(Ze=H([],{})),Ne(we("File"),"open",[g,x("FILE_READ_MODE")],function B(A){var Be=B.$$s==null?this:B.$$s;return A==null&&(A=Ue),Be.$load(A,Ze)},{$$s:rt})},-2)}(t.get_singleton_class(De),et)}(de[0],de)},Opal.modules["asciidoctor/convert"]=function(t){var W=t.module,H=t.hash2,T=t.eqeqeq,O=t.truthy,c=t.eqeq,N=t.rb_ge,Ne=t.not,L=t.rb_lt,ve=t.neqeq,v=t.def,Ve=t.send,de=t.alias,Ue=[],we=t.nil,Ie=t.$$$;return t.add_stubs("delete,merge,===,absolute_path,path,load,respond_to?,[]=,key?,fetch,[],dirname,expand_path,join,attributes,outfilesuffix,==,raise,pwd,>=,safe,normalize_system_path,mkdir_p,directory?,!,convert,write,attr,uriish?,basebackend?,attr?,<,include?,syntax_highlighter,write_stylesheet?,write_primary_stylesheet,instance,to_s,read_asset,file?,!=,write_stylesheet,open,convert_file"),function(st,De){var et=W(st,"Asciidoctor"),Me=[et].concat(De);return function(Ge,it){var x=[Ge].concat(it),Xe=t.$r(x);return v(Ge,"$convert",function(Ze,rt){var B=this,A=we,Be=we,$e=we,me=we,fe=we,V=we,te=we,P=we,q=we,E=we,j=we,U=we,X=we,I=we,u=we,r=we,l=we,y=we,h=we,f=we,S=we,R=we,Z=we,G=we;if(rt==null&&(rt=H([],{})),(rt=rt.$merge()).$delete("parse"),A=rt.$delete("to_dir"),Be=rt.$delete("mkdirs"),T(!0,$e=me=rt.$delete("to_file"))||T(we,$e))O(fe=A)||T(Ie("File"),Ze)&&(V=Ie("File").$absolute_path(Ze.$path())),me=we;else if(T(!1,$e))me=we;else{if(T("/dev/null",$e))return B.$load(Ze,rt);O(te=me["$respond_to?"]("write"))||rt["$[]="]("to_file",fe=me)}return O(rt["$key?"]("standalone"))||(O(V)||O(fe)?rt["$[]="]("standalone",rt.$fetch("header_footer",!0)):O(rt["$key?"]("header_footer"))&&rt["$[]="]("standalone",rt["$[]"]("header_footer"))),O(V)?rt["$[]="]("to_dir",P=Ie("File").$dirname(V)):O(fe)&&(O(A)?O(me)?rt["$[]="]("to_dir",Ie("File").$dirname(Ie("File").$expand_path(me,A))):rt["$[]="]("to_dir",Ie("File").$expand_path(A)):O(me)&&rt["$[]="]("to_dir",Ie("File").$dirname(Ie("File").$expand_path(me)))),q=B.$load(Ze,rt),O(V)?(E=Ie("File").$join(P,""+q.$attributes()["$[]"]("docname")+q.$outfilesuffix()),c(E,V)&&B.$raise(Ie("IOError"),"input file and output file cannot be the same: "+E)):O(fe)?(j=O(rt["$key?"]("base_dir"))?Ie("File").$expand_path(rt["$[]"]("base_dir")):Ie("Dir").$pwd(),U=O(N(q.$safe(),Ie(Xe("SafeMode"),"SAFE")))?j:we,O(A)?(P=q.$normalize_system_path(A,j,U,H(["target_name","recover"],{target_name:"to_dir",recover:!1})),O(me)?(E=q.$normalize_system_path(me,P,we,H(["target_name","recover"],{target_name:"to_dir",recover:!1})),P=Ie("File").$dirname(E)):E=Ie("File").$join(P,""+q.$attributes()["$[]"]("docname")+q.$outfilesuffix())):O(me)&&(E=q.$normalize_system_path(me,j,U,H(["target_name","recover"],{target_name:"to_dir",recover:!1})),P=Ie("File").$dirname(E)),T(Ie("File"),Ze)&&c(E,Ie("File").$absolute_path(Ze.$path()))&&B.$raise(Ie("IOError"),"input file and output file cannot be the same: "+E),O(Be)?Xe("Helpers").$mkdir_p(P):O(Ie("File")["$directory?"](P))||B.$raise(Ie("IOError"),"target directory does not exist: "+A+" (hint: set :mkdirs option)")):(E=me,P=we),O(E)&&Ne(te)?X=q.$convert(H(["outfile","outdir"],{outfile:E,outdir:P})):X=q.$convert(),O(E)?(q.$write(X,E),Ne(te)&&O(L(q.$safe(),Ie(Xe("SafeMode"),"SECURE")))&&O(q["$attr?"]("linkcss"))&&O(q["$attr?"]("copycss"))&&O(q["$basebackend?"]("html"))&&Ne(O($e=I=q.$attr("stylesdir"))?Xe("Helpers")["$uriish?"](I):$e)&&(O(u=q.$attr("stylesheet"))&&(O(Xe("DEFAULT_STYLESHEET_KEYS")["$include?"](u))?r=!0:Ne(Xe("Helpers")["$uriish?"](u))&&(l=!0)),y=O($e=h=q.$syntax_highlighter())?h["$write_stylesheet?"](q):$e,(O(r)||O(l)||O(y))&&(f=q.$normalize_system_path(I,P,O(N(q.$safe(),Ie(Xe("SafeMode"),"SAFE")))?P:we),O(Be)?Xe("Helpers").$mkdir_p(f):O(Ie("File")["$directory?"](f))||B.$raise(Ie("IOError"),"target stylesheet directory does not exist: "+f+" (hint: set :mkdirs option)"),O(r)?Xe("Stylesheets").$instance().$write_primary_stylesheet(f):O(l)&&(c(S=q.$attr("copycss"),"")||c(S,!0)?S=q.$normalize_system_path(u):S=q.$normalize_system_path(S.$to_s()),R=q.$normalize_system_path(u,f,O(N(q.$safe(),Ie(Xe("SafeMode"),"SAFE")))?P:we),ve(S,R)&&O(Z=q.$read_asset(S,H(["warn_on_failure","label"],{warn_on_failure:Ie("File")["$file?"](R)["$!"](),label:"stylesheet"})))&&(ve(G=Ie("File").$dirname(R),f)&&Ne(Ie("File")["$directory?"](G))&&(O(Be)?Xe("Helpers").$mkdir_p(G):B.$raise(Ie("IOError"),"target stylesheet directory does not exist: "+G+" (hint: set :mkdirs option)")),Ie("File").$write(R,Z,H(["mode"],{mode:Xe("FILE_WRITE_MODE")})))),O(y)&&h.$write_stylesheet(q,f))),q):X},-2),v(Ge,"$convert_file",function(Ze,rt){var B=this;return rt==null&&(rt=H([],{})),Ve(Ie("File"),"open",[Ze,Xe("FILE_READ_MODE")],function A(Be){var $e=A.$$s==null?this:A.$$s;return Be==null&&(Be=we),$e.$convert(Be,rt)},{$$s:B})},-2),de(Ge,"render","convert"),de(Ge,"render_file","convert_file")}(t.get_singleton_class(et),Me)}(Ue[0],Ue)},Opal.modules["asciidoctor/syntax_highlighter/highlightjs"]=function(t){var W=t.module,H=t.klass,T=t.slice,O=t.send2,c=t.find_super,N=t.to_a,Ne=t.def,L=t.hash2,ve=t.send,v=t.truthy,Ve=t.return_val,de=t.eqeq,Ue=[],we=t.nil,Ie=t.$$$;return t.add_stubs("register_for,merge,proc,[]=,attr,[],==,attr?,join,map,split,lstrip"),function(st,De){var et=W(st,"Asciidoctor"),Me=[et].concat(De),Ge=t.$r(Me);return function(it,x,Xe){var g=H(it,x,"HighlightJsAdapter"),Ze=[g].concat(Xe),rt=t.$r(Ze);return g.$register_for("highlightjs","highlight.js"),Ne(g,"$initialize",function B(A){var Be,$e,me=B.$$p||we,fe=this;return B.$$p=null,Be=T(arguments),$e=Be,O(fe,c(fe,"initialize",B,!1,!0),"initialize",N($e),me),fe.name=fe.pre_class="highlightjs"},-1),Ne(g,"$format",function B(A,Be,$e){B.$$p;var me=this;return B.$$p=null,O(me,c(me,"format",B,!1,!0),"format",[A,Be,$e.$merge(L(["transform"],{transform:ve(me,"proc",[],function(V,te){var P,q=we;return te==null&&(te=we),P=["class","language-"+(v(q=Be)?q:"none")+" hljs"],ve(te,"[]=",P),P[P.length-1]})}))],null)}),Ne(g,"$docinfo?",Ve(!0)),Ne(g,"$docinfo",function(A,Be,$e){var me=we;return me=Be.$attr("highlightjsdir",""+$e["$[]"]("cdn_base_url")+"/highlight.js/"+rt("HIGHLIGHT_JS_VERSION")),de(A,"head")?'<link rel="stylesheet" href="'+me+"/styles/"+Be.$attr("highlightjs-theme","github")+'.min.css"'+$e["$[]"]("self_closing_tag_slash")+">":'<script src="'+me+`/highlight.min.js"><\/script>
`+(v(Be["$attr?"]("highlightjs-languages"))?ve(Be.$attr("highlightjs-languages").$split(","),"map",[],function(V){return V==null&&(V=we),'<script src="'+me+"/languages/"+V.$lstrip()+`.min.js"><\/script>
`}).$join():"")+`<script>
if (!hljs.initHighlighting.called) {
  hljs.initHighlighting.called = true
  ;[].slice.call(document.querySelectorAll('pre.highlight > code[data-lang]')).forEach(function (el) { hljs.highlightBlock(el) })
}
<\/script>`})}(Ge("SyntaxHighlighter"),Ie(Ge("SyntaxHighlighter"),"Base"),Me)}(Ue[0],Ue)},Opal.modules["asciidoctor/syntax_highlighter"]=function(t){var W=t.module,H=t.hash2,T=t.def,O=t.return_val,c=t.defs,N=t.slice,Ne=t.send,L=t.to_a,ve=t.truthy,v=t.eqeqeq,Ve=t.Class,de=t.klass,Ue=t.class_variable_set,we=t.class_variable_get,Ie=t.top,st=[],De=t.nil,et=t.$$$;return t.add_stubs("attr_reader,raise,class,extend,private_class_method,register,map,to_s,each,[]=,registry,[],for,===,new,name,private,include,delete,join,content"),function(Me,Ge){var it=W(Me,"Asciidoctor"),x=[it].concat(Ge);return function(Xe,g){var Ze=W(Xe,"SyntaxHighlighter"),rt=[Ze].concat(g),B=t.$r(rt);return Ze.$attr_reader("name"),T(Ze,"$initialize",function(Be,$e,me){var fe=this;return me==null&&(me=H([],{})),fe.name=fe.pre_class=Be},-2),T(Ze,"$docinfo?",O(De)),T(Ze,"$docinfo",function(Be,$e,me){var fe=this;return fe.$raise(et("NotImplementedError"),""+B("SyntaxHighlighter")+" subclass "+fe.$class()+" must implement the #docinfo method since #docinfo? returns true")}),T(Ze,"$highlight?",O(De)),T(Ze,"$highlight",function(Be,$e,me,fe){var V=this;return V.$raise(et("NotImplementedError"),""+B("SyntaxHighlighter")+" subclass "+V.$class()+" must implement the #highlight method since #highlight? returns true")}),T(Ze,"$format",function(Be,$e,me){var fe=this;return fe.$raise(et("NotImplementedError"),""+B("SyntaxHighlighter")+" subclass "+fe.$class()+" must implement the #format method")}),T(Ze,"$write_stylesheet?",O(De)),T(Ze,"$write_stylesheet",function(Be,$e){var me=this;return me.$raise(et("NotImplementedError"),""+B("SyntaxHighlighter")+" subclass "+me.$class()+" must implement the #write_stylesheet method since #write_stylesheet? returns true")}),c(Ze,"$included",function(Be){return Be.$extend(B("Config"))}),Ze.$private_class_method("included"),function(A,Be){var $e=W(A,"Config"),me=[$e].concat(Be),fe=t.$r(me);return T($e,"$register_for",function(te){var P,q,E=this;return P=N(arguments),q=P,Ne(fe("SyntaxHighlighter"),"register",[E].concat(L(Ne(q,"map",[],function(U){return U==null&&(U=De),U.$to_s()}))))},-1)}(rt[0],rt),function(A,Be){var $e=W(A,"Factory"),me=[$e].concat(Be),fe=t.$r(me);return T($e,"$register",function(te,P){var q,E,j=this;return q=N(arguments,1),E=q,Ne(E,"each",[],function U(X){var I,u=U.$$s==null?this:U.$$s;return X==null&&(X=De),I=[X,te],Ne(u.$registry(),"[]=",I),I[I.length-1]},{$$s:j})},-2),T($e,"$for",function(te){var P=this;return P.$registry()["$[]"](te)}),T($e,"$create",function(te,P,q){var E=this,j=De;return P==null&&(P="html5"),q==null&&(q=H([],{})),ve(j=E.$for(te))?(v(Ve,j)&&(j=j.$new(te,P,q)),ve(j.$name())||E.$raise(et("NameError"),""+j.$class()+" must specify a value for `name'"),j):De},-2),$e.$private(),T($e,"$registry",function(){var te=this;return te.$raise(et("NotImplementedError"),""+fe("Factory")+" subclass "+te.$class()+" must implement the #registry method")})}(rt[0],rt),function(A,Be,$e){var me=de(A,Be,"CustomFactory"),fe=[me].concat($e),V=t.$r(fe);return me.$include(V("Factory")),T(me,"$initialize",function(P){var q=this,E=De;return P==null&&(P=De),q.registry=ve(E=P)?E:H([],{})},-1),me.$private(),me.$attr_reader("registry")}(rt[0],null,rt),function(A,Be){var $e=W(A,"DefaultFactory"),me=[$e].concat(Be),fe=t.$r(me);return $e.$include(fe("Factory")),Ue(me[0],"@@registry",H([],{})),$e.$private(),T($e,"$registry",function(){return we(me[0],"@@registry",!1)}),De}(rt[0],rt),function(A,Be,$e){var me=de(A,Be,"DefaultFactoryProxy"),fe=[me].concat($e),V=t.$r(fe);return me.$include(V("DefaultFactory")),De}(rt[0],B("CustomFactory"),rt),function(A,Be,$e){var me=de(A,Be,"Base"),fe=[me].concat($e),V=t.$r(fe),te=me.$$prototype;return te.pre_class=De,me.$include(V("SyntaxHighlighter")),T(me,"$format",function(q,E,j){var U=this,X=De,I=De,u=De,r=De;return X=ve(j["$[]"]("nowrap"))?""+U.pre_class+" highlight nowrap":""+U.pre_class+" highlight",ve(I=j["$[]"]("transform"))?(I["$[]"](u=H(["class"],{class:X}),r=ve(E)?H(["data-lang"],{"data-lang":E}):H([],{})),ve(E=r.$delete("data-lang"))&&r["$[]="]("data-lang",E),"<pre"+Ne(u,"map",[],function(y,h){return y==null&&(y=De),h==null&&(h=De)," "+y+'="'+h+'"'}).$join()+"><code"+Ne(r,"map",[],function(y,h){return y==null&&(y=De),h==null&&(h=De)," "+y+'="'+h+'"'}).$join()+">"+q.$content()+"</code></pre>"):'<pre class="'+X+'"><code'+(ve(E)?' data-lang="'+E+'"':"")+">"+q.$content()+"</code></pre>"})}(rt[0],null,rt),Ze.$extend(B("DefaultFactory"))}(x[0],x)}(st[0],st),Ie.$require("asciidoctor/syntax_highlighter.rb/../syntax_highlighter/highlightjs"),De},Opal.modules["asciidoctor/timings"]=function(t){var W=t.module,H=t.klass,T=t.hash2,O=t.def,c=t.send,N=t.rb_minus,Ne=t.slice,L=t.rb_plus,ve=t.truthy,v=t.rb_gt,Ve=t.gvars,de=t.eqeq,Ue=t.const_set,we=[],Ie=t.nil,st=t.$$$;return t.add_stubs("[]=,now,-,delete,reduce,+,[],>,time,puts,sprintf,to_f,read_parse,convert,read_parse_convert,private,==,const_defined?,clock_gettime"),function(De,et){var Me=W(De,"Asciidoctor"),Ge=[Me].concat(et);return function(it,x,Xe){var g=H(it,x,"Timings"),Ze,rt,B,A,Be=[g].concat(Xe),$e=t.$r(Be),me=g.$$prototype;return me.timers=me.log=Ie,O(g,"$initialize",function(){var V=this;return V.log=T([],{}),V.timers=T([],{})}),O(g,"$start",function(V){var te,P=this;return te=[V,P.$now()],c(P.timers,"[]=",te),te[te.length-1]}),O(g,"$record",function(V){var te,P=this;return te=[V,N(P.$now(),P.timers.$delete(V))],c(P.log,"[]=",te),te[te.length-1]}),O(g,"$time",function(V){var te,P,q=this,E=Ie;return te=Ne(arguments),P=te,E=c(P,"reduce",[0],function j(U,X){var I=j.$$s==null?this:j.$$s,u=Ie;return I.log==null&&(I.log=Ie),U==null&&(U=Ie),X==null&&(X=Ie),L(U,ve(u=I.log["$[]"](X))?u:0)},{$$s:q}),ve(v(E,0))?E:Ie},-1),O(g,"$read",function(){var V=this;return V.$time("read")}),O(g,"$parse",function(){var V=this;return V.$time("parse")}),O(g,"$read_parse",function(){var V=this;return V.$time("read","parse")}),O(g,"$convert",function(){var V=this;return V.$time("convert")}),O(g,"$read_parse_convert",function(){var V=this;return V.$time("read","parse","convert")}),O(g,"$write",function(){var V=this;return V.$time("write")}),O(g,"$total",function(){var V=this;return V.$time("read","parse","convert","write")}),O(g,"$print_report",function(V,te){var P=this;return Ve.stdout==null&&(Ve.stdout=Ie),V==null&&(V=Ve.stdout),te==null&&(te=Ie),ve(te)&&V.$puts("Input file: "+te),V.$puts("  Time to read and parse source: "+P.$sprintf("%05.5f",P.$read_parse().$to_f())),V.$puts("  Time to convert document: "+P.$sprintf("%05.5f",P.$convert().$to_f())),V.$puts("  Total time (read, parse and convert): "+P.$sprintf("%05.5f",P.$read_parse_convert().$to_f()))},-1),g.$private(),ve(st("Process")["$const_defined?"]("CLOCK_MONOTONIC",!1))&&de((Ze=st("::","Process","skip_raise"))&&(rt=Ze,rt)&&(B=rt)&&((A=B.$clock_gettime)&&!A.$$stub||B["$respond_to_missing?"]("clock_gettime"))?"method":Ie,"method")?(Ue(Be[0],"CLOCK_ID",st(st("Process"),"CLOCK_MONOTONIC")),O(g,"$now",function(){return st("Process").$clock_gettime($e("CLOCK_ID"))})):O(g,"$now",function(){return st("Time").$now()})}(Ge[0],null,Ge)}(we[0],we)},Opal.modules["asciidoctor/converter/html5"]=function(t){var W=t.module,H=t.klass,T=t.const_set,O=t.hash2,c=t.regexp,N=t.eqeq,Ne=t.def,L=t.send2,ve=t.find_super,v=t.truthy,Ve=t.send,de=t.rb_gt,Ue=t.rb_plus,we=t.not,Ie=t.neqeq,st=t.rb_le,De=t.rb_lt,et=t.to_ary,Me=t.rb_times,Ge=t.rb_minus,it=t.gvars,x=t.return_val,Xe=t.alias,g=t.eqeqeq,Ze=t.slice,rt=t.to_a,B=[],A=t.nil,Be=t.$$$;return t.add_stubs("register_for,default=,==,[],init_backend_traits,node_name,convert_inline_quoted,convert_paragraph,convert_inline_anchor,convert_section,convert_listing,convert_literal,convert_ulist,convert_olist,convert_dlist,convert_admonition,convert_colist,convert_embedded,convert_example,convert_floating_title,convert_image,convert_inline_break,convert_inline_button,convert_inline_callout,convert_inline_footnote,convert_inline_image,convert_inline_indexterm,convert_inline_kbd,convert_inline_menu,convert_open,convert_page_break,convert_preamble,convert_quote,convert_sidebar,convert_stem,convert_table,convert_thematic_break,convert_verse,convert_video,convert_document,convert_toc,convert_pass,convert_audio,empty?,attr,attr?,<<,include?,sub_replacements,gsub,extname,slice,length,doctitle,normalize_web_path,primary_stylesheet_data,instance,read_contents,syntax_highlighter,size,docinfo,id,sections?,doctype,role?,role,join,noheader,convert,converter,generate_manname_section,header?,notitle,title,header,each,authors,>,name,email,sub_macros,+,downcase,concat,content,!,footnotes?,footnotes,index,text,nofooter,docinfo?,[]=,delete_at,inspect,!=,to_i,attributes,document,sections,level,caption,captioned_title,<=,numbered,<,sectname,sectnum,convert_outline,title?,icon_uri,compact,media_uri,option?,append_boolean_attribute,style,items,blocks?,text?,chomp,safe,read_svg_contents,alt,image_uri,encode_attribute_value,append_link_constraint_attrs,highlight?,to_sym,format,*,-,count,end_with?,start_with?,list_marker_keyword,parent,warn,logger,context,error,content_only,new,columns,to_h,rows,colspan,rowspan,unshift,shift,split,pop,nil_or_empty?,type,===,catalog,get_root_document,xreftext,target,reftext,chop,sub,match,private,upcase,nested?,parent_document,handles?,to_s,send"),function($e,me){var fe=W($e,"Asciidoctor"),V=[fe].concat(me),te=t.$r(V);return function(P,q,E){var j=H(P,q,"Html5Converter"),U=[j].concat(E),X=t.$r(U),I=j.$$prototype;return I.void_element_slash=I.xml_mode=I.refs=I.resolving_xref=A,j.$register_for("html5"),T(U[0],"QUOTE_TAGS",O(["monospaced","emphasis","strong","double","single","mark","superscript","subscript","asciimath","latexmath"],{monospaced:["<code>","</code>",!0],emphasis:["<em>","</em>",!0],strong:["<strong>","</strong>",!0],double:["&#8220;","&#8221;"],single:["&#8216;","&#8217;"],mark:["<mark>","</mark>",!0],superscript:["<sup>","</sup>",!0],subscript:["<sub>","</sub>",!0],asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]}))["$default="](["",""]),T(U[0],"DropAnchorRx",/<(?:a\b[^>]*|\/a)>/),T(U[0],"StemBreakRx",/ *\\\n(?:\\?\n)*|\n\n+/),T(U[0],"SvgPreambleRx",c(["^",X("CC_ALL"),"*?(?=<svg[\\s>])"])),T(U[0],"SvgStartTagRx",/^<svg(?:\s[^>]*)?>/),T(U[0],"DimensionAttributeRx",c([`\\s(?:width|height|style)=(["'])`,X("CC_ANY"),"*?\\1"])),Ne(j,"$initialize",function(r,l){var y=this,h=A;return l==null&&(l=O([],{})),y.backend=r,N(l["$[]"]("htmlsyntax"),"xml")?(h="xml",y.xml_mode=!0,y.void_element_slash="/"):(h="html",y.xml_mode=A,y.void_element_slash=""),y.$init_backend_traits(O(["basebackend","filetype","htmlsyntax","outfilesuffix","supports_templates"],{basebackend:"html",filetype:"html",htmlsyntax:h,outfilesuffix:".html",supports_templates:!0}))},-2),Ne(j,"$convert",function u(r,l,y){var h=u.$$p||A,f=this;switch(u.$$p=null,l==null&&(l=r.$node_name()),y==null&&(y=A),l){case"inline_quoted":return f.$convert_inline_quoted(r);case"paragraph":return f.$convert_paragraph(r);case"inline_anchor":return f.$convert_inline_anchor(r);case"section":return f.$convert_section(r);case"listing":return f.$convert_listing(r);case"literal":return f.$convert_literal(r);case"ulist":return f.$convert_ulist(r);case"olist":return f.$convert_olist(r);case"dlist":return f.$convert_dlist(r);case"admonition":return f.$convert_admonition(r);case"colist":return f.$convert_colist(r);case"embedded":return f.$convert_embedded(r);case"example":return f.$convert_example(r);case"floating_title":return f.$convert_floating_title(r);case"image":return f.$convert_image(r);case"inline_break":return f.$convert_inline_break(r);case"inline_button":return f.$convert_inline_button(r);case"inline_callout":return f.$convert_inline_callout(r);case"inline_footnote":return f.$convert_inline_footnote(r);case"inline_image":return f.$convert_inline_image(r);case"inline_indexterm":return f.$convert_inline_indexterm(r);case"inline_kbd":return f.$convert_inline_kbd(r);case"inline_menu":return f.$convert_inline_menu(r);case"open":return f.$convert_open(r);case"page_break":return f.$convert_page_break(r);case"preamble":return f.$convert_preamble(r);case"quote":return f.$convert_quote(r);case"sidebar":return f.$convert_sidebar(r);case"stem":return f.$convert_stem(r);case"table":return f.$convert_table(r);case"thematic_break":return f.$convert_thematic_break(r);case"verse":return f.$convert_verse(r);case"video":return f.$convert_video(r);case"document":return f.$convert_document(r);case"toc":return f.$convert_toc(r);case"pass":return f.$convert_pass(r);case"audio":return f.$convert_audio(r);default:return L(f,ve(f,"convert",u,!1,!0),"convert",[r,l,y],h)}},-2),Ne(j,"$convert_document",function(r){var l=this,y=A,h=A,f=A,S=A,R=A,Z=A,G=A,oe=A,Ee=A,Ke=A,Je=A,$t=A,tt=A,at=A,ct=A,ft=A,ut=A,pt=A,ht=A,Et=A,yt=A,Tt=A,qt=A,wt=A,At=A;return y="<br"+(h=l.void_element_slash)+">",v((f=r.$attr("asset-uri-scheme","https"))["$empty?"]())||(f=""+f+":"),S=""+f+"//cdnjs.cloudflare.com/ajax/libs",R=r["$attr?"]("linkcss"),Z=v(r["$attr?"]("max-width"))?' style="max-width: '+r.$attr("max-width")+';"':"",G=["<!DOCTYPE html>"],oe=v(r["$attr?"]("nolang"))?"":' lang="'+r.$attr("lang","en")+'"',G["$<<"]("<html"+(v(l.xml_mode)?' xmlns="http://www.w3.org/1999/xhtml"':"")+oe+">"),G["$<<"](`<head>
<meta charset="`+r.$attr("encoding","UTF-8")+'"'+h+`>
<meta http-equiv="X-UA-Compatible" content="IE=edge"`+h+`>
<meta name="viewport" content="width=device-width, initial-scale=1.0"`+h+`>
<meta name="generator" content="Asciidoctor `+r.$attr("asciidoctor-version")+'"'+h+">"),v(r["$attr?"]("app-name"))&&G["$<<"]('<meta name="application-name" content="'+r.$attr("app-name")+'"'+h+">"),v(r["$attr?"]("description"))&&G["$<<"]('<meta name="description" content="'+r.$attr("description")+'"'+h+">"),v(r["$attr?"]("keywords"))&&G["$<<"]('<meta name="keywords" content="'+r.$attr("keywords")+'"'+h+">"),v(r["$attr?"]("authors"))&&G["$<<"]('<meta name="author" content="'+(v((Ee=r.$sub_replacements(r.$attr("authors")))["$include?"]("<"))?Ee.$gsub(X("XmlSanitizeRx"),""):Ee)+'"'+h+">"),v(r["$attr?"]("copyright"))&&G["$<<"]('<meta name="copyright" content="'+r.$attr("copyright")+'"'+h+">"),v(r["$attr?"]("favicon"))&&(v((Ke=r.$attr("favicon"))["$empty?"]())?(Ke="favicon.ico",Je="image/x-icon"):v($t=X("Helpers").$extname(Ke,A))?Je=N($t,".ico")?"image/x-icon":"image/"+$t.$slice(1,$t.$length()):Je="image/x-icon",G["$<<"]('<link rel="icon" type="'+Je+'" href="'+Ke+'"'+h+">")),G["$<<"]("<title>"+r.$doctitle(O(["sanitize","use_fallback"],{sanitize:!0,use_fallback:!0}))+"</title>"),v(X("DEFAULT_STYLESHEET_KEYS")["$include?"](r.$attr("stylesheet")))?(v(tt=r.$attr("webfonts"))&&G["$<<"]('<link rel="stylesheet" href="'+f+"//fonts.googleapis.com/css?family="+(v(tt["$empty?"]())?"Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700":tt)+'"'+h+">"),v(R)?G["$<<"]('<link rel="stylesheet" href="'+r.$normalize_web_path(X("DEFAULT_STYLESHEET_NAME"),r.$attr("stylesdir",""),!1)+'"'+h+">"):G["$<<"](`<style>
`+X("Stylesheets").$instance().$primary_stylesheet_data()+`
</style>`)):v(r["$attr?"]("stylesheet"))&&(v(R)?G["$<<"]('<link rel="stylesheet" href="'+r.$normalize_web_path(r.$attr("stylesheet"),r.$attr("stylesdir",""))+'"'+h+">"):G["$<<"](`<style>
`+r.$read_contents(r.$attr("stylesheet"),O(["start","warn_on_failure","label"],{start:r.$attr("stylesdir"),warn_on_failure:!0,label:"stylesheet"}))+`
</style>`)),v(r["$attr?"]("icons","font"))&&(v(r["$attr?"]("iconfont-remote"))?G["$<<"]('<link rel="stylesheet" href="'+r.$attr("iconfont-cdn",""+S+"/font-awesome/"+X("FONT_AWESOME_VERSION")+"/css/font-awesome.min.css")+'"'+h+">"):(at=""+r.$attr("iconfont-name","font-awesome")+".css",G["$<<"]('<link rel="stylesheet" href="'+r.$normalize_web_path(at,r.$attr("stylesdir",""),!1)+'"'+h+">"))),v(ct=r.$syntax_highlighter())&&G["$<<"](ft=G.$size()),v((ut=r.$docinfo())["$empty?"]())||G["$<<"](ut),G["$<<"]("</head>"),pt=v(r.$id())?' id="'+r.$id()+'"':"",v(ht=r["$sections?"]())&&v(r["$attr?"]("toc-class"))&&v(r["$attr?"]("toc"))&&v(r["$attr?"]("toc-placement","auto"))?Et=[r.$doctype(),r.$attr("toc-class"),"toc-"+r.$attr("toc-position","header")]:Et=[r.$doctype()],v(r["$role?"]())&&Et["$<<"](r.$role()),G["$<<"]("<body"+pt+' class="'+Et.$join(" ")+'">'),v((ut=r.$docinfo("header"))["$empty?"]())||G["$<<"](ut),v(r.$noheader())||(G["$<<"]('<div id="header"'+Z+">"),N(r.$doctype(),"manpage")?(G["$<<"]("<h1>"+r.$doctitle()+" Manual Page</h1>"),v(ht)&&v(r["$attr?"]("toc"))&&v(r["$attr?"]("toc-placement","auto"))&&G["$<<"]('<div id="toc" class="'+r.$attr("toc-class","toc")+`">
<div id="toctitle">`+r.$attr("toc-title")+`</div>
`+r.$converter().$convert(r,"outline")+`
</div>`),v(r["$attr?"]("manpurpose"))&&G["$<<"](l.$generate_manname_section(r))):(v(r["$header?"]())&&(v(r.$notitle())||G["$<<"]("<h1>"+r.$header().$title()+"</h1>"),yt=[],Tt=1,Ve(r.$authors(),"each",[],function(zt){return zt==null&&(zt=A),yt["$<<"]('<span id="author'+(v(de(Tt,1))?Tt:"")+'" class="author">'+r.$sub_replacements(zt.$name())+"</span>"+y),v(zt.$email())&&yt["$<<"]('<span id="email'+(v(de(Tt,1))?Tt:"")+'" class="email">'+r.$sub_macros(zt.$email())+"</span>"+y),Tt=Ue(Tt,1)}),v(r["$attr?"]("revnumber"))&&yt["$<<"]('<span id="revnumber">'+(v(qt=r.$attr("version-label"))?qt:"").$downcase()+" "+r.$attr("revnumber")+(v(r["$attr?"]("revdate"))?",":"")+"</span>"),v(r["$attr?"]("revdate"))&&yt["$<<"]('<span id="revdate">'+r.$attr("revdate")+"</span>"),v(r["$attr?"]("revremark"))&&yt["$<<"](""+y+'<span id="revremark">'+r.$attr("revremark")+"</span>"),v(yt["$empty?"]())||(G["$<<"]('<div class="details">'),G.$concat(yt),G["$<<"]("</div>"))),v(ht)&&v(r["$attr?"]("toc"))&&v(r["$attr?"]("toc-placement","auto"))&&G["$<<"]('<div id="toc" class="'+r.$attr("toc-class","toc")+`">
<div id="toctitle">`+r.$attr("toc-title")+`</div>
`+r.$converter().$convert(r,"outline")+`
</div>`)),G["$<<"]("</div>")),G["$<<"]('<div id="content"'+Z+`>
`+r.$content()+`
</div>`),v(r["$footnotes?"]())&&we(r["$attr?"]("nofootnotes"))&&(G["$<<"]('<div id="footnotes"'+Z+`>
<hr`+h+">"),Ve(r.$footnotes(),"each",[],function(zt){return zt==null&&(zt=A),G["$<<"]('<div class="footnote" id="_footnotedef_'+zt.$index()+`">
<a href="#_footnoteref_`+zt.$index()+'">'+zt.$index()+"</a>. "+zt.$text()+`
</div>`)}),G["$<<"]("</div>")),v(r.$nofooter())||(G["$<<"]('<div id="footer"'+Z+">"),G["$<<"]('<div id="footer-text">'),v(r["$attr?"]("revnumber"))&&G["$<<"](""+r.$attr("version-label")+" "+r.$attr("revnumber")+y),v(r["$attr?"]("last-update-label"))&&we(r["$attr?"]("reproducible"))&&G["$<<"](""+r.$attr("last-update-label")+" "+r.$attr("docdatetime")),G["$<<"]("</div>"),G["$<<"]("</div>")),v(ct)&&(v(ct["$docinfo?"]("head"))?G["$[]="](ft,ct.$docinfo("head",r,O(["cdn_base_url","linkcss","self_closing_tag_slash"],{cdn_base_url:S,linkcss:R,self_closing_tag_slash:h}))):G.$delete_at(ft),v(ct["$docinfo?"]("footer"))&&G["$<<"](ct.$docinfo("footer",r,O(["cdn_base_url","linkcss","self_closing_tag_slash"],{cdn_base_url:S,linkcss:R,self_closing_tag_slash:h})))),v(r["$attr?"]("stem"))&&(wt=r.$attr("eqnums","none"),v(wt["$empty?"]())&&(wt="AMS"),At=' equationNumbers: { autoNumber: "'+wt+'" } ',G["$<<"](`<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [`+X("INLINE_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+`],
    displayMath: [`+X("BLOCK_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+`],
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [`+X("BLOCK_MATH_DELIMITERS")["$[]"]("asciimath").$inspect()+`],
    ignoreClass: "nostem|noasciimath"
  },
  TeX: {`+At+`}
})
MathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {
  MathJax.InputJax.AsciiMath.postfilterHooks.Add(function (data, node) {
    if ((node = data.script.parentNode) && (node = node.parentNode) && node.classList.contains("stemblock")) {
      data.math.root.display = "block"
    }
    return data
  })
})
<\/script>
<script src="`+S+"/mathjax/"+X("MATHJAX_VERSION")+'/MathJax.js?config=TeX-MML-AM_HTMLorMML"><\/script>')),v((ut=r.$docinfo("footer"))["$empty?"]())||G["$<<"](ut),G["$<<"]("</body>"),G["$<<"]("</html>"),G.$join(X("LF"))}),Ne(j,"$convert_embedded",function(r){var l=this,y=A,h=A,f=A;return y=[],N(r.$doctype(),"manpage")?(v(r.$notitle())||(h=v(r.$id())?' id="'+r.$id()+'"':"",y["$<<"]("<h1"+h+">"+r.$doctitle()+" Manual Page</h1>")),v(r["$attr?"]("manpurpose"))&&y["$<<"](l.$generate_manname_section(r))):v(r["$header?"]())&&we(r.$notitle())&&(h=v(r.$id())?' id="'+r.$id()+'"':"",y["$<<"]("<h1"+h+">"+r.$header().$title()+"</h1>")),v(r["$sections?"]())&&v(r["$attr?"]("toc"))&&Ie(f=r.$attr("toc-placement"),"macro")&&Ie(f,"preamble")&&y["$<<"](`<div id="toc" class="toc">
<div id="toctitle">`+r.$attr("toc-title")+`</div>
`+r.$converter().$convert(r,"outline")+`
</div>`),y["$<<"](r.$content()),v(r["$footnotes?"]())&&we(r["$attr?"]("nofootnotes"))&&(y["$<<"](`<div id="footnotes">
<hr`+l.void_element_slash+">"),Ve(r.$footnotes(),"each",[],function(R){return R==null&&(R=A),y["$<<"]('<div class="footnote" id="_footnotedef_'+R.$index()+`">
<a href="#_footnoteref_`+R.$index()+'">'+R.$index()+"</a>. "+R.$text()+`
</div>`)}),y["$<<"]("</div>")),y.$join(X("LF"))}),Ne(j,"$convert_outline",function(r,l){var y=this,h=A,f=A,S=A,R=A,Z=A,G=A;return l==null&&(l=O([],{})),v(r["$sections?"]())?(h=v(f=l["$[]"]("sectnumlevels"))?f:(v(S=r.$document().$attributes()["$[]"]("sectnumlevels"))?S:3).$to_i(),R=v(f=l["$[]"]("toclevels"))?f:(v(S=r.$document().$attributes()["$[]"]("toclevels"))?S:2).$to_i(),Z=r.$sections(),G=['<ul class="sectlevel'+Z["$[]"](0).$level()+'">'],Ve(Z,"each",[],function oe(Ee){var Ke=oe.$$s==null?this:oe.$$s,Je=A,$t=A,tt=A,at=A;if(Ee==null&&(Ee=A),Je=Ee.$level(),v(Ee.$caption()))$t=Ee.$captioned_title();else if(v(Ee.$numbered())&&v(st(Je,h)))if(v(De(Je,2))&&N(r.$document().$doctype(),"book"))switch(Ee.$sectname()){case"chapter":$t=(v(tt=r.$document().$attributes()["$[]"]("chapter-signifier"))?""+tt+" ":"")+Ee.$sectnum()+" "+Ee.$title();break;case"part":$t=(v(tt=r.$document().$attributes()["$[]"]("part-signifier"))?""+tt+" ":"")+Ee.$sectnum(A,":")+" "+Ee.$title();break;default:$t=""+Ee.$sectnum()+" "+Ee.$title()}else $t=""+Ee.$sectnum()+" "+Ee.$title();else $t=Ee.$title();return v($t["$include?"]("<a"))&&($t=$t.$gsub(X("DropAnchorRx"),"")),v(De(Je,R))&&v(at=Ke.$convert_outline(Ee,O(["toclevels","sectnumlevels"],{toclevels:R,sectnumlevels:h})))?(G["$<<"]('<li><a href="#'+Ee.$id()+'">'+$t+"</a>"),G["$<<"](at),G["$<<"]("</li>")):G["$<<"]('<li><a href="#'+Ee.$id()+'">'+$t+"</a></li>")},{$$s:y}),G["$<<"]("</ul>"),G.$join(X("LF"))):A},-2),Ne(j,"$convert_section",function(r){var l=A,y=A,h=A,f=A,S=A,R=A,Z=A,G=A;if(l=r.$document().$attributes(),y=r.$level(),v(r.$caption()))h=r.$captioned_title();else if(v(r.$numbered())&&v(st(y,(v(f=l["$[]"]("sectnumlevels"))?f:3).$to_i())))if(v(De(y,2))&&N(r.$document().$doctype(),"book"))switch(r.$sectname()){case"chapter":h=(v(S=l["$[]"]("chapter-signifier"))?""+S+" ":"")+r.$sectnum()+" "+r.$title();break;case"part":h=(v(S=l["$[]"]("part-signifier"))?""+S+" ":"")+r.$sectnum(A,":")+" "+r.$title();break;default:h=""+r.$sectnum()+" "+r.$title()}else h=""+r.$sectnum()+" "+r.$title();else h=r.$title();return v(r.$id())?(R=' id="'+(Z=r.$id())+'"',v(l["$[]"]("sectlinks"))&&(h='<a class="link" href="#'+Z+'">'+h+"</a>"),v(l["$[]"]("sectanchors"))&&(N(l["$[]"]("sectanchors"),"after")?h=""+h+'<a class="anchor" href="#'+Z+'"></a>':h='<a class="anchor" href="#'+Z+'"></a>'+h)):R="",N(y,0)?"<h1"+R+' class="sect0'+(v(G=r.$role())?" "+G:"")+'">'+h+`</h1>
`+r.$content():'<div class="sect'+y+(v(G=r.$role())?" "+G:"")+`">
<h`+Ue(y,1)+R+">"+h+"</h"+Ue(y,1)+`>
`+(N(y,1)?`<div class="sectionbody">
`+r.$content()+`
</div>`:r.$content())+`
</div>`}),Ne(j,"$convert_admonition",function(r){var l=this,y=A,h=A,f=A,S=A,R=A;return y=v(r.$id())?' id="'+r.$id()+'"':"",h=r.$attr("name"),f=v(r["$title?"]())?'<div class="title">'+r.$title()+`</div>
`:"",v(r.$document()["$attr?"]("icons"))?v(r.$document()["$attr?"]("icons","font"))&&we(r["$attr?"]("icon"))?S='<i class="fa icon-'+h+'" title="'+r.$attr("textlabel")+'"></i>':S='<img src="'+r.$icon_uri(h)+'" alt="'+r.$attr("textlabel")+'"'+l.void_element_slash+">":S='<div class="title">'+r.$attr("textlabel")+"</div>","<div"+y+' class="admonitionblock '+h+(v(R=r.$role())?" "+R:"")+`">
<table>
<tr>
<td class="icon">
`+S+`
</td>
<td class="content">
`+f+r.$content()+`
</td>
</tr>
</table>
</div>`}),Ne(j,"$convert_audio",function(r){var l=this,y=A,h=A,f=A,S=A,R=A,Z=A,G=A,oe=A,Ee=A;return y=l.xml_mode,h=v(r.$id())?' id="'+r.$id()+'"':"",f=["audioblock",r.$role()].$compact(),S=' class="'+f.$join(" ")+'"',R=v(r["$title?"]())?'<div class="title">'+r.$title()+`</div>
`:"",Z=r.$attr("start"),G=r.$attr("end"),oe=v(Z)||v(G)?"#t="+(v(Ee=Z)?Ee:"")+(v(G)?","+G:""):"","<div"+h+S+`>
`+R+`<div class="content">
<audio src="`+r.$media_uri(r.$attr("target"))+oe+'"'+(v(r["$option?"]("autoplay"))?l.$append_boolean_attribute("autoplay",y):"")+(v(r["$option?"]("nocontrols"))?"":l.$append_boolean_attribute("controls",y))+(v(r["$option?"]("loop"))?l.$append_boolean_attribute("loop",y):"")+`>
Your browser does not support the audio tag.
</audio>
</div>
</div>`}),Ne(j,"$convert_colist",function(r){var l,y=this,h=A,f=A,S=A,R=A,Z=A,G=A;return h=[],f=v(r.$id())?' id="'+r.$id()+'"':"",S=["colist",r.$style(),r.$role()].$compact(),R=' class="'+S.$join(" ")+'"',h["$<<"]("<div"+f+R+">"),v(r["$title?"]())&&h["$<<"]('<div class="title">'+r.$title()+"</div>"),v(r.$document()["$attr?"]("icons"))?(h["$<<"]("<table>"),l=[r.$document()["$attr?"]("icons","font"),0],Z=l[0],G=l[1],Ve(r.$items(),"each",[],function oe(Ee){var Ke=oe.$$s==null?this:oe.$$s,Je=A;return Ke.void_element_slash==null&&(Ke.void_element_slash=A),Ee==null&&(Ee=A),G=Ue(G,1),v(Z)?Je='<i class="conum" data-value="'+G+'"></i><b>'+G+"</b>":Je='<img src="'+r.$icon_uri("callouts/"+G)+'" alt="'+G+'"'+Ke.void_element_slash+">",h["$<<"](`<tr>
<td>`+Je+`</td>
<td>`+Ee.$text()+(v(Ee["$blocks?"]())?Ue(X("LF"),Ee.$content()):"")+`</td>
</tr>`)},{$$s:y}),h["$<<"]("</table>")):(h["$<<"]("<ol>"),Ve(r.$items(),"each",[],function(Ee){return Ee==null&&(Ee=A),h["$<<"](`<li>
<p>`+Ee.$text()+"</p>"+(v(Ee["$blocks?"]())?Ue(X("LF"),Ee.$content()):"")+`
</li>`)}),h["$<<"]("</ol>")),h["$<<"]("</div>"),h.$join(X("LF"))}),Ne(j,"$convert_dlist",function(r){var l=this,y=A,h=A,f=A,S=A,R=A,Z=A,G=A;switch(y=[],h=v(r.$id())?' id="'+r.$id()+'"':"",r.$style()){case"qanda":f=["qlist","qanda",r.$role()];break;case"horizontal":f=["hdlist",r.$role()];break;default:f=["dlist",r.$style(),r.$role()]}switch(S=' class="'+f.$compact().$join(" ")+'"',y["$<<"]("<div"+h+S+">"),v(r["$title?"]())&&y["$<<"]('<div class="title">'+r.$title()+"</div>"),r.$style()){case"qanda":y["$<<"]("<ol>"),Ve(r.$items(),"each",[],function(Ee,Ke){return Ee==null&&(Ee=A),Ke==null&&(Ke=A),y["$<<"]("<li>"),Ve(Ee,"each",[],function($t){return $t==null&&($t=A),y["$<<"]("<p><em>"+$t.$text()+"</em></p>")}),v(Ke)&&(v(Ke["$text?"]())&&y["$<<"]("<p>"+Ke.$text()+"</p>"),v(Ke["$blocks?"]())&&y["$<<"](Ke.$content())),y["$<<"]("</li>")}),y["$<<"]("</ol>");break;case"horizontal":R=l.void_element_slash,y["$<<"]("<table>"),(v(r["$attr?"]("labelwidth"))||v(r["$attr?"]("itemwidth")))&&(y["$<<"]("<colgroup>"),Z=v(r["$attr?"]("labelwidth"))?' style="width: '+r.$attr("labelwidth").$chomp("%")+'%;"':"",y["$<<"]("<col"+Z+R+">"),Z=v(r["$attr?"]("itemwidth"))?' style="width: '+r.$attr("itemwidth").$chomp("%")+'%;"':"",y["$<<"]("<col"+Z+R+">"),y["$<<"]("</colgroup>")),Ve(r.$items(),"each",[],function(Ee,Ke){var Je=A;return Ee==null&&(Ee=A),Ke==null&&(Ke=A),y["$<<"]("<tr>"),y["$<<"]('<td class="hdlist1'+(v(r["$option?"]("strong"))?" strong":"")+'">'),Je=!0,Ve(Ee,"each",[],function(tt){return tt==null&&(tt=A),v(Je)||y["$<<"]("<br"+R+">"),y["$<<"](tt.$text()),Je=A}),y["$<<"]("</td>"),y["$<<"]('<td class="hdlist2">'),v(Ke)&&(v(Ke["$text?"]())&&y["$<<"]("<p>"+Ke.$text()+"</p>"),v(Ke["$blocks?"]())&&y["$<<"](Ke.$content())),y["$<<"]("</td>"),y["$<<"]("</tr>")}),y["$<<"]("</table>");break;default:y["$<<"]("<dl>"),G=v(r.$style())?"":' class="hdlist1"',Ve(r.$items(),"each",[],function(Ee,Ke){return Ee==null&&(Ee=A),Ke==null&&(Ke=A),Ve(Ee,"each",[],function($t){return $t==null&&($t=A),y["$<<"]("<dt"+G+">"+$t.$text()+"</dt>")}),v(Ke)?(y["$<<"]("<dd>"),v(Ke["$text?"]())&&y["$<<"]("<p>"+Ke.$text()+"</p>"),v(Ke["$blocks?"]())&&y["$<<"](Ke.$content()),y["$<<"]("</dd>")):A}),y["$<<"]("</dl>")}return y["$<<"]("</div>"),y.$join(X("LF"))}),Ne(j,"$convert_example",function(r){var l=A,y=A,h=A,f=A,S=A;return l=v(r.$id())?' id="'+r.$id()+'"':"",v(r["$option?"]("collapsible"))?(y=v(r.$role())?' class="'+r.$role()+'"':"",h=v(r["$title?"]())?'<summary class="title">'+r.$title()+"</summary>":'<summary class="title">Details</summary>',"<details"+l+y+(v(r["$option?"]("open"))?" open":"")+`>
`+h+`
<div class="content">
`+r.$content()+`
</div>
</details>`):(f=v(r["$title?"]())?'<div class="title">'+r.$captioned_title()+`</div>
`:"","<div"+l+' class="exampleblock'+(v(S=r.$role())?" "+S:"")+`">
`+f+`<div class="content">
`+r.$content()+`
</div>
</div>`)}),Ne(j,"$convert_floating_title",function(r){var l=A,y=A,h=A;return l="h"+Ue(r.$level(),1),y=v(r.$id())?' id="'+r.$id()+'"':"",h=[r.$style(),r.$role()].$compact(),"<"+l+y+' class="'+h.$join(" ")+'">'+r.$title()+"</"+l+">"}),Ne(j,"$convert_image",function(r){var l=this,y=A,h=A,f=A,S=A,R=A,Z=A,G=A,oe=A,Ee=A,Ke=A;return y=r.$attr("target"),h=v(r["$attr?"]("width"))?' width="'+r.$attr("width")+'"':"",f=v(r["$attr?"]("height"))?' height="'+r.$attr("height")+'"':"",(v(r["$attr?"]("format","svg"))||v(y["$include?"](".svg")))&&v(De(r.$document().$safe(),Be(X("SafeMode"),"SECURE")))?v(r["$option?"]("inline"))?S=v(R=l.$read_svg_contents(r,y))?R:'<span class="alt">'+r.$alt()+"</span>":v(r["$option?"]("interactive"))?(Z=v(r["$attr?"]("fallback"))?'<img src="'+r.$image_uri(r.$attr("fallback"))+'" alt="'+l.$encode_attribute_value(r.$alt())+'"'+h+f+l.void_element_slash+">":'<span class="alt">'+r.$alt()+"</span>",S='<object type="image/svg+xml" data="'+r.$image_uri(y)+'"'+h+f+">"+Z+"</object>"):S='<img src="'+r.$image_uri(y)+'" alt="'+l.$encode_attribute_value(r.$alt())+'"'+h+f+l.void_element_slash+">":S='<img src="'+r.$image_uri(y)+'" alt="'+l.$encode_attribute_value(r.$alt())+'"'+h+f+l.void_element_slash+">",v(r["$attr?"]("link"))&&(S='<a class="image" href="'+r.$attr("link")+'"'+l.$append_link_constraint_attrs(r).$join()+">"+S+"</a>"),G=v(r.$id())?' id="'+r.$id()+'"':"",oe=["imageblock"],v(r["$attr?"]("float"))&&oe["$<<"](r.$attr("float")),v(r["$attr?"]("align"))&&oe["$<<"]("text-"+r.$attr("align")),v(r.$role())&&oe["$<<"](r.$role()),Ee=' class="'+oe.$join(" ")+'"',Ke=v(r["$title?"]())?`
<div class="title">`+r.$captioned_title()+"</div>":"","<div"+G+Ee+`>
<div class="content">
`+S+`
</div>`+Ke+`
</div>`}),Ne(j,"$convert_listing",function(r){var l=A,y=A,h=A,f=A,S=A,R=A,Z=A,G=A,oe=A,Ee=A,Ke=A;return l=v(y=r["$option?"]("nowrap"))?y:r.$document()["$attr?"]("prewrap")["$!"](),N(r.$style(),"source")?(h=r.$attr("language"),v(f=r.$document().$syntax_highlighter())?(S=v(f["$highlight?"]())?O(["css_mode","style"],{css_mode:(v(y=(R=r.$document().$attributes())["$[]"](""+f.$name()+"-css"))?y:"class").$to_sym(),style:R["$[]"](""+f.$name()+"-style")}):O([],{}),S["$[]="]("nowrap",l)):(Z='<pre class="highlight'+(v(l)?" nowrap":"")+'"><code'+(v(h)?' class="language-'+h+'" data-lang="'+h+'"':"")+">",G="</code></pre>")):(Z="<pre"+(v(l)?' class="nowrap"':"")+">",G="</pre>"),oe=v(r.$id())?' id="'+r.$id()+'"':"",Ee=v(r["$title?"]())?'<div class="title">'+r.$captioned_title()+`</div>
`:"","<div"+oe+' class="listingblock'+(v(Ke=r.$role())?" "+Ke:"")+`">
`+Ee+`<div class="content">
`+(v(f)?f.$format(r,h,S):Ue(Ue(Z,r.$content()),G))+`
</div>
</div>`}),Ne(j,"$convert_literal",function(r){var l=A,y=A,h=A,f=A,S=A;return l=v(r.$id())?' id="'+r.$id()+'"':"",y=v(r["$title?"]())?'<div class="title">'+r.$title()+`</div>
`:"",h=v(f=r.$document()["$attr?"]("prewrap")["$!"]())?f:r["$option?"]("nowrap"),"<div"+l+' class="literalblock'+(v(S=r.$role())?" "+S:"")+`">
`+y+`<div class="content">
<pre`+(v(h)?' class="nowrap"':"")+">"+r.$content()+`</pre>
</div>
</div>`}),Ne(j,"$convert_stem",function(r){var l,y,h=this,f=A,S=A,R=A,Z=A,G=A,oe=A,Ee=A,Ke=A;return f=v(r.$id())?' id="'+r.$id()+'"':"",S=v(r["$title?"]())?'<div class="title">'+r.$title()+`</div>
`:"",y=X("BLOCK_MATH_DELIMITERS")["$[]"](R=r.$style().$to_sym()),l=et(y),Z=l[0]==null?A:l[0],G=l[1]==null?A:l[1],v(oe=r.$content())?(N(R,"asciimath")&&v(oe["$include?"](X("LF")))&&(Ee=""+X("LF")+"<br"+h.void_element_slash+">",oe=Ve(oe,"gsub",[X("StemBreakRx")],function(){var $t;return""+G+Me(Ee,Ge((($t=it["~"])===A?A:$t["$[]"](0)).$count(X("LF")),1))+X("LF")+Z})),v(oe["$start_with?"](Z))&&v(oe["$end_with?"](G))||(oe=""+Z+oe+G)):oe="","<div"+f+' class="stemblock'+(v(Ke=r.$role())?" "+Ke:"")+`">
`+S+`<div class="content">
`+oe+`
</div>
</div>`}),Ne(j,"$convert_olist",function(r){var l=this,y=A,h=A,f=A,S=A,R=A,Z=A,G=A,oe=A;return y=[],h=v(r.$id())?' id="'+r.$id()+'"':"",f=["olist",r.$style(),r.$role()].$compact(),S=' class="'+f.$join(" ")+'"',y["$<<"]("<div"+h+S+">"),v(r["$title?"]())&&y["$<<"]('<div class="title">'+r.$title()+"</div>"),R=v(Z=r.$list_marker_keyword())?' type="'+Z+'"':"",G=v(r["$attr?"]("start"))?' start="'+r.$attr("start")+'"':"",oe=v(r["$option?"]("reversed"))?l.$append_boolean_attribute("reversed",l.xml_mode):"",y["$<<"]('<ol class="'+r.$style()+'"'+R+G+oe+">"),Ve(r.$items(),"each",[],function(Ke){return Ke==null&&(Ke=A),v(Ke.$id())?y["$<<"]('<li id="'+Ke.$id()+'"'+(v(Ke.$role())?' class="'+Ke.$role()+'"':"")+">"):v(Ke.$role())?y["$<<"]('<li class="'+Ke.$role()+'">'):y["$<<"]("<li>"),y["$<<"]("<p>"+Ke.$text()+"</p>"),v(Ke["$blocks?"]())&&y["$<<"](Ke.$content()),y["$<<"]("</li>")}),y["$<<"]("</ol>"),y["$<<"]("</div>"),y.$join(X("LF"))}),Ne(j,"$convert_open",function(r){var l=this,y=A,h=A,f=A,S=A;return N(y=r.$style(),"abstract")?N(r.$parent(),r.$document())&&N(r.$document().$doctype(),"book")?(l.$logger().$warn("abstract block cannot be used in a document without a title when doctype is book. Excluding block content."),""):(h=v(r.$id())?' id="'+r.$id()+'"':"",f=v(r["$title?"]())?'<div class="title">'+r.$title()+`</div>
`:"","<div"+h+' class="quoteblock abstract'+(v(S=r.$role())?" "+S:"")+`">
`+f+`<blockquote>
`+r.$content()+`
</blockquote>
</div>`):N(y,"partintro")&&(v(de(r.$level(),0))||Ie(r.$parent().$context(),"section")||Ie(r.$document().$doctype(),"book"))?(l.$logger().$error("partintro block can only be used when doctype is book and must be a child of a book part. Excluding block content."),""):(h=v(r.$id())?' id="'+r.$id()+'"':"",f=v(r["$title?"]())?'<div class="title">'+r.$title()+`</div>
`:"","<div"+h+' class="openblock'+(v(y)&&Ie(y,"open")?" "+y:"")+(v(S=r.$role())?" "+S:"")+`">
`+f+`<div class="content">
`+r.$content()+`
</div>
</div>`)}),Ne(j,"$convert_page_break",x('<div style="page-break-after: always;"></div>')),Ne(j,"$convert_paragraph",function(r){var l=A;return v(r.$role())?l=(v(r.$id())?' id="'+r.$id()+'"':"")+' class="paragraph '+r.$role()+'"':v(r.$id())?l=' id="'+r.$id()+'" class="paragraph"':l=' class="paragraph"',v(r["$title?"]())?"<div"+l+`>
<div class="title">`+r.$title()+`</div>
<p>`+r.$content()+`</p>
</div>`:"<div"+l+`>
<p>`+r.$content()+`</p>
</div>`}),Xe(j,"convert_pass","content_only"),Ne(j,"$convert_preamble",function(r){var l=A,y=A;return v((l=r.$document())["$attr?"]("toc-placement","preamble"))&&v(l["$sections?"]())&&v(l["$attr?"]("toc"))?y=`
<div id="toc" class="`+l.$attr("toc-class","toc")+`">
<div id="toctitle">`+l.$attr("toc-title")+`</div>
`+l.$converter().$convert(l,"outline")+`
</div>`:y="",`<div id="preamble">
<div class="sectionbody">
`+r.$content()+`
</div>`+y+`
</div>`}),Ne(j,"$convert_quote",function(r){var l=this,y=A,h=A,f=A,S=A,R=A,Z=A,G=A,oe=A,Ee=A;return y=v(r.$id())?' id="'+r.$id()+'"':"",h=["quoteblock",r.$role()].$compact(),f=' class="'+h.$join(" ")+'"',S=v(r["$title?"]())?`
<div class="title">`+r.$title()+"</div>":"",R=v(r["$attr?"]("attribution"))?r.$attr("attribution"):A,Z=v(r["$attr?"]("citetitle"))?r.$attr("citetitle"):A,v(R)||v(Z)?(G=v(Z)?"<cite>"+Z+"</cite>":"",oe=v(R)?"&#8212; "+R+(v(Z)?"<br"+l.void_element_slash+`>
`:""):"",Ee=`
<div class="attribution">
`+oe+G+`
</div>`):Ee="","<div"+y+f+">"+S+`
<blockquote>
`+r.$content()+`
</blockquote>`+Ee+`
</div>`}),Ne(j,"$convert_thematic_break",function(r){var l=this;return"<hr"+l.void_element_slash+">"}),Ne(j,"$convert_sidebar",function(r){var l=A,y=A,h=A;return l=v(r.$id())?' id="'+r.$id()+'"':"",y=v(r["$title?"]())?'<div class="title">'+r.$title()+`</div>
`:"","<div"+l+' class="sidebarblock'+(v(h=r.$role())?" "+h:"")+`">
<div class="content">
`+y+r.$content()+`
</div>
</div>`}),Ne(j,"$convert_table",function(r){var l=this,y=A,h=A,f=A,S=A,R=A,Z=A,G=A,oe=A,Ee=A,Ke=A,Je=A;return y=[],h=v(r.$id())?' id="'+r.$id()+'"':"",N(f=r.$attr("frame","all","table-frame"),"topbot")&&(f="ends"),S=["tableblock","frame-"+f,"grid-"+r.$attr("grid","all","table-grid")],v(R=r.$attr("stripes",A,"table-stripes"))&&S["$<<"]("stripes-"+R),Z="",v(G=r["$option?"]("autowidth"))&&we(r["$attr?"]("width"))?S["$<<"]("fit-content"):N(oe=r.$attr("tablepcwidth"),100)?S["$<<"]("stretch"):Z=' style="width: '+oe+'%;"',v(r["$attr?"]("float"))&&S["$<<"](r.$attr("float")),v(Ee=r.$role())&&S["$<<"](Ee),Ke=' class="'+S.$join(" ")+'"',y["$<<"]("<table"+h+Ke+Z+">"),v(r["$title?"]())&&y["$<<"]('<caption class="title">'+r.$captioned_title()+"</caption>"),v(de(r.$attr("rowcount"),0))&&(Je=l.void_element_slash,y["$<<"]("<colgroup>"),v(G)?y=Ue(y,X("Array").$new(r.$columns().$size(),"<col"+Je+">")):Ve(r.$columns(),"each",[],function(tt){return tt==null&&(tt=A),y["$<<"](v(tt["$option?"]("autowidth"))?"<col"+Je+">":'<col style="width: '+tt.$attr("colpcwidth")+'%;"'+Je+">")}),y["$<<"]("</colgroup>"),Ve(r.$rows().$to_h(),"each",[],function(tt,at){return tt==null&&(tt=A),at==null&&(at=A),v(at["$empty?"]())?A:(y["$<<"]("<t"+tt+">"),Ve(at,"each",[],function(ft){return ft==null&&(ft=A),y["$<<"]("<tr>"),Ve(ft,"each",[],function(pt){var ht=A,Et=A,yt=A,Tt=A,qt=A,wt=A;if(pt==null&&(pt=A),N(tt,"head"))ht=pt.$text();else switch(pt.$style()){case"asciidoc":ht='<div class="content">'+pt.$content()+"</div>";break;case"literal":ht='<div class="literal"><pre>'+pt.$text()+"</pre></div>";break;default:ht=v((ht=pt.$content())["$empty?"]())?"":'<p class="tableblock">'+ht.$join(`</p>
<p class="tableblock">`)+"</p>"}return Et=N(tt,"head")||N(pt.$style(),"header")?"th":"td",yt=' class="tableblock halign-'+pt.$attr("halign")+" valign-"+pt.$attr("valign")+'"',Tt=v(pt.$colspan())?' colspan="'+pt.$colspan()+'"':"",qt=v(pt.$rowspan())?' rowspan="'+pt.$rowspan()+'"':"",wt=v(r.$document()["$attr?"]("cellbgcolor"))?' style="background-color: '+r.$document().$attr("cellbgcolor")+';"':"",y["$<<"]("<"+Et+yt+Tt+qt+wt+">"+ht+"</"+Et+">")}),y["$<<"]("</tr>")}),y["$<<"]("</t"+tt+">"))})),y["$<<"]("</table>"),y.$join(X("LF"))}),Ne(j,"$convert_toc",function(r){var l=A,y=A,h=A,f=A,S=A,R=A;return v((l=r.$document())["$attr?"]("toc-placement","macro"))&&v(l["$sections?"]())&&v(l["$attr?"]("toc"))?(v(r.$id())?(y=' id="'+r.$id()+'"',h=' id="'+r.$id()+'title"'):(y=' id="toc"',h=' id="toctitle"'),f=v(r["$title?"]())?r.$title():l.$attr("toc-title"),S=v(r["$attr?"]("levels"))?r.$attr("levels").$to_i():A,R=v(r["$role?"]())?r.$role():l.$attr("toc-class","toc"),"<div"+y+' class="'+R+`">
<div`+h+' class="title">'+f+`</div>
`+l.$converter().$convert(l,"outline",O(["toclevels"],{toclevels:S}))+`
</div>`):"\x3C!-- toc disabled -->"}),Ne(j,"$convert_ulist",function(r){var l=this,y=A,h=A,f=A,S=A,R=A,Z=A,G=A;return y=[],h=v(r.$id())?' id="'+r.$id()+'"':"",f=["ulist",r.$style(),r.$role()].$compact(),S=R="",v(Z=r["$option?"]("checklist"))?(f.$unshift(f.$shift(),"checklist"),G=' class="checklist"',v(r["$option?"]("interactive"))?v(l.xml_mode)?(S='<input type="checkbox" data-item-complete="1" checked="checked"/> ',R='<input type="checkbox" data-item-complete="0"/> '):(S='<input type="checkbox" data-item-complete="1" checked> ',R='<input type="checkbox" data-item-complete="0"> '):v(r.$document()["$attr?"]("icons","font"))?(S='<i class="fa fa-check-square-o"></i> ',R='<i class="fa fa-square-o"></i> '):(S="&#10003; ",R="&#10063; ")):G=v(r.$style())?' class="'+r.$style()+'"':"",y["$<<"]("<div"+h+' class="'+f.$join(" ")+'">'),v(r["$title?"]())&&y["$<<"]('<div class="title">'+r.$title()+"</div>"),y["$<<"]("<ul"+G+">"),Ve(r.$items(),"each",[],function(Ee){return Ee==null&&(Ee=A),v(Ee.$id())?y["$<<"]('<li id="'+Ee.$id()+'"'+(v(Ee.$role())?' class="'+Ee.$role()+'"':"")+">"):v(Ee.$role())?y["$<<"]('<li class="'+Ee.$role()+'">'):y["$<<"]("<li>"),v(Z)&&v(Ee["$attr?"]("checkbox"))?y["$<<"]("<p>"+(v(Ee["$attr?"]("checked"))?S:R)+Ee.$text()+"</p>"):y["$<<"]("<p>"+Ee.$text()+"</p>"),v(Ee["$blocks?"]())&&y["$<<"](Ee.$content()),y["$<<"]("</li>")}),y["$<<"]("</ul>"),y["$<<"]("</div>"),y.$join(X("LF"))}),Ne(j,"$convert_verse",function(r){var l=this,y=A,h=A,f=A,S=A,R=A,Z=A,G=A,oe=A,Ee=A;return y=v(r.$id())?' id="'+r.$id()+'"':"",h=["verseblock",r.$role()].$compact(),f=' class="'+h.$join(" ")+'"',S=v(r["$title?"]())?`
<div class="title">`+r.$title()+"</div>":"",R=v(r["$attr?"]("attribution"))?r.$attr("attribution"):A,Z=v(r["$attr?"]("citetitle"))?r.$attr("citetitle"):A,v(R)||v(Z)?(G=v(Z)?"<cite>"+Z+"</cite>":"",oe=v(R)?"&#8212; "+R+(v(Z)?"<br"+l.void_element_slash+`>
`:""):"",Ee=`
<div class="attribution">
`+oe+G+`
</div>`):Ee="","<div"+y+f+">"+S+`
<pre class="content">`+r.$content()+"</pre>"+Ee+`
</div>`}),Ne(j,"$convert_video",function(r){var l,y,h=this,f=A,S=A,R=A,Z=A,G=A,oe=A,Ee=A,Ke=A,Je=A,$t=A,tt=A,at=A,ct=A,ft=A,ut=A,pt=A,ht=A,Et=A,yt=A,Tt=A,qt=A,wt=A,At=A,Ct=A,zt=A,Jt=A,Kt=A,It=A,xt=A,Rt=A,Bt=A,kt=A,Nt=A,Wt=A,Dt=A,Lt=A,Vt=A;switch(f=h.xml_mode,S=v(r.$id())?' id="'+r.$id()+'"':"",R=["videoblock"],v(r["$attr?"]("float"))&&R["$<<"](r.$attr("float")),v(r["$attr?"]("align"))&&R["$<<"]("text-"+r.$attr("align")),v(r.$role())&&R["$<<"](r.$role()),Z=' class="'+R.$join(" ")+'"',G=v(r["$title?"]())?`
<div class="title">`+r.$title()+"</div>":"",oe=v(r["$attr?"]("width"))?' width="'+r.$attr("width")+'"':"",Ee=v(r["$attr?"]("height"))?' height="'+r.$attr("height")+'"':"",r.$attr("poster")){case"vimeo":return v((Ke=r.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(Ke=""+Ke+":"),Je=v(r["$attr?"]("start"))?"#at="+r.$attr("start"):"",$t=["?"],y=r.$attr("target").$split("/",2),l=et(y),tt=l[0]==null?A:l[0],at=l[1]==null?A:l[1],ct=v(at=v(ft=at)?ft:r.$attr("hash"))?""+(v(ft=$t.$pop())?ft:"&amp;")+"h="+at:"",ut=v(r["$option?"]("autoplay"))?""+(v(ft=$t.$pop())?ft:"&amp;")+"autoplay=1":"",pt=v(r["$option?"]("loop"))?""+(v(ft=$t.$pop())?ft:"&amp;")+"loop=1":"",ht=v(r["$option?"]("muted"))?""+(v(ft=$t.$pop())?ft:"&amp;")+"muted=1":"","<div"+S+Z+">"+G+`
<div class="content">
<iframe`+oe+Ee+' src="'+Ke+"//player.vimeo.com/video/"+tt+ct+ut+pt+ht+Je+'" frameborder="0"'+(v(r["$option?"]("nofullscreen"))?"":h.$append_boolean_attribute("allowfullscreen",f))+`></iframe>
</div>
</div>`;case"youtube":return v((Ke=r.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(Ke=""+Ke+":"),Et=v(r["$option?"]("related"))?1:0,yt=v(r["$attr?"]("start"))?"&amp;start="+r.$attr("start"):"",Tt=v(r["$attr?"]("end"))?"&amp;end="+r.$attr("end"):"",ut=v(r["$option?"]("autoplay"))?"&amp;autoplay=1":"",pt=v(qt=r["$option?"]("loop"))?"&amp;loop=1":"",wt=v(r["$option?"]("muted"))?"&amp;mute=1":"",At=v(r["$option?"]("nocontrols"))?"&amp;controls=0":"",v(r["$option?"]("nofullscreen"))?(Ct="&amp;fs=0",zt=""):(Ct="",zt=h.$append_boolean_attribute("allowfullscreen",f)),Jt=v(r["$option?"]("modest"))?"&amp;modestbranding=1":"",Kt=v(r["$attr?"]("theme"))?"&amp;theme="+r.$attr("theme"):"",It=v(r["$attr?"]("lang"))?"&amp;hl="+r.$attr("lang"):"",y=r.$attr("target").$split("/",2),l=et(y),tt=l[0]==null?A:l[0],xt=l[1]==null?A:l[1],v(xt=v(ft=xt)?ft:r.$attr("list"))?Rt="&amp;list="+xt:(y=tt.$split(",",2),l=et(y),tt=l[0]==null?A:l[0],Bt=l[1]==null?A:l[1],v(Bt=v(ft=Bt)?ft:r.$attr("playlist"))?Rt="&amp;playlist="+tt+","+Bt:Rt=v(qt)?"&amp;playlist="+tt:""),"<div"+S+Z+">"+G+`
<div class="content">
<iframe`+oe+Ee+' src="'+Ke+"//www.youtube.com/embed/"+tt+"?rel="+Et+yt+Tt+ut+pt+wt+At+Rt+Ct+Jt+Kt+It+'" frameborder="0"'+zt+`></iframe>
</div>
</div>`;default:return kt=v((Nt=r.$attr("poster"))["$nil_or_empty?"]())?"":' poster="'+r.$media_uri(Nt)+'"',Wt=v((Nt=r.$attr("preload"))["$nil_or_empty?"]())?"":' preload="'+Nt+'"',Dt=r.$attr("start"),Lt=r.$attr("end"),Vt=v(Dt)||v(Lt)?"#t="+(v(ft=Dt)?ft:"")+(v(Lt)?","+Lt:""):"","<div"+S+Z+">"+G+`
<div class="content">
<video src="`+r.$media_uri(r.$attr("target"))+Vt+'"'+oe+Ee+kt+(v(r["$option?"]("autoplay"))?h.$append_boolean_attribute("autoplay",f):"")+(v(r["$option?"]("muted"))?h.$append_boolean_attribute("muted",f):"")+(v(r["$option?"]("nocontrols"))?"":h.$append_boolean_attribute("controls",f))+(v(r["$option?"]("loop"))?h.$append_boolean_attribute("loop",f):"")+Wt+`>
Your browser does not support the video tag.
</video>
</div>
</div>`}}),Ne(j,"$convert_inline_anchor",function(r){var l=this,y=A,h=A,f=A,S=A,R=A,Z=A,G=A,oe=A,Ee=A;switch(r.$type()){case"xref":return v(y=r.$attributes()["$[]"]("path"))?(h=l.$append_link_constraint_attrs(r,v(r.$role())?[' class="'+r.$role()+'"']:[]).$join(),f=v(S=r.$text())?S:y):(h=v(r.$role())?' class="'+r.$role()+'"':"",v(f=r.$text())||(g(X("AbstractNode"),R=v(S=(l.refs=v(Z=l.refs)?Z:r.$document().$catalog()["$[]"]("refs"))["$[]"](G=r.$attributes()["$[]"]("refid")))?S:v(G["$nil_or_empty?"]())?oe=l.$get_root_document(r):A)?v(l.resolving_xref=v(S=l.resolving_xref)?S:Ee=!0)&&v(Ee)?(v(f=R.$xreftext(r.$attr("xrefstyle",A,!0)))?v(f["$include?"]("<a"))&&(f=f.$gsub(X("DropAnchorRx"),"")):f=v(oe)?"[^top]":"["+G+"]",l.resolving_xref=A):f=v(oe)?"[^top]":"["+G+"]":f="["+G+"]")),'<a href="'+r.$target()+'"'+h+">"+f+"</a>";case"ref":return'<a id="'+r.$id()+'"></a>';case"link":return h=v(r.$id())?[' id="'+r.$id()+'"']:[],v(r.$role())&&h["$<<"](' class="'+r.$role()+'"'),v(r["$attr?"]("title"))&&h["$<<"](' title="'+r.$attr("title")+'"'),'<a href="'+r.$target()+'"'+l.$append_link_constraint_attrs(r,h).$join()+">"+r.$text()+"</a>";case"bibref":return'<a id="'+r.$id()+'"></a>['+(v(S=r.$reftext())?S:r.$id())+"]";default:return l.$logger().$warn("unknown anchor type: "+r.$type().$inspect()),A}}),Ne(j,"$convert_inline_break",function(r){var l=this;return""+r.$text()+"<br"+l.void_element_slash+">"}),Ne(j,"$convert_inline_button",function(r){return'<b class="button">'+r.$text()+"</b>"}),Ne(j,"$convert_inline_callout",function(r){var l=this,y=A,h=A;return v(r.$document()["$attr?"]("icons","font"))?'<i class="conum" data-value="'+r.$text()+'"></i><b>('+r.$text()+")</b>":v(r.$document()["$attr?"]("icons"))?(y=r.$icon_uri("callouts/"+r.$text()),'<img src="'+y+'" alt="'+r.$text()+'"'+l.void_element_slash+">"):g(Be("Array"),h=r.$attributes()["$[]"]("guard"))?'&lt;!--<b class="conum">('+r.$text()+")</b>--&gt;":""+h+'<b class="conum">('+r.$text()+")</b>"}),Ne(j,"$convert_inline_footnote",function(r){var l=A,y=A;return v(l=r.$attr("index"))?N(r.$type(),"xref")?'<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_'+l+'" title="View footnote.">'+l+"</a>]</sup>":(y=v(r.$id())?' id="_footnote_'+r.$id()+'"':"",'<sup class="footnote"'+y+'>[<a id="_footnoteref_'+l+'" class="footnote" href="#_footnotedef_'+l+'" title="View footnote.">'+l+"</a>]</sup>"):N(r.$type(),"xref")?'<sup class="footnoteref red" title="Unresolved footnote reference.">['+r.$text()+"]</sup>":A}),Ne(j,"$convert_inline_image",function(r){var l=this,y=A,h=A,f=A,S=A,R=A,Z=A,G=A,oe=A,Ee=A,Ke=A;return y=r.$target(),N(h=v(f=r.$type())?f:"image","icon")?N(S=r.$document().$attr("icons"),"font")?(R="fa fa-"+y,v(r["$attr?"]("size"))&&(R=""+R+" fa-"+r.$attr("size")),v(r["$attr?"]("flip"))?R=""+R+" fa-flip-"+r.$attr("flip"):v(r["$attr?"]("rotate"))&&(R=""+R+" fa-rotate-"+r.$attr("rotate")),Z=v(r["$attr?"]("title"))?' title="'+r.$attr("title")+'"':"",G='<i class="'+R+'"'+Z+"></i>"):v(S)?(Z=v(r["$attr?"]("width"))?' width="'+r.$attr("width")+'"':"",v(r["$attr?"]("height"))&&(Z=""+Z+' height="'+r.$attr("height")+'"'),v(r["$attr?"]("title"))&&(Z=""+Z+' title="'+r.$attr("title")+'"'),G='<img src="'+r.$icon_uri(y)+'" alt="'+l.$encode_attribute_value(r.$alt())+'"'+Z+l.void_element_slash+">"):G="["+r.$alt()+"&#93;":(Z=v(r["$attr?"]("width"))?' width="'+r.$attr("width")+'"':"",v(r["$attr?"]("height"))&&(Z=""+Z+' height="'+r.$attr("height")+'"'),v(r["$attr?"]("title"))&&(Z=""+Z+' title="'+r.$attr("title")+'"'),(v(r["$attr?"]("format","svg"))||v(y["$include?"](".svg")))&&v(De(r.$document().$safe(),Be(X("SafeMode"),"SECURE")))?v(r["$option?"]("inline"))?G=v(f=l.$read_svg_contents(r,y))?f:'<span class="alt">'+r.$alt()+"</span>":v(r["$option?"]("interactive"))?(oe=v(r["$attr?"]("fallback"))?'<img src="'+r.$image_uri(r.$attr("fallback"))+'" alt="'+l.$encode_attribute_value(r.$alt())+'"'+Z+l.void_element_slash+">":'<span class="alt">'+r.$alt()+"</span>",G='<object type="image/svg+xml" data="'+r.$image_uri(y)+'"'+Z+">"+oe+"</object>"):G='<img src="'+r.$image_uri(y)+'" alt="'+l.$encode_attribute_value(r.$alt())+'"'+Z+l.void_element_slash+">":G='<img src="'+r.$image_uri(y)+'" alt="'+l.$encode_attribute_value(r.$alt())+'"'+Z+l.void_element_slash+">"),v(r["$attr?"]("link"))&&(G='<a class="image" href="'+r.$attr("link")+'"'+l.$append_link_constraint_attrs(r).$join()+">"+G+"</a>"),Ee=h,v(Ke=r.$role())?Ee=v(r["$attr?"]("float"))?""+Ee+" "+r.$attr("float")+" "+Ke:""+Ee+" "+Ke:v(r["$attr?"]("float"))&&(Ee=""+Ee+" "+r.$attr("float")),'<span class="'+Ee+'">'+G+"</span>"}),Ne(j,"$convert_inline_indexterm",function(r){return N(r.$type(),"visible")?r.$text():""}),Ne(j,"$convert_inline_kbd",function(r){var l=A;return N((l=r.$attr("keys")).$size(),1)?"<kbd>"+l["$[]"](0)+"</kbd>":'<span class="keyseq"><kbd>'+l.$join("</kbd>+<kbd>")+"</kbd></span>"}),Ne(j,"$convert_inline_menu",function(r){var l=A,y=A,h=A,f=A,S=A;return l=v(r.$document()["$attr?"]("icons","font"))?'&#160;<i class="fa fa-angle-right caret"></i> ':'&#160;<b class="caret">&#8250;</b> ',y="</b>"+l+'<b class="submenu">',h=r.$attr("menu"),v((f=r.$attr("submenus"))["$empty?"]())?v(S=r.$attr("menuitem"))?'<span class="menuseq"><b class="menu">'+h+"</b>"+l+'<b class="menuitem">'+S+"</b></span>":'<b class="menuref">'+h+"</b>":'<span class="menuseq"><b class="menu">'+h+"</b>"+l+'<b class="submenu">'+f.$join(y)+"</b>"+l+'<b class="menuitem">'+r.$attr("menuitem")+"</b></span>"}),Ne(j,"$convert_inline_quoted",function(r){var l,y,h=A,f=A,S=A,R=A;return y=X("QUOTE_TAGS")["$[]"](r.$type()),l=et(y),h=l[0]==null?A:l[0],f=l[1]==null?A:l[1],S=l[2]==null?A:l[2],v(r.$id())?(R=v(r.$role())?' class="'+r.$role()+'"':"",v(S)?""+h.$chop()+' id="'+r.$id()+'"'+R+">"+r.$text()+f:'<span id="'+r.$id()+'"'+R+">"+h+r.$text()+f+"</span>"):v(r.$role())?v(S)?""+h.$chop()+' class="'+r.$role()+'">'+r.$text()+f:'<span class="'+r.$role()+'">'+h+r.$text()+f+"</span>":""+h+r.$text()+f}),Ne(j,"$read_svg_contents",function(r,l){var y=A,h=A,f=A,S=A;if(v(y=r.$read_contents(l,O(["start","normalize","label","warn_if_empty"],{start:r.$document().$attr("imagesdir"),normalize:!0,label:"SVG",warn_if_empty:!0})))){if(v(y["$empty?"]()))return A;v(y["$start_with?"]("<svg"))||(y=y.$sub(X("SvgPreambleRx"),"")),h=f=S=A,Ve(["width","height"],"each",[],function(Z){var G=A,oe=A;if(Z==null&&(Z=A),!v(r["$attr?"](Z)))return A;if(!v(f)){if(N(S=v(G=S)?G:v(oe=y.$match(X("SvgStartTagRx")))?oe:"no_match","no_match"))return A;f=(h=S["$[]"](0)).$gsub(X("DimensionAttributeRx"),"")}return f=""+f.$chop()+" "+Z+'="'+r.$attr(Z)+'">'}),v(f)&&(y=""+f+y["$[]"](t.Range.$new(h.$length(),-1,!1)))}return y}),j.$private(),Ne(j,"$append_boolean_attribute",function(r,l){return v(l)?" "+r+'="'+r+'"':" "+r}),Ne(j,"$append_link_constraint_attrs",function(r,l){var y=A,h=A;return l==null&&(l=[]),v(r["$option?"]("nofollow"))&&(y="nofollow"),v(h=r.$attributes()["$[]"]("window"))?(l["$<<"](' target="'+h+'"'),(N(h,"_blank")||v(r["$option?"]("noopener")))&&l["$<<"](v(y)?' rel="'+y+' noopener"':' rel="noopener"')):v(y)&&l["$<<"](' rel="'+y+'"'),l},-2),Ne(j,"$encode_attribute_value",function(r){return v(r["$include?"]('"'))?r.$gsub('"',"&quot;"):r}),Ne(j,"$generate_manname_section",function(r){var l=A,y=A,h=A,f=A,S=A;return l=r.$attr("manname-title","Name"),v(h=r.$sections()["$[]"](0))&&N(y=h.$title(),y.$upcase())&&(l=l.$upcase()),f=v(S=r.$attr("manname-id"))?' id="'+S+'"':"","<h2"+f+">"+l+`</h2>
<div class="sectionbody">
<p>`+r.$attr("mannames").$join(", ")+" - "+r.$attr("manpurpose")+`</p>
</div>`}),Ne(j,"$get_root_document",function(r){for(;v((r=r.$document())["$nested?"]());)r=r.$parent_document();return r}),Ne(j,"$method_missing",function u(r,l){var y,h,f=u.$$p||A,S=this,R=A;return u.$$p=null,y=Ze(arguments,1),h=y,we((R=r.$to_s())["$start_with?"]("convert_"))&&v(S["$handles?"](R))?Ve(S,"send",["convert_"+R].concat(rt(h))):L(S,ve(S,"method_missing",u,!1,!0),"method_missing",[r].concat(rt(h)),f)},-2),Ne(j,"$respond_to_missing?",function(r,l){var y=this,h=A,f=A;return Ze(arguments,1),v(h=(f=r.$to_s())["$start_with?"]("convert_")["$!"]())?y["$handles?"](f):h},-2)}(te("Converter"),Be(te("Converter"),"Base"),V)}(B[0],B)},Opal.modules["asciidoctor/extensions"]=function(t){var W=t.module,H=t.klass,T=t.truthy,O=t.hash2,c=t.def,N=t.send,Ne=t.alias,L=t.slice,ve=t.rb_plus,v=t.eqeq,Ve=t.rb_gt,de=t.not,Ue=t.eqeqeq,we=t.to_a,Ie=t.to_ary,st=t.const_set,De=t.return_val,et=t.send2,Me=t.find_super,Ge=t.NilClass,it=t.class_variable_set,x=t.class_variable_get,Xe=t.regexp,g=t.Class,Ze=t.return_ivar,rt=t.rb_lt,B=t.rb_minus,A=t.hash,Be=[],$e=t.nil,me=t.$$$;return t.add_stubs("[]=,config,const_defined?,singleton_class?,include,const_get,extend,enable_dsl,attr_reader,merge,class,update,raise,document,==,doctype,[],+,level,delete,>,casecmp,new,title=,sectname=,special=,fetch,numbered=,attr?,!,key?,special,numbered,id=,generate_id,title,update_attributes,tr,basename,create_block,assign_caption,===,parse_blocks,empty?,include?,sub_attributes,parse,each,define_method,unshift,shift,send,size,receiver,binding,define_singleton_method,instance_exec,to_proc,call,option,content_model,flatten,positional_attributes,default_attributes,respond_to?,to_s,partition,to_i,<<,compact,inspect,resolve_attributes,attr_accessor,to_set,contexts,match?,resolve_regexp,format,method,register,reset,values,groups,arity,activate,add_document_processor,tree_processor,tree_processors?,tree_processors,any?,select,add_syntax_processor,to_sym,instance_variable_get,kind,private,join,map,split,capitalize,instance_variable_set,resolve_args,singleton_class,process_block_given?,source_location,freeze,resolve_class,<,update_config,as_symbol,name,name=,pop,-,-@,next_auto_id,generate_name,each_with_object"),function(fe,V){var te=W(fe,"Asciidoctor"),P=[te].concat(V);return function(q,E){var j=W(q,"Extensions"),U=[j].concat(E),X=t.$r(U);return function(I,u,r){var l=H(I,u,"Processor"),y=[l].concat(r),h=t.$r(y),f=l.$$prototype;return f.config=$e,function(S,R){return c(S,"$config",function(){var G=this,oe=$e;return G.config==null&&(G.config=$e),G.config=T(oe=G.config)?oe:O([],{})}),c(S,"$option",function(G,oe){var Ee,Ke=this;return Ee=[G,oe],N(Ke.$config(),"[]=",Ee),Ee[Ee.length-1]}),c(S,"$enable_dsl",function(){var G=this;return T(G["$const_defined?"]("DSL"))?T(G["$singleton_class?"]())?G.$include(G.$const_get("DSL")):G.$extend(G.$const_get("DSL")):$e}),Ne(S,"use_dsl","enable_dsl")}(t.get_singleton_class(l)),l.$attr_reader("config"),c(l,"$initialize",function(R){var Z=this;return R==null&&(R=O([],{})),Z.config=Z.$class().$config().$merge(R)},-1),c(l,"$update_config",function(R){var Z=this;return Z.config.$update(R)}),c(l,"$process",function(R){var Z=this;return L(arguments),Z.$raise(me("NotImplementedError"),""+h("Processor")+" subclass "+Z.$class()+" must implement the #process method")},-1),c(l,"$create_section",function(R,Z,G,oe){var Ee,Ke,Je=$e,$t=$e,tt=$e,at=$e,ct=$e,ft=$e,ut=$e,pt=$e,ht=$e,Et=$e;return oe==null&&(oe=O([],{})),Je=R.$document(),$t=(tt=Je.$doctype())["$=="]("book"),at=T(ct=oe["$[]"]("level"))?ct:ve(R.$level(),1),T(ft=G.$delete("style"))?T($t)&&v(ft,"abstract")?(Ee=["chapter",1],ut=Ee[0],at=Ee[1]):(Ee=[ft,!0],ut=Ee[0],pt=Ee[1],v(at,0)&&(at=1)):T($t)?ut=v(at,0)?"part":T(Ve(at,1))?"section":"chapter":v(tt,"manpage")&&v(Z.$casecmp("synopsis"),0)?(Ee=["synopsis",!0],ut=Ee[0],pt=Ee[1]):ut="section",ht=h("Section").$new(R,at),Ee=[Z,ut],Ke=[Ee[0]],N(ht,"title=",Ke),Ke[Ke.length-1],Ke=[Ee[1]],N(ht,"sectname=",Ke),Ke[Ke.length-1],T(pt)?(ht["$special="](!0),T(oe.$fetch("numbered",ft["$=="]("appendix")))?ht["$numbered="](!0):de(oe["$key?"]("numbered"))&&T(Je["$attr?"]("sectnums","all"))&&ht["$numbered="](T($t)&&v(at,1)?"chapter":!0)):T(Ve(at,0))?T(oe.$fetch("numbered",Je["$attr?"]("sectnums")))&&ht["$numbered="](T(ht.$special())?T(ct=R.$numbered())||ct:!0):T(oe.$fetch("numbered",T(ct=$t)?Je["$attr?"]("partnums"):ct))&&ht["$numbered="](!0),v(Et=G["$[]"]("id"),!1)?G.$delete("id"):ht["$id="]((Ee=["id",T(ct=Et)?ct:T(Je["$attr?"]("sectids"))?h("Section").$generate_id(ht.$title(),Je):$e],N(G,"[]=",Ee),Ee[Ee.length-1])),ht.$update_attributes(G),ht},-4),c(l,"$create_block",function(R,Z,G,oe,Ee){return Ee==null&&(Ee=O([],{})),h("Block").$new(R,Z,O(["source","attributes"],{source:G,attributes:oe}).$merge(Ee))},-5),c(l,"$create_list",function(R,Z,G){var oe=$e;return G==null&&(G=$e),oe=h("List").$new(R,Z),T(G)&&oe.$update_attributes(G),oe},-3),c(l,"$create_list_item",function(R,Z){return Z==null&&(Z=$e),h("ListItem").$new(R,Z)},-2),c(l,"$create_image_block",function(R,Z,G){var oe,Ee=this,Ke=$e,Je=$e,$t=$e;return G==null&&(G=O([],{})),T(Ke=Z["$[]"]("target"))||Ee.$raise(me("ArgumentError"),"Unable to create an image block, target attribute is required"),T(Z["$[]"]("alt"))||Z["$[]="]("alt",(oe=["default-alt",h("Helpers").$basename(Ke,!0).$tr("_-"," ")],N(Z,"[]=",oe),oe[oe.length-1])),Je=T(Z["$key?"]("title"))?Z.$delete("title"):$e,$t=Ee.$create_block(R,"image",$e,Z,G),T(Je)&&($t["$title="](Je),$t.$assign_caption(Z.$delete("caption"),"figure")),$t},-3),c(l,"$create_inline",function(R,Z,G,oe){return oe==null&&(oe=O([],{})),h("Inline").$new(R,Z,G,v(Z,"quoted")?O(["type"],{type:"unquoted"}).$merge(oe):oe)},-4),c(l,"$parse_content",function(R,Z,G){var oe=$e;return G==null&&(G=$e),oe=Ue(h("Reader"),Z)?Z:h("Reader").$new(Z),h("Parser").$parse_blocks(oe,R,G),R},-3),c(l,"$parse_attributes",function(R,Z,G){var oe=$e;return G==null&&(G=O([],{})),T(T(Z)?Z["$empty?"]():!0)?O([],{}):(T(G["$[]"]("sub_attributes"))&&T(Z["$include?"](h("ATTR_REF_HEAD")))&&(Z=R.$sub_attributes(Z)),h("AttributeList").$new(Z).$parse(T(oe=G["$[]"]("positional_attributes"))?oe:[]))},-3),N([["create_paragraph","create_block","paragraph"],["create_open_block","create_block","open"],["create_example_block","create_block","example"],["create_pass_block","create_block","pass"],["create_listing_block","create_block","listing"],["create_literal_block","create_block","literal"],["create_anchor","create_inline","anchor"],["create_inline_pass","create_inline","quoted"]],"each",[],function S(R,Z,G){var oe=S.$$s==null?this:S.$$s;return R==null&&(R=$e),Z==null&&(Z=$e),G==null&&(G=$e),N(oe,"define_method",[R],function Ee(Ke){var Je,$t,tt=Ee.$$s==null?this:Ee.$$s;return Je=L(arguments),$t=Je,$t.$unshift($t.$shift(),G),N(tt,"send",[Z].concat(we($t)))},{$$arity:-1,$$s:oe})},{$$s:l})}(U[0],null,U),function(I){var u=W(I,"ProcessorDsl");return c(u,"$option",function(l,y){var h,f=this;return h=[l,y],N(f.$config(),"[]=",h),h[h.length-1]}),c(u,"$process",function r(l){var y=r.$$p||$e,h,f,S,R=this,Z=$e;return R.process_block==null&&(R.process_block=$e),r.$$p=null,h=L(arguments),f=h,y!==$e?(T(f["$empty?"]())||R.$raise(me("ArgumentError"),"wrong number of arguments (given "+f.$size()+", expected 0)"),T(y.$binding())&&v(R,y.$binding().$receiver())||(Z=R,N(y,"define_singleton_method",["call"],function(oe){var Ee,Ke;return Ee=L(arguments),Ke=Ee,N(Z,"instance_exec",we(Ke),y.$to_proc())},-1)),R.process_block=y):T((S=R.process_block,S!=null&&S!==$e?"instance-variable":$e))?N(R.process_block,"call",we(f)):R.$raise(me("NotImplementedError"),""+R.$class()+" #process method called before being registered")},-1),c(u,"$process_block_given?",function(){var l,y=this;return l=y.process_block,l!=null&&l!==$e?"instance-variable":$e})}(U[0]),function(I,u){var r=W(I,"DocumentProcessorDsl"),l=[r].concat(u),y=t.$r(l);return r.$include(y("ProcessorDsl")),c(r,"$prefer",function(){var f=this;return f.$option("position",">>")})}(U[0],U),function(I,u){var r=W(I,"SyntaxProcessorDsl"),l=[r].concat(u),y=t.$r(l);return r.$include(y("ProcessorDsl")),c(r,"$named",function(f){var S=this;return Ue(y("Processor"),S)?S.name=f:S.$option("name",f)}),c(r,"$content_model",function(f){var S=this;return S.$option("content_model",f)}),Ne(r,"parse_content_as","content_model"),c(r,"$positional_attributes",function(f){var S,R,Z=this;return S=L(arguments),R=S,Z.$option("positional_attrs",R.$flatten())},-1),Ne(r,"name_positional_attributes","positional_attributes"),Ne(r,"positional_attrs","positional_attributes"),c(r,"$default_attributes",function(f){var S=this;return S.$option("default_attrs",f)}),Ne(r,"default_attrs","default_attributes"),c(r,"$resolve_attributes",function(f){var S,R,Z,G=this,oe=$e,Ee=$e,Ke=$e;return S=L(arguments),R=S,T(Ve(R.$size(),1))||T((R=R.$fetch(0,!0))["$respond_to?"]("to_sym"))&&(R=[R]),Ue(!0,oe=R)?(G.$option("positional_attrs",[]),G.$option("default_attrs",O([],{}))):Ue(me("Array"),oe)?(Z=[[],O([],{})],Ee=Z[0],Ke=Z[1],N(R,"each",[],function($t){var tt,at,ct=$e,ft=$e,ut=$e;return $t==null&&($t=$e),T(($t=$t.$to_s())["$include?"]("="))?(at=$t.$partition("="),tt=Ie(at),ct=tt[0]==null?$e:tt[0],tt[1]==null||tt[1],ft=tt[2]==null?$e:tt[2],T(ct["$include?"](":"))&&(at=ct.$partition(":"),tt=Ie(at),ut=tt[0]==null?$e:tt[0],tt[1]==null||tt[1],ct=tt[2]==null?$e:tt[2],ut=v(ut,"@")?Ee.$size():ut.$to_i(),Ee["$[]="](ut,ct)),tt=[ct,ft],N(Ke,"[]=",tt),tt[tt.length-1]):T($t["$include?"](":"))?(at=$t.$partition(":"),tt=Ie(at),ut=tt[0]==null?$e:tt[0],tt[1]==null||tt[1],ct=tt[2]==null?$e:tt[2],ut=v(ut,"@")?Ee.$size():ut.$to_i(),tt=[ut,ct],N(Ee,"[]=",tt),tt[tt.length-1]):Ee["$<<"]($t)}),G.$option("positional_attrs",Ee.$compact()),G.$option("default_attrs",Ke)):Ue(me("Hash"),oe)?(Z=[[],O([],{})],Ee=Z[0],Ke=Z[1],N(R,"each",[],function($t,tt){var at,ct,ft=$e,ut=$e;return $t==null&&($t=$e),tt==null&&(tt=$e),T((ft=$t.$to_s())["$include?"](":"))&&(ct=ft.$partition(":"),at=Ie(ct),ut=at[0]==null?$e:at[0],at[1]==null||at[1],ft=at[2]==null?$e:at[2],ut=v(ut,"@")?Ee.$size():ut.$to_i(),Ee["$[]="](ut,ft)),T(tt)?(at=[ft,tt],N(Ke,"[]=",at),at[at.length-1]):$e}),G.$option("positional_attrs",Ee.$compact()),G.$option("default_attrs",Ke)):G.$raise(me("ArgumentError"),"unsupported attributes specification for macro: "+R.$inspect())},-1),Ne(r,"resolves_attributes","resolve_attributes")}(U[0],U),function(I,u,r){var l=H(I,u,"Preprocessor"),y=[l].concat(r),h=t.$r(y);return c(l,"$process",function(S,R){var Z=this;return Z.$raise(me("NotImplementedError"),""+h("Preprocessor")+" subclass "+Z.$class()+" must implement the #process method")})}(U[0],X("Processor"),U),st(X("Preprocessor"),"DSL",X("DocumentProcessorDsl")),function(I,u,r){var l=H(I,u,"TreeProcessor"),y=[l].concat(r),h=t.$r(y);return c(l,"$process",function(S){var R=this;return R.$raise(me("NotImplementedError"),""+h("TreeProcessor")+" subclass "+R.$class()+" must implement the #process method")})}(U[0],X("Processor"),U),st(X("TreeProcessor"),"DSL",X("DocumentProcessorDsl")),st(U[0],"Treeprocessor",X("TreeProcessor")),function(I,u,r){var l=H(I,u,"Postprocessor"),y=[l].concat(r),h=t.$r(y);return c(l,"$process",function(S,R){var Z=this;return Z.$raise(me("NotImplementedError"),""+h("Postprocessor")+" subclass "+Z.$class()+" must implement the #process method")})}(U[0],X("Processor"),U),st(X("Postprocessor"),"DSL",X("DocumentProcessorDsl")),function(I,u,r){var l=H(I,u,"IncludeProcessor"),y=[l].concat(r),h=t.$r(y);return c(l,"$process",function(S,R,Z,G){var oe=this;return oe.$raise(me("NotImplementedError"),""+h("IncludeProcessor")+" subclass "+oe.$class()+" must implement the #process method")}),c(l,"$handles?",De(!0))}(U[0],X("Processor"),U),function(I,u){var r=W(I,"IncludeProcessorDsl"),l=[r].concat(u),y=t.$r(l);return r.$include(y("DocumentProcessorDsl")),c(r,"$handles?",function h(f){var S=h.$$p||$e,R,Z,G,oe=this;return oe.handles_block==null&&(oe.handles_block=$e),h.$$p=null,R=L(arguments),Z=R,S!==$e?(T(Z["$empty?"]())||oe.$raise(me("ArgumentError"),"wrong number of arguments (given "+Z.$size()+", expected 0)"),oe.handles_block=S):T((G=oe.handles_block,G!=null&&G!==$e?"instance-variable":$e))?oe.handles_block.$call(Z["$[]"](0)):!0},-1)}(U[0],U),st(X("IncludeProcessor"),"DSL",X("IncludeProcessorDsl")),function(I,u,r){var l=H(I,u,"DocinfoProcessor"),y=[l].concat(r),h=t.$r(y),f=l.$$prototype;return f.config=$e,c(l,"$initialize",function S(R){var Z;S.$$p;var G=this,oe=$e;return S.$$p=null,R==null&&(R=O([],{})),et(G,Me(G,"initialize",S,!1,!0),"initialize",[R],null),T(oe=G.config["$[]"]("location"))?oe:(Z=["location","head"],N(G.config,"[]=",Z),Z[Z.length-1])},-1),c(l,"$process",function(R){var Z=this;return Z.$raise(me("NotImplementedError"),""+h("DocinfoProcessor")+" subclass "+Z.$class()+" must implement the #process method")})}(U[0],X("Processor"),U),function(I,u){var r=W(I,"DocinfoProcessorDsl"),l=[r].concat(u),y=t.$r(l);return r.$include(y("DocumentProcessorDsl")),c(r,"$at_location",function(f){var S=this;return S.$option("location",f)})}(U[0],U),st(X("DocinfoProcessor"),"DSL",X("DocinfoProcessorDsl")),function(I,u,r){var l=H(I,u,"BlockProcessor"),y=[l].concat(r),h=t.$r(y),f=l.$$prototype;return f.config=$e,l.$attr_accessor("name"),c(l,"$initialize",function S(R,Z){var G;S.$$p;var oe=this,Ee=$e;return S.$$p=null,R==null&&(R=$e),Z==null&&(Z=O([],{})),et(oe,Me(oe,"initialize",S,!1,!0),"initialize",[Z],null),oe.name=T(Ee=R)?Ee:oe.config["$[]"]("name"),Ue(Ge,Ee=oe.config["$[]"]("contexts"))?T(oe.config["$[]"]("contexts"))||oe.config["$[]="]("contexts",["open","paragraph"].$to_set()):Ue(me("Symbol"),Ee)?oe.config["$[]="]("contexts",[oe.config["$[]"]("contexts")].$to_set()):oe.config["$[]="]("contexts",oe.config["$[]"]("contexts").$to_set()),T(Ee=oe.config["$[]"]("content_model"))?Ee:(G=["content_model","compound"],N(oe.config,"[]=",G),G[G.length-1])},-1),c(l,"$process",function(R,Z,G){var oe=this;return oe.$raise(me("NotImplementedError"),""+h("BlockProcessor")+" subclass "+oe.$class()+" must implement the #process method")})}(U[0],X("Processor"),U),function(I,u){var r=W(I,"BlockProcessorDsl"),l=[r].concat(u),y=t.$r(l);return r.$include(y("SyntaxProcessorDsl")),c(r,"$contexts",function(f){var S,R,Z=this;return S=L(arguments),R=S,Z.$option("contexts",R.$flatten().$to_set())},-1),Ne(r,"on_contexts","contexts"),Ne(r,"on_context","contexts"),Ne(r,"bind_to","contexts")}(U[0],U),st(X("BlockProcessor"),"DSL",X("BlockProcessorDsl")),function(I,u,r){var l=H(I,u,"MacroProcessor"),y=[l].concat(r),h=t.$r(y),f=l.$$prototype;return f.config=$e,l.$attr_accessor("name"),c(l,"$initialize",function S(R,Z){var G;S.$$p;var oe=this,Ee=$e;return S.$$p=null,R==null&&(R=$e),Z==null&&(Z=O([],{})),et(oe,Me(oe,"initialize",S,!1,!0),"initialize",[Z],null),oe.name=T(Ee=R)?Ee:oe.config["$[]"]("name"),T(Ee=oe.config["$[]"]("content_model"))?Ee:(G=["content_model","attributes"],N(oe.config,"[]=",G),G[G.length-1])},-1),c(l,"$process",function(R,Z,G){var oe=this;return oe.$raise(me("NotImplementedError"),""+h("MacroProcessor")+" subclass "+oe.$class()+" must implement the #process method")})}(U[0],X("Processor"),U),function(I,u){var r=W(I,"MacroProcessorDsl"),l=[r].concat(u),y=t.$r(l);return r.$include(y("SyntaxProcessorDsl")),c(r,"$resolve_attributes",function h(f){var S,R,Z=h.$$p||$e,G=this;return h.$$p=null,S=L(arguments),R=S,v(R.$size(),1)&&de(R["$[]"](0))?G.$option("content_model","text"):(et(G,Me(G,"resolve_attributes",h,!1,!0),"resolve_attributes",we(R),Z),G.$option("content_model","attributes"))},-1),Ne(r,"resolves_attributes","resolve_attributes")}(U[0],U),function(I,u,r){var l=H(I,u,"BlockMacroProcessor"),y=[l].concat(r),h=t.$r(y),f=l.$$prototype;return f.name=$e,c(l,"$name",function(){var R=this;return T(h("MacroNameRx")["$match?"](R.name.$to_s()))||R.$raise(me("ArgumentError"),"invalid name for block macro: "+R.name),R.name})}(U[0],X("MacroProcessor"),U),st(X("BlockMacroProcessor"),"DSL",X("MacroProcessorDsl")),function(I,u,r){var l=H(I,u,"InlineMacroProcessor"),y=[l].concat(r),h=t.$r(y),f=l.$$prototype;return f.config=f.name=$e,it(y[0],"@@rx_cache",O([],{})),c(l,"$regexp",function(){var R,Z=this,G=$e;return T(G=Z.config["$[]"]("regexp"))?G:(R=["regexp",Z.$resolve_regexp(Z.name.$to_s(),Z.config["$[]"]("format"))],N(Z.config,"[]=",R),R[R.length-1])}),c(l,"$resolve_regexp",function(R,Z){var G,oe=this,Ee=$e;return T(h("MacroNameRx")["$match?"](R))||oe.$raise(me("ArgumentError"),"invalid name for inline macro: "+R),T(Ee=x(y[0],"@@rx_cache",!1)["$[]"]([R,Z]))?Ee:(G=[[R,Z],Xe(["\\\\?",R,":",v(Z,"short")?"(){0}":"(\\S+?)","\\[(|",h("CC_ANY"),"*?[^\\\\])\\]"])],N(x(y[0],"@@rx_cache",!1),"[]=",G),G[G.length-1])})}(U[0],X("MacroProcessor"),U),function(I,u){var r=W(I,"InlineMacroProcessorDsl"),l=[r].concat(u),y=t.$r(l);return r.$include(y("MacroProcessorDsl")),c(r,"$format",function(f){var S=this;return S.$option("format",f)}),Ne(r,"match_format","format"),Ne(r,"using_format","format"),c(r,"$match",function(f){var S=this;return S.$option("regexp",f)})}(U[0],U),st(X("InlineMacroProcessor"),"DSL",X("InlineMacroProcessorDsl")),function(I,u){var r=H(I,u,"Extension");return r.$attr_reader("kind"),r.$attr_reader("config"),r.$attr_reader("instance"),c(r,"$initialize",function(y,h,f){var S=this;return S.kind=y,S.instance=h,S.config=f})}(U[0],null),function(I,u){var r=H(I,u,"ProcessorExtension");return r.$attr_reader("process_method"),c(r,"$initialize",function l(y,h,f){l.$$p;var S=this,R=$e;return l.$$p=null,f==null&&(f=$e),et(S,Me(S,"initialize",l,!1,!0),"initialize",[y,h,h.$config()],null),S.process_method=T(R=f)?R:h.$method("process")},-3)}(U[0],X("Extension")),function(I,u,r){var l=H(I,u,"Group"),y=[l].concat(r);return function(h,f){var S=[h].concat(f),R=t.$r(S);return c(h,"$register",function(G){var oe=this;return G==null&&(G=$e),R("Extensions").$register(G,oe)},-1)}(t.get_singleton_class(l),y),c(l,"$activate",function(f){var S=this;return S.$raise(me("NotImplementedError"))})}(U[0],null,U),function(I,u,r){var l=H(I,u,"Registry"),y=[l].concat(r),h=t.$r(y),f=l.$$prototype;return f.document=f.groups=f.preprocessor_extensions=f.tree_processor_extensions=f.postprocessor_extensions=f.include_processor_extensions=f.docinfo_processor_extensions=f.block_extensions=f.block_macro_extensions=f.inline_macro_extensions=$e,l.$attr_reader("document"),l.$attr_reader("groups"),c(l,"$initialize",function(R){var Z=this;return R==null&&(R=O([],{})),Z.groups=R,Z.$reset(),Z.preprocessor_extensions=Z.tree_processor_extensions=Z.postprocessor_extensions=Z.include_processor_extensions=Z.docinfo_processor_extensions=Z.block_extensions=Z.block_macro_extensions=Z.inline_macro_extensions=$e,Z.document=$e},-1),c(l,"$activate",function(R){var Z=this,G=$e;return T(Z.document)&&Z.$reset(),Z.document=R,T((G=ve(h("Extensions").$groups().$values(),Z.groups.$values()))["$empty?"]())||N(G,"each",[],function oe(Ee){var Ke=oe.$$s==null?this:oe.$$s,Je=$e;if(Ee==null&&(Ee=$e),Ue(me("Proc"),Je=Ee))switch(Ee.$arity()){case 0:case-1:return N(Ke,"instance_exec",[],Ee.$to_proc());case 1:return Ee.$call(Ke);default:return $e}else return Ue(g,Je)?Ee.$new().$activate(Ke):Ee.$activate(Ke)},{$$s:Z}),Z}),c(l,"$preprocessor",function S(R){var Z=S.$$p||$e,G,oe,Ee=this;return S.$$p=null,G=L(arguments),oe=G,N(Ee,"add_document_processor",["preprocessor",oe],Z.$to_proc())},-1),c(l,"$preprocessors?",function(){var R=this;return R.preprocessor_extensions["$!"]()["$!"]()}),c(l,"$preprocessors",Ze("preprocessor_extensions")),c(l,"$tree_processor",function S(R){var Z=S.$$p||$e,G,oe,Ee=this;return S.$$p=null,G=L(arguments),oe=G,N(Ee,"add_document_processor",["tree_processor",oe],Z.$to_proc())},-1),c(l,"$tree_processors?",function(){var R=this;return R.tree_processor_extensions["$!"]()["$!"]()}),c(l,"$tree_processors",Ze("tree_processor_extensions")),Ne(l,"treeprocessor","tree_processor"),Ne(l,"treeprocessors?","tree_processors?"),Ne(l,"treeprocessors","tree_processors"),c(l,"$postprocessor",function S(R){var Z=S.$$p||$e,G,oe,Ee=this;return S.$$p=null,G=L(arguments),oe=G,N(Ee,"add_document_processor",["postprocessor",oe],Z.$to_proc())},-1),c(l,"$postprocessors?",function(){var R=this;return R.postprocessor_extensions["$!"]()["$!"]()}),c(l,"$postprocessors",Ze("postprocessor_extensions")),c(l,"$include_processor",function S(R){var Z=S.$$p||$e,G,oe,Ee=this;return S.$$p=null,G=L(arguments),oe=G,N(Ee,"add_document_processor",["include_processor",oe],Z.$to_proc())},-1),c(l,"$include_processors?",function(){var R=this;return R.include_processor_extensions["$!"]()["$!"]()}),c(l,"$include_processors",Ze("include_processor_extensions")),c(l,"$docinfo_processor",function S(R){var Z=S.$$p||$e,G,oe,Ee=this;return S.$$p=null,G=L(arguments),oe=G,N(Ee,"add_document_processor",["docinfo_processor",oe],Z.$to_proc())},-1),c(l,"$docinfo_processors?",function(R){var Z=this;return R==null&&(R=$e),T(Z.docinfo_processor_extensions)?T(R)?N(Z.docinfo_processor_extensions,"any?",[],function(oe){return oe==null&&(oe=$e),oe.$config()["$[]"]("location")["$=="](R)}):!0:!1},-1),c(l,"$docinfo_processors",function(R){var Z=this;return R==null&&(R=$e),T(Z.docinfo_processor_extensions)?T(R)?N(Z.docinfo_processor_extensions,"select",[],function(oe){return oe==null&&(oe=$e),oe.$config()["$[]"]("location")["$=="](R)}):Z.docinfo_processor_extensions:$e},-1),c(l,"$block",function S(R){var Z=S.$$p||$e,G,oe,Ee=this;return S.$$p=null,G=L(arguments),oe=G,N(Ee,"add_syntax_processor",["block",oe],Z.$to_proc())},-1),c(l,"$blocks?",function(){var R=this;return R.block_extensions["$!"]()["$!"]()}),c(l,"$registered_for_block?",function(R,Z){var G=this,oe=$e;return T(oe=G.block_extensions["$[]"](R.$to_sym()))&&T(oe.$config()["$[]"]("contexts")["$include?"](Z))?oe:!1}),c(l,"$find_block_extension",function(R){var Z=this;return Z.block_extensions["$[]"](R.$to_sym())}),c(l,"$block_macro",function S(R){var Z=S.$$p||$e,G,oe,Ee=this;return S.$$p=null,G=L(arguments),oe=G,N(Ee,"add_syntax_processor",["block_macro",oe],Z.$to_proc())},-1),c(l,"$block_macros?",function(){var R=this;return R.block_macro_extensions["$!"]()["$!"]()}),c(l,"$registered_for_block_macro?",function(R){var Z=this,G=$e;return T(G=Z.block_macro_extensions["$[]"](R.$to_sym()))?G:!1}),c(l,"$find_block_macro_extension",function(R){var Z=this;return Z.block_macro_extensions["$[]"](R.$to_sym())}),c(l,"$inline_macro",function S(R){var Z=S.$$p||$e,G,oe,Ee=this;return S.$$p=null,G=L(arguments),oe=G,N(Ee,"add_syntax_processor",["inline_macro",oe],Z.$to_proc())},-1),c(l,"$inline_macros?",function(){var R=this;return R.inline_macro_extensions["$!"]()["$!"]()}),c(l,"$registered_for_inline_macro?",function(R){var Z=this,G=$e;return T(G=Z.inline_macro_extensions["$[]"](R.$to_sym()))?G:!1}),c(l,"$find_inline_macro_extension",function(R){var Z=this;return Z.inline_macro_extensions["$[]"](R.$to_sym())}),c(l,"$inline_macros",function(){var R=this;return R.inline_macro_extensions.$values()}),c(l,"$prefer",function S(R){var Z=S.$$p||$e,G,oe,Ee=this,Ke=$e,Je=$e,$t=$e;return S.$$p=null,G=L(arguments),oe=G,Ke=Ue(h("ProcessorExtension"),Je=oe.$shift())?Je:N(Ee,"send",[Je].concat(we(oe)),Z.$to_proc()),$t=Ee.$instance_variable_get(("@"+Ke.$kind()+"_extensions").$to_sym()),$t.$unshift($t.$delete(Ke)),Ke},-1),l.$private(),c(l,"$add_document_processor",function S(R,Z){var G=S.$$p||$e,oe,Ee,Ke=this,Je=$e,$t=$e,tt=$e,at=$e,ct=$e,ft=$e,ut=$e,pt=$e,ht=$e,Et=$e,yt=$e;return S.$$p=null,Je=R.$to_s().$tr("_"," "),$t=N(Je.$split(),"map",[],function(qt){return qt==null&&(qt=$e),qt.$capitalize()}).$join().$to_sym(),tt=h("Extensions").$const_get($t,!1),at=T(me("::","AsciidoctorJ","skip_raise")?"constant":$e)?me(me("AsciidoctorJ"),"Extensions").$const_get($t,!1):$e,ct=T(ft=Ke.$instance_variable_get(("@"+R+"_extensions").$to_sym()))?ft:Ke.$instance_variable_set(("@"+R+"_extensions").$to_sym(),[]),G!==$e?(ut=Ke.$resolve_args(Z,1),(pt=tt.$new(ut)).$singleton_class().$enable_dsl(),v(G.$arity(),0)?N(pt,"instance_exec",[],G.$to_proc()):t.yield1(G,pt),T(pt["$process_block_given?"]())||Ke.$raise(me("NoMethodError"),"No block specified to process "+Je+" extension at "+G.$source_location().$join(":")),pt.$freeze(),ht=h("ProcessorExtension").$new(R,pt)):(Ee=Ke.$resolve_args(Z,2),oe=Ie(Ee),pt=oe[0]==null?$e:oe[0],ut=oe[1]==null?$e:oe[1],T(Et=h("Helpers").$resolve_class(pt))?(T(rt(Et,tt))||T(at)&&T(rt(Et,at))||Ke.$raise(me("ArgumentError"),"Invalid type for "+Je+" extension: "+pt),yt=Et.$new(ut),yt.$freeze(),ht=h("ProcessorExtension").$new(R,yt)):Ue(tt,pt)||T(at)&&Ue(at,pt)?(pt.$update_config(ut),pt.$freeze(),ht=h("ProcessorExtension").$new(R,pt)):Ke.$raise(me("ArgumentError"),"Invalid arguments specified for registering "+Je+" extension: "+Z)),v(ht.$config()["$[]"]("position"),">>")?ct.$unshift(ht):ct["$<<"](ht),ht}),c(l,"$add_syntax_processor",function S(R,Z){var G=S.$$p||$e,oe,Ee,Ke=this,Je=$e,$t=$e,tt=$e,at=$e,ct=$e,ft=$e,ut=$e,pt=$e,ht=$e,Et=$e,yt=$e;return S.$$p=null,Je=R.$to_s().$tr("_"," "),$t=N(Je.$split(),"map",[],function(qt){return qt==null&&(qt=$e),qt.$capitalize()})["$<<"]("Processor").$join().$to_sym(),tt=h("Extensions").$const_get($t,!1),at=T(me("::","AsciidoctorJ","skip_raise")?"constant":$e)?me(me("AsciidoctorJ"),"Extensions").$const_get($t,!1):$e,ct=T(ft=Ke.$instance_variable_get(("@"+R+"_extensions").$to_sym()))?ft:Ke.$instance_variable_set(("@"+R+"_extensions").$to_sym(),O([],{})),G!==$e?(Ee=Ke.$resolve_args(Z,2),oe=Ie(Ee),ut=oe[0]==null?$e:oe[0],pt=oe[1]==null?$e:oe[1],(ht=tt.$new(Ke.$as_symbol(ut),pt)).$singleton_class().$enable_dsl(),v(G.$arity(),0)?N(ht,"instance_exec",[],G.$to_proc()):t.yield1(G,ht),T(ut=Ke.$as_symbol(ht.$name()))||Ke.$raise(me("ArgumentError"),"No name specified for "+Je+" extension at "+G.$source_location().$join(":")),T(ht["$process_block_given?"]())||Ke.$raise(me("NoMethodError"),"No block specified to process "+Je+" extension at "+G.$source_location().$join(":")),ht.$freeze(),oe=[ut,h("ProcessorExtension").$new(R,ht)],N(ct,"[]=",oe),oe[oe.length-1]):(Ee=Ke.$resolve_args(Z,3),oe=Ie(Ee),ht=oe[0]==null?$e:oe[0],ut=oe[1]==null?$e:oe[1],pt=oe[2]==null?$e:oe[2],T(Et=h("Helpers").$resolve_class(ht))?(T(rt(Et,tt))||T(at)&&T(rt(Et,at))||Ke.$raise(me("ArgumentError"),"Class specified for "+Je+" extension does not inherit from "+tt+": "+ht),yt=Et.$new(Ke.$as_symbol(ut),pt),T(ut=Ke.$as_symbol(yt.$name()))||Ke.$raise(me("ArgumentError"),"No name specified for "+Je+" extension: "+ht),yt.$freeze(),oe=[ut,h("ProcessorExtension").$new(R,yt)],N(ct,"[]=",oe),oe[oe.length-1]):Ue(tt,ht)||T(at)&&Ue(at,ht)?(ht.$update_config(pt),T(ut=T(ut)?(oe=[Ke.$as_symbol(ut)],N(ht,"name=",oe),oe[oe.length-1]):Ke.$as_symbol(ht.$name()))||Ke.$raise(me("ArgumentError"),"No name specified for "+Je+" extension: "+ht),ht.$freeze(),oe=[ut,h("ProcessorExtension").$new(R,ht)],N(ct,"[]=",oe),oe[oe.length-1]):Ke.$raise(me("ArgumentError"),"Invalid arguments specified for registering "+Je+" extension: "+Z))}),c(l,"$reset",function(){var R=this;return R.preprocessor_extensions=R.tree_processor_extensions=R.postprocessor_extensions=R.include_processor_extensions=R.docinfo_processor_extensions=R.block_extensions=R.block_macro_extensions=R.inline_macro_extensions=$e,R.document=$e}),c(l,"$resolve_args",function(R,Z){var G=$e,oe=$e;return G=Ue(me("Hash"),R["$[]"](-1))?R.$pop():O([],{}),v(Z,1)?G:(T(Ve(oe=B(B(Z,1),R.$size()),0))?R=ve(R,me("Array").$new(oe)):T(rt(oe,0))&&R.$pop(oe["$-@"]()),R["$<<"](G),R)}),c(l,"$as_symbol",function(R){return T(R)?R.$to_sym():$e})}(U[0],null,U),function(I,u){var r=[I].concat(u),l=t.$r(r);return c(I,"$generate_name",function(){var h=this;return"extgrp"+h.$next_auto_id()}),c(I,"$next_auto_id",function(){var h=this,f=$e;return h.auto_id==null&&(h.auto_id=$e),h.auto_id=T(f=h.auto_id)?f:-1,h.auto_id=ve(h.auto_id,1)}),c(I,"$groups",function(){var h=this,f=$e;return h.groups==null&&(h.groups=$e),h.groups=T(f=h.groups)?f:O([],{})}),c(I,"$create",function y(h){var f=y.$$p||$e,S=this,R=$e;return y.$$p=null,h==null&&(h=$e),f!==$e?l("Registry").$new(A(T(R=h)?R:S.$generate_name(),f)):l("Registry").$new()},-1),c(I,"$register",function y(h){var f=y.$$p||$e,S,R,Z,G=this,oe=$e,Ee=$e,Ke=$e,Je=$e,$t=$e;return y.$$p=null,S=L(arguments),R=S,oe=R.$size(),f!==$e?Ee=f:T(Ke=R.$pop())?Ee=T(Je=l("Helpers").$resolve_class(Ke))?Je:Ke:G.$raise(me("ArgumentError"),"Extension group to register not specified"),$t=T(Je=R.$pop())?Je:G.$generate_name(),T(R["$empty?"]())||G.$raise(me("ArgumentError"),"Wrong number of arguments ("+oe+" for 1..2)"),Z=[$t.$to_sym(),Ee],N(G.$groups(),"[]=",Z),Z[Z.length-1]},-1),c(I,"$unregister_all",function(){var h=this;return h.groups=O([],{}),$e}),c(I,"$unregister",function(h){var f,S,R=this;return f=L(arguments),S=f,N(S,"each_with_object",[R.$groups()],function(G,oe){return G==null&&(G=$e),oe==null&&(oe=$e),oe.$delete(G.$to_sym())}),$e},-1)}(t.get_singleton_class(j),U)}(P[0],P)}(Be[0],Be)},Opal.modules["asciidoctor/js/asciidoctor_ext/stylesheet"]=function(t){var W=t.module,H=t.klass,T=t.truthy,O=t.def,c=[],N=t.nil,Ne=t.$$$;return t.add_stubs("rstrip,read,join"),function(L,ve){var v=W(L,"Asciidoctor"),Ve=[v].concat(ve);return function(de,Ue){var we=H(de,Ue,"Stylesheets"),Ie=we.$$prototype;return Ie.primary_stylesheet_data=N,O(we,"$primary_stylesheet_data",function(){var De=this,et=N;return De.primary_stylesheet_data=T(et=De.primary_stylesheet_data)?et:Ne("IO").$read(Ne("File").$join("css","asciidoctor.css")).$rstrip()})}(Ve[0],null)}(c[0],c)},Opal.modules["asciidoctor/js/asciidoctor_ext/document"]=function(t){var W=t.module,H=t.klass,T=t.def,O=[];return t.nil,function(c,N){var Ne=W(c,"Asciidoctor"),L=[Ne].concat(N),ve=t.$r(L);return function(v,Ve){var de=H(v,Ve,"Document");return T(de,"$fill_datetime_attributes",function(we,Ie){var st=t.truthy,De=t.falsy,et=t.nil,Me,Ge,it,x,Xe,g,Ze,rt,B=function(y,h){return h===0?y.getUTCFullYear():y.getFullYear()},A=function(y,h){return h===0?y.getUTCMonth():y.getMonth()},Be=function(y,h){return h===0?y.getUTCDate():y.getDate()},$e=function(y,h){return h===0?y.getUTCHours():y.getHours()},me=new Date;if(t.const_get_qualified("::","ENV")["$key?"]("SOURCE_DATE_EPOCH")?(me.setTime(parseInt(t.const_get_qualified("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))*1e3),Ge=me,Me=0):Me=-me.getTimezoneOffset()/60,st(it=we["$[]"]("localdate")))De(x=we["$[]"]("localyear"))&&(x=it.indexOf("-")===4?it.substring(0,4):et,we["$[]="]("localyear",x));else{var fe=B(me,Me).toString(),V=("0"+(A(me,Me)+1)).slice(-2),te=("0"+Be(me,Me)).slice(-2);it=fe+"-"+V+"-"+te,we["$[]="]("localdate",it),x=fe,we["$[]="]("localyear",fe)}if(De(Xe=we["$[]"]("localtime"))){var P=("0"+$e(me,Me)).slice(-2),q=("0"+me.getMinutes()).slice(-2),E=("0"+me.getSeconds()).slice(-2),j;Me===0?j="UTC":Me>0?j=("+0"+Me*100).slice(-5):j=("-0"+-Me*100).slice(-5),Xe=P+":"+q+":"+E+" "+j,we["$[]="]("localtime",Xe)}if(De(g=we["$[]"]("localdatetime"))&&(g=it+" "+Xe,we["$[]="]("localdatetime",g)),st(Ge)?Ie=Ge:st(Ie)?Me=-Ie.getTimezoneOffset()/60:Ie=me,st(Ze=we["$[]"]("docdate")))we["$[]="]("docyear",Ze.indexOf("-")===4?Ze.substring(0,4):et);else{var U=B(Ie,Me).toString(),X=("0"+(A(Ie,Me)+1)).slice(-2),I=("0"+Be(Ie,Me)).slice(-2);Ze=U+"-"+X+"-"+I,we["$[]="]("docdate",Ze),De(we["$[]"]("docyear"))&&we["$[]="]("docyear",U)}if(De(rt=we["$[]"]("doctime"))){var u=("0"+$e(Ie,Me)).slice(-2),r=("0"+Ie.getMinutes()).slice(-2),l=("0"+Ie.getSeconds()).slice(-2),j;Me===0?j="UTC":Me>0?j=("+0"+Me*100).slice(-5):j=("-0"+-Me*100).slice(-5),rt=u+":"+r+":"+l+" "+j,we["$[]="]("doctime",rt)}return De(we["$[]"]("docdatetime"))&&we["$[]="]("docdatetime",Ze+" "+rt),et})}(L[0],ve("AbstractBlock"))}(O[0],O)},Opal.modules["asciidoctor/js/asciidoctor_ext/substitutors"]=function(t){var W=t.module,H=t.def,T=[];return t.nil,function(O,c){var N=W(O,"Asciidoctor"),Ne=[N].concat(c);return function(L){var ve=W(L,"Substitutors");return H(ve,"$sub_placeholder",function(Ve,de){return Ve.replace("%s",de)})}(Ne[0])}(T[0],T)},Opal.modules["asciidoctor/js/asciidoctor_ext/parser"]=function(t){var W=t.module,H=t.klass,T=t.truthy,O=t.defs,c=[];return t.nil,function(N,Ne){var L=W(N,"Asciidoctor"),ve=[L].concat(Ne);return function(v,Ve){var de=H(v,Ve,"Parser");return T(String.prototype.repeat)?O(de,"$uniform?",function(we,Ie,st){return Ie.repeat(st)===we}):O(de,"$uniform?",function(we,Ie,st){return Array.apply(null,{length:st}).map(function(){return Ie}).join("")===we})}(ve[0],null)}(c[0],c)},Opal.modules["asciidoctor/js/asciidoctor_ext/syntax_highlighter"]=function(t){var W=t.module,H=t.truthy,T=t.def,O=[],c=t.nil;return t.add_stubs("key?,registry,[],include?,include,empty?,debug,logger,join,keys"),function(N,Ne){var L=W(N,"Asciidoctor"),ve=[L].concat(Ne);return function(v,Ve){var de=W(v,"SyntaxHighlighter"),Ue=[de].concat(Ve);return function(we,Ie){var st=W(we,"Factory"),De=[st].concat(Ie),et=t.$r(De);return T(st,"$for",function(Ge){var it=this;return H(it.$registry()["$key?"](Ge))?it.$registry()["$[]"](Ge):(H(it["$include?"](et("Logging")))||it.$include(et("Logging")),H(it.$registry()["$empty?"]())?it.$logger().$debug("no syntax highlighter available, functionality disabled."):it.$logger().$debug("syntax highlighter named '"+Ge+"' is not available, must be one of: '"+it.$registry().$keys().$join("', '")+"'."),c)})}(Ue[0],Ue)}(ve[0],ve)}(O[0],O)},Opal.modules["asciidoctor/js/asciidoctor_ext"]=function(t){var W=t.top;t.nil,t.add_stubs("require"),W.$require("asciidoctor/js/asciidoctor_ext/stylesheet"),W.$require("asciidoctor/js/asciidoctor_ext/document"),W.$require("asciidoctor/js/asciidoctor_ext/substitutors"),W.$require("asciidoctor/js/asciidoctor_ext/parser"),W.$require("asciidoctor/js/asciidoctor_ext/syntax_highlighter"),W.$require("asciidoctor/js/asciidoctor_ext/browser")},Opal.modules["asciidoctor/js/opal_ext/logger"]=function(t){var W=t.klass,H=t.def,T=t.truthy,O=t.rb_lt,c=[],N=t.nil;return t.add_stubs("chr,rjust,message_as_string,<,write,call,[]"),function(Ne,L,ve){var v=W(Ne,L,"Logger"),Ve=[v].concat(ve),de=t.$r(Ve),Ue=v.$$prototype;return Ue.level=Ue.progname=Ue.pipe=Ue.formatter=N,function(we,Ie){var st=W(we,Ie,"Formatter");return H(st,"$call",function(et,Me,Ge,it){var x=this,Xe=N;return Xe=Me.getFullYear()+"-"+("0"+(Me.getMonth()+1)).slice(-2)+"-"+("0"+Me.getDate()).slice(-2)+"T"+("0"+Me.getHours()).slice(-2)+":"+("0"+Me.getMinutes()).slice(-2)+":"+("0"+Me.getSeconds()).slice(-2)+"."+("00"+new Date().getMilliseconds()*1e3).slice(-6),""+et.$chr()+", ["+Xe+"] "+et.$rjust(5)+" -- "+Ge+": "+x.$message_as_string(it)})}(Ve[0],null),H(v,"$add",function we(Ie,st,De){var et=we.$$p||N,Me=this,Ge=N;return we.$$p=null,st==null&&(st=N),De==null&&(De=N),T(O(Ie=T(Ge=Ie)?Ge:de("UNKNOWN"),Me.level))||(De=T(Ge=De)?Ge:Me.progname,T(st)||(et!==N?st=t.yieldX(et,[]):(st=De,De=Me.progname)),Me.pipe.$write(Me.formatter.$call(T(Ge=de("SEVERITY_LABELS")["$[]"](Ie))?Ge:"ANY",new Date,De,st))),!0},-2)}(c[0],null,c)},Opal.modules["asciidoctor/js/postscript"]=function(t){var W=t.top;return t.nil,t.add_stubs("require"),W.$require("asciidoctor/converter/composite"),W.$require("asciidoctor/converter/html5"),W.$require("asciidoctor/extensions"),W.$require("asciidoctor/js/asciidoctor_ext"),W.$require("asciidoctor/js/opal_ext/logger")},Opal.queue(function(t){var W=t.module,H=t.const_set,T=t.send,O=t.to_ary,c=t.defs,N=t.def,Ne=t.truthy,L=t.hash2,ve=t.eqeq,v=t.rb_minus,Ve=t.regexp,de=t.top,Ue=[],we=t.nil,Ie=t.$$$;return t.add_stubs("require,==,to_h,sort,map,constants,const_get,downcase,to_s,<=>,upcase,[],values,new,attr_reader,instance_variable_set,send,singleton_class,<<,define,dirname,absolute_path,join,home,pwd,to_set,tap,each,chr,each_key,[]=,slice,length,-,merge,default=,drop,insert"),de.$require("set"),de.$require("asciidoctor/js"),function(st,De){var et=W(st,"Asciidoctor"),Me=[et].concat(De),Ge=t.$r(Me),it=we;return H(Me[0],"RUBY_ENGINE_OPAL",H(Me[0],"RUBY_ENGINE",Ie("RUBY_ENGINE"))["$=="]("opal")),function(x,Xe){var g=W(x,"SafeMode"),Ze=[g].concat(Xe);return H(Ze[0],"UNSAFE",0),H(Ze[0],"SAFE",1),H(Ze[0],"SERVER",10),H(Ze[0],"SECURE",20),g.names_by_value=T(T(g.$constants(!1),"map",[],function rt(B){var A=rt.$$s==null?this:rt.$$s;return B==null&&(B=we),[A.$const_get(B),B.$to_s().$downcase()]},{$$s:g}),"sort",[],function(B,A){var Be,$e,me=we,fe=we;return B==null&&(B=we),A==null&&(A=we),$e=B,Be=O($e),me=Be[0]==null?we:Be[0],$e=A,Be=O($e),fe=Be[0]==null?we:Be[0],me["$<=>"](fe)},{$$has_top_level_mlhs_arg:!0}).$to_h(),c(g,"$value_for_name",function(B){var A=this;return A.$const_get(B.$upcase(),!1)}),c(g,"$name_for_value",function(B){var A=this;return A.names_by_value==null&&(A.names_by_value=we),A.names_by_value["$[]"](B)}),c(g,"$names",function(){var B=this;return B.names_by_value==null&&(B.names_by_value=we),B.names_by_value.$values()})}(Me[0],Me),function(x,Xe){var g=W(x,"Compliance");return g.keys=Ie("Set").$new(),function(Ze,rt){return Ze.$attr_reader("keys"),N(Ze,"$define",function(A,Be){var $e=this;return $e.keys==null&&($e.keys=we),$e.$instance_variable_set("@"+A,Be),$e.$singleton_class().$send("attr_accessor",A),$e.keys["$<<"](A),we})}(t.get_singleton_class(g)),g.$define("block_terminates_paragraph",!0),g.$define("strict_verbatim_paragraphs",!0),g.$define("underline_style_section_titles",!0),g.$define("unwrap_standalone_preamble",!0),g.$define("attribute_missing","skip"),g.$define("attribute_undefined","drop-line"),g.$define("shorthand_property_syntax",!0),g.$define("natural_xrefs",!0),g.$define("unique_id_start_index",2),g.$define("markdown_syntax",!0)}(Me[0]),Ne(Ge("ROOT_DIR","skip_raise")?"constant":we)||H(Me[0],"ROOT_DIR",Ie("File").$dirname(Ie("File").$absolute_path("."))),H(Me[0],"LIB_DIR",Ie("File").$join(Ge("ROOT_DIR"),"lib")),H(Me[0],"DATA_DIR",Ie("File").$join(Ge("ROOT_DIR"),"data")),H(Me[0],"USER_HOME",function(){try{return Ie("Dir").$home()}catch(x){if(t.rescue(x,[Ge("StandardError")]))try{return Ne(it=Ie("ENV")["$[]"]("HOME"))?it:Ie("Dir").$pwd()}finally{t.pop_exception()}else throw x}}()),H(Me[0],"LF",`
`),H(Me[0],"NULL","\0"),H(Me[0],"TAB","	"),H(Me[0],"MAX_INT",9007199254740991),H(Me[0],"UTF_8",Ie(Ie("Encoding"),"UTF_8")),H(Me[0],"BOM_BYTES_UTF_8",[239,187,191]),H(Me[0],"BOM_BYTES_UTF_16LE",[255,254]),H(Me[0],"BOM_BYTES_UTF_16BE",[254,255]),H(Me[0],"FILE_READ_MODE",Ne(Ge("RUBY_ENGINE_OPAL"))?"r":"rb:utf-8:utf-8"),H(Me[0],"URI_READ_MODE",Ge("FILE_READ_MODE")),H(Me[0],"FILE_WRITE_MODE",Ne(Ge("RUBY_ENGINE_OPAL"))?"w":"w:utf-8"),H(Me[0],"DEFAULT_DOCTYPE","article"),H(Me[0],"DEFAULT_BACKEND","html5"),H(Me[0],"DEFAULT_STYLESHEET_KEYS",["","DEFAULT"].$to_set()),H(Me[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css"),H(Me[0],"BACKEND_ALIASES",L(["html","docbook"],{html:"html5",docbook:"docbook5"})),H(Me[0],"DEFAULT_PAGE_WIDTHS",L(["docbook"],{docbook:425})),H(Me[0],"DEFAULT_EXTENSIONS",L(["html","docbook","pdf","epub","manpage","asciidoc"],{html:".html",docbook:".xml",pdf:".pdf",epub:".epub",manpage:".man",asciidoc:".adoc"})),H(Me[0],"ASCIIDOC_EXTENSIONS",L([".adoc",".asciidoc",".asc",".ad",".txt"],{".adoc":!0,".asciidoc":!0,".asc":!0,".ad":!0,".txt":!0})),H(Me[0],"SETEXT_SECTION_LEVELS",L(["=","-","~","^","+"],{"=":0,"-":1,"~":2,"^":3,"+":4})),H(Me[0],"ADMONITION_STYLES",["NOTE","TIP","IMPORTANT","WARNING","CAUTION"].$to_set()),H(Me[0],"ADMONITION_STYLE_HEADS",T(Ie("Set").$new(),"tap",[],function(Xe){return Xe==null&&(Xe=we),T(Ge("ADMONITION_STYLES"),"each",[],function(Ze){return Ze==null&&(Ze=we),Xe["$<<"](Ze.$chr())})})),H(Me[0],"PARAGRAPH_STYLES",["comment","example","literal","listing","normal","open","pass","quote","sidebar","source","verse","abstract","partintro"].$to_set()),H(Me[0],"VERBATIM_STYLES",["literal","listing","source","verse"].$to_set()),H(Me[0],"DELIMITED_BLOCKS",L(["--","----","....","====","****","____","++++","|===",",===",":===","!===","////","```"],{"--":["open",["comment","example","literal","listing","pass","quote","sidebar","source","verse","admonition","abstract","partintro"].$to_set()],"----":["listing",["literal","source"].$to_set()],"....":["literal",["listing","source"].$to_set()],"====":["example",["admonition"].$to_set()],"****":["sidebar",Ie("Set").$new()],____:["quote",["verse"].$to_set()],"++++":["pass",["stem","latexmath","asciimath"].$to_set()],"|===":["table",Ie("Set").$new()],",===":["table",Ie("Set").$new()],":===":["table",Ie("Set").$new()],"!===":["table",Ie("Set").$new()],"////":["comment",Ie("Set").$new()],"```":["fenced_code",Ie("Set").$new()]})),H(Me[0],"DELIMITED_BLOCK_HEADS",T(L([],{}),"tap",[],function(Xe){return Xe==null&&(Xe=we),T(Ge("DELIMITED_BLOCKS"),"each_key",[],function(Ze){var rt;return Ze==null&&(Ze=we),rt=[Ze.$slice(0,2),!0],T(Xe,"[]=",rt),rt[rt.length-1]})})),H(Me[0],"DELIMITED_BLOCK_TAILS",T(L([],{}),"tap",[],function(Xe){return Xe==null&&(Xe=we),T(Ge("DELIMITED_BLOCKS"),"each_key",[],function(Ze){var rt;return Ze==null&&(Ze=we),ve(Ze.$length(),4)?(rt=[Ze,Ze["$[]"](v(Ze.$length(),1))],T(Xe,"[]=",rt),rt[rt.length-1]):we})})),H(Me[0],"CAPTION_ATTRIBUTE_NAMES",L(["example","figure","listing","table"],{example:"example-caption",figure:"figure-caption",listing:"listing-caption",table:"table-caption"})),H(Me[0],"LAYOUT_BREAK_CHARS",L(["'","<"],{"'":"thematic_break","<":"page_break"})),H(Me[0],"MARKDOWN_THEMATIC_BREAK_CHARS",L(["-","*","_"],{"-":"thematic_break","*":"thematic_break",_:"thematic_break"})),H(Me[0],"HYBRID_LAYOUT_BREAK_CHARS",Ge("LAYOUT_BREAK_CHARS").$merge(Ge("MARKDOWN_THEMATIC_BREAK_CHARS"))),H(Me[0],"NESTABLE_LIST_CONTEXTS",["ulist","olist","dlist"]),H(Me[0],"ORDERED_LIST_STYLES",["arabic","loweralpha","lowerroman","upperalpha","upperroman"]),H(Me[0],"ORDERED_LIST_KEYWORDS",L(["loweralpha","lowerroman","upperalpha","upperroman"],{loweralpha:"a",lowerroman:"i",upperalpha:"A",upperroman:"I"})),H(Me[0],"ATTR_REF_HEAD","{"),H(Me[0],"LIST_CONTINUATION","+"),H(Me[0],"HARD_LINE_BREAK"," +"),H(Me[0],"LINE_CONTINUATION"," \\"),H(Me[0],"LINE_CONTINUATION_LEGACY"," +"),H(Me[0],"BLOCK_MATH_DELIMITERS",L(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\[","\\]"]})),H(Me[0],"INLINE_MATH_DELIMITERS",L(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]})),H(Me[0],"STEM_TYPE_ALIASES",L(["latexmath","latex","tex"],{latexmath:"latexmath",latex:"latexmath",tex:"latexmath"}))["$default="]("asciimath"),H(Me[0],"FONT_AWESOME_VERSION","4.7.0"),H(Me[0],"HIGHLIGHT_JS_VERSION","9.18.3"),H(Me[0],"MATHJAX_VERSION","2.7.9"),H(Me[0],"DEFAULT_ATTRIBUTES",L(["appendix-caption","appendix-refsig","caution-caption","chapter-refsig","example-caption","figure-caption","important-caption","last-update-label","note-caption","part-refsig","prewrap","sectids","section-refsig","table-caption","tip-caption","toc-placement","toc-title","untitled-label","version-label","warning-caption"],{"appendix-caption":"Appendix","appendix-refsig":"Appendix","caution-caption":"Caution","chapter-refsig":"Chapter","example-caption":"Example","figure-caption":"Figure","important-caption":"Important","last-update-label":"Last updated","note-caption":"Note","part-refsig":"Part",prewrap:"",sectids:"","section-refsig":"Section","table-caption":"Table","tip-caption":"Tip","toc-placement":"auto","toc-title":"Table of Contents","untitled-label":"Untitled","version-label":"Version","warning-caption":"Warning"})),H(Me[0],"FLEXIBLE_ATTRIBUTES",["sectnums"]),H(Me[0],"INTRINSIC_ATTRIBUTES",L(["startsb","endsb","vbar","caret","asterisk","tilde","plus","backslash","backtick","blank","empty","sp","two-colons","two-semicolons","nbsp","deg","zwsp","quot","apos","lsquo","rsquo","ldquo","rdquo","wj","brvbar","pp","cpp","amp","lt","gt"],{startsb:"[",endsb:"]",vbar:"|",caret:"^",asterisk:"*",tilde:"~",plus:"&#43;",backslash:"\\",backtick:"`",blank:"",empty:"",sp:" ","two-colons":"::","two-semicolons":";;",nbsp:"&#160;",deg:"&#176;",zwsp:"&#8203;",quot:"&#34;",apos:"&#39;",lsquo:"&#8216;",rsquo:"&#8217;",ldquo:"&#8220;",rdquo:"&#8221;",wj:"&#8288;",brvbar:"&#166;",pp:"&#43;&#43;",cpp:"C&#43;&#43;",amp:"&",lt:"<",gt:">"})),H(Me[0],"QUOTE_SUBS",T(L([],{}),"tap",[],function(Xe){var g=we,Ze=we;return Xe==null&&(Xe=we),Xe["$[]="](!1,g=[["strong","unconstrained",Ve(["\\\\?(?:\\[([^\\]]+)\\])?\\*\\*(",Ge("CC_ALL"),"+?)\\*\\*"],"m")],["strong","constrained",Ve(["(^|[^",Ge("CC_WORD"),";:}])(?:\\[([^\\]]+)\\])?\\*(\\S|\\S",Ge("CC_ALL"),"*?\\S)\\*(?!",Ge("CG_WORD"),")"],"m")],["double","constrained",Ve(["(^|[^",Ge("CC_WORD"),';:}])(?:\\[([^\\]]+)\\])?"`(\\S|\\S',Ge("CC_ALL"),'*?\\S)`"(?!',Ge("CG_WORD"),")"],"m")],["single","constrained",Ve(["(^|[^",Ge("CC_WORD"),";:`}])(?:\\[([^\\]]+)\\])?'`(\\S|\\S",Ge("CC_ALL"),"*?\\S)`'(?!",Ge("CG_WORD"),")"],"m")],["monospaced","unconstrained",Ve(["\\\\?(?:\\[([^\\]]+)\\])?``(",Ge("CC_ALL"),"+?)``"],"m")],["monospaced","constrained",Ve(["(^|[^",Ge("CC_WORD"),";:\"'`}])(?:\\[([^\\]]+)\\])?`(\\S|\\S",Ge("CC_ALL"),"*?\\S)`(?![",Ge("CC_WORD"),"\"'`])"],"m")],["emphasis","unconstrained",Ve(["\\\\?(?:\\[([^\\]]+)\\])?__(",Ge("CC_ALL"),"+?)__"],"m")],["emphasis","constrained",Ve(["(^|[^",Ge("CC_WORD"),";:}])(?:\\[([^\\]]+)\\])?_(\\S|\\S",Ge("CC_ALL"),"*?\\S)_(?!",Ge("CG_WORD"),")"],"m")],["mark","unconstrained",Ve(["\\\\?(?:\\[([^\\]]+)\\])?##(",Ge("CC_ALL"),"+?)##"],"m")],["mark","constrained",Ve(["(^|[^",Ge("CC_WORD"),"&;:}])(?:\\[([^\\]]+)\\])?#(\\S|\\S",Ge("CC_ALL"),"*?\\S)#(?!",Ge("CG_WORD"),")"],"m")],["superscript","unconstrained",/\\?(?:\[([^\]]+)\])?\^(\S+?)\^/],["subscript","unconstrained",/\\?(?:\[([^\]]+)\])?~(\S+?)~/]]),Xe["$[]="](!0,Ze=g.$drop(0)),Ze["$[]="](2,["double","constrained",Ve(["(^|[^",Ge("CC_WORD"),";:}])(?:\\[([^\\]]+)\\])?``(\\S|\\S",Ge("CC_ALL"),"*?\\S)''(?!",Ge("CG_WORD"),")"],"m")]),Ze["$[]="](3,["single","constrained",Ve(["(^|[^",Ge("CC_WORD"),";:}])(?:\\[([^\\]]+)\\])?`(\\S|\\S",Ge("CC_ALL"),"*?\\S)'(?!",Ge("CG_WORD"),")"],"m")]),Ze["$[]="](4,["monospaced","unconstrained",Ve(["\\\\?(?:\\[([^\\]]+)\\])?\\+\\+(",Ge("CC_ALL"),"+?)\\+\\+"],"m")]),Ze["$[]="](5,["monospaced","constrained",Ve(["(^|[^",Ge("CC_WORD"),";:}])(?:\\[([^\\]]+)\\])?\\+(\\S|\\S",Ge("CC_ALL"),"*?\\S)\\+(?!",Ge("CG_WORD"),")"],"m")]),Ze.$insert(3,["emphasis","constrained",Ve(["(^|[^",Ge("CC_WORD"),";:}])(?:\\[([^\\]]+)\\])?'(\\S|\\S",Ge("CC_ALL"),"*?\\S)'(?!",Ge("CG_WORD"),")"],"m")])})),H(Me[0],"REPLACEMENTS",[[/\\?\(C\)/,"&#169;","none"],[/\\?\(R\)/,"&#174;","none"],[/\\?\(TM\)/,"&#8482;","none"],[/(?: |\n|^|\\)--(?: |\n|$)/,"&#8201;&#8212;&#8201;","none"],[Ve(["(",Ge("CG_WORD"),")\\\\?--(?=",Ge("CG_WORD"),")"]),"&#8212;&#8203;","leading"],[/\\?\.\.\./,"&#8230;&#8203;","none"],[/\\?`'/,"&#8217;","none"],[Ve(["(",Ge("CG_ALNUM"),")\\\\?'(?=",Ge("CG_ALPHA"),")"]),"&#8217;","leading"],[/\\?-&gt;/,"&#8594;","none"],[/\\?=&gt;/,"&#8658;","none"],[/\\?&lt;-/,"&#8592;","none"],[/\\?&lt;=/,"&#8656;","none"],[/\\?(&)amp;((?:[a-zA-Z][a-zA-Z]+\d{0,2}|#\d\d\d{0,4}|#x[\da-fA-F][\da-fA-F][\da-fA-F]{0,3});)/,"","bounding"]]),we}(Ue[0],Ue),de.$require("asciidoctor.rb/../asciidoctor/core_ext"),de.$require("asciidoctor.rb/../asciidoctor/helpers"),de.$require("asciidoctor.rb/../asciidoctor/logging"),de.$require("asciidoctor.rb/../asciidoctor/rx"),de.$require("asciidoctor.rb/../asciidoctor/substitutors"),de.$require("asciidoctor.rb/../asciidoctor/version"),de.$require("asciidoctor.rb/../asciidoctor/abstract_node"),de.$require("asciidoctor.rb/../asciidoctor/abstract_block"),de.$require("asciidoctor.rb/../asciidoctor/attribute_list"),de.$require("asciidoctor.rb/../asciidoctor/block"),de.$require("asciidoctor.rb/../asciidoctor/callouts"),de.$require("asciidoctor.rb/../asciidoctor/converter"),de.$require("asciidoctor.rb/../asciidoctor/document"),de.$require("asciidoctor.rb/../asciidoctor/inline"),de.$require("asciidoctor.rb/../asciidoctor/list"),de.$require("asciidoctor.rb/../asciidoctor/parser"),de.$require("asciidoctor.rb/../asciidoctor/path_resolver"),de.$require("asciidoctor.rb/../asciidoctor/reader"),de.$require("asciidoctor.rb/../asciidoctor/section"),de.$require("asciidoctor.rb/../asciidoctor/stylesheets"),de.$require("asciidoctor.rb/../asciidoctor/table"),de.$require("asciidoctor.rb/../asciidoctor/writer"),de.$require("asciidoctor.rb/../asciidoctor/load"),de.$require("asciidoctor.rb/../asciidoctor/convert"),de.$require("asciidoctor.rb/../asciidoctor/syntax_highlighter"),de.$require("asciidoctor.rb/../asciidoctor/timings"),de.$require("asciidoctor/js/postscript")});const o=function(t){return t&&!t.$$is_hash?Opal.hash2(Object.keys(t),t):t},p=function(t){const W={};if(t){const H=t.$$smap;for(const O in H){const c=H[O];W[O]=c===Opal.nil?void 0:c}const T=t.$$map;if(T){const O=[];for(const c in T){const N=T[c],Ne=N.value,L=N.key-1;O[L]=Ne===Opal.nil?void 0:Ne}O.length>0&&(W.$positional=O)}}return W},J=function(t){const W={};if(t){const H=t.$$keys;for(const T in H){const O=H[T].value;W[T.toString()]=O===Opal.nil?void 0:O}}return W},D=function(t){if(t=o(t),t){const W=t["$[]"]("converter");W&&W!==Opal.nil&&t["$[]="]("converter",he(W));const H=t["$[]"]("attributes");H&&typeof H=="object"&&H.constructor.name==="Object"&&(t=t.$dup(),t["$[]="]("attributes",o(H)))}return t},he=function(t){const W=function(ve){return Object.assign({},ve.basebackend?{basebackend:ve.basebackend}:{},ve.outfilesuffix?{outfilesuffix:ve.outfilesuffix}:{},ve.filetype?{filetype:ve.filetype}:{},ve.htmlsyntax?{htmlsyntax:ve.htmlsyntax}:{},ve.supports_templates?{supports_templates:ve.supports_templates}:{})},H=function(ve,v){ve.backend_traits?v.backend_traits=o(ve.backend_traits):ve.backendTraits?v.backend_traits=o(ve.backendTraits):(ve.basebackend||ve.outfilesuffix||ve.filetype||ve.htmlsyntax||ve.supports_templates)&&(v.backend_traits=o(W(ve)))},T=function(ve,v){Ne(ve,v,"$handles?","handles",function(){return!0})},O=function(ve,v){Ne(ve,v,"$composed","composed")},c=function(ve,v){Ne(ve,v,"$==","==",function(Ve){return v===Ve})},N=function(ve,v){Ne(ve,v,"$send","send",function(Ve){const[,...de]=Array.from(arguments),Ue=v["$"+Ve];if(Ue)return Ue.apply(v,de);throw new Error(`undefined method \`${Ve}\` for \`${v.toString()}\``)})},Ne=function(ve,v,Ve,de,Ue){typeof ve[Ve]>"u"&&(typeof ve[de]=="function"?v[Ve]=ve[de]:Ue&&(v[Ve]=Ue))},L=function(ve){typeof ve["$respond_to?"]!="function"&&(ve["$respond_to?"]=function(v){return typeof this[v]=="function"})};if(typeof t=="function"){const ve=se(ot,t.constructor.name,{initialize:function(v,Ve){const de=this,Ue=new t(v,Ve);Object.assign(this,Ue),H(Ue,de);const we=Object.getOwnPropertyNames(t.prototype);for(let Ie=0;Ie<we.length;Ie++){const st=we[Ie];st!=="constructor"&&(de[st]=Ue[st])}typeof Ue.$convert>"u"&&typeof Ue.convert=="function"&&(de.$convert=Ue.convert),T(Ue,de),O(Ue,de),L(de),de.super(v,Ve)}});return ve.$extend(lt),ve}if(typeof t=="object"){if(typeof t.$convert>"u"&&typeof t.convert=="function"&&(t.$convert=t.convert),H(t,t),t.backend_traits){const ve=["basebackend","filetype","htmlsyntax","outfilesuffix","supports_templates","supports_templates?","init_backend_traits","backend_traits"];for(const v of ve)t["$"+v]=lt.prototype["$"+v];t.$$meta=lt}return T(t,t),O(t,t),c(t,t),N(t,t),L(t),t}return t};function se(t,W,H,T,O){const c=Opal.klass(Opal.Object,t,W,function(){});let N,Ne,L;const ve={};for(const de in H)Object.prototype.hasOwnProperty.call(H,de)&&function(Ue){const we=H[Ue];if(Ue==="postConstruct")N=we;else if(Ue==="initialize")Ne=we;else if(Ue==="constructor")L=we;else{T&&Object.prototype.hasOwnProperty.call(T,Ue)&&(ve[Ue]=!0);let Ie;Opal.def(c,"$"+Ue,Ie=function(){let st;O&&Object.prototype.hasOwnProperty.call(O,Ue)?st=O[Ue](arguments):st=arguments;const De=Ie.$$p;return De&&(st[st.length]=function(){return Opal.yield1(De)},st.length+=1,Ie.$$p=null),we.apply(this,st)})}}(de);let v;typeof L=="function"?v=function(){const de=Array.from(arguments);for(let we=0;we<de.length;we++)typeof de[we]=="object"&&"$$smap"in de[we]&&(de[we]=p(de[we]));de.unshift(null);const Ue=new(Function.prototype.bind.apply(L,de));Object.assign(this,Ue),typeof N=="function"&&N.bind(this)()}:typeof Ne=="function"?v=function(){const de=Array.from(arguments);for(let Ue=0;Ue<de.length;Ue++)typeof de[Ue]=="object"&&"$$smap"in de[Ue]&&(de[Ue]=p(de[Ue]));Ne.apply(this,de),typeof N=="function"&&N.bind(this)()}:v=function(){Opal.send(this,Opal.find_super_dispatcher(this,"initialize",v)),typeof N=="function"&&N.bind(this)()},Opal.def(c,"$initialize",v);let Ve;Opal.def(c,"super",Ve=function(de){if(typeof de=="function")Opal.send(this,Opal.find_super_dispatcher(this,de.name,de));else{const Ue=Array.from(arguments);for(let we=0;we<Ue.length;we++)typeof Ue[we]=="object"&&(Ue[we]=o(Ue[we]));Opal.send(this,Opal.find_super_dispatcher(this,"initialize",v),Ue)}});for(const de in H)Ve[de]=function(){const Ue=Array.from(arguments);for(let Ie=0;Ie<Ue.length;Ie++)typeof Ue[Ie]=="object"&&typeof Ue[Ie].constructor=="function"&&Ue[Ie].constructor.name==="Object"&&(Ue[Ie]=o(Ue[Ie]));const we=c.$$prototype;return Opal.send(we,Opal.find_super_dispatcher(we,de,we[`$${de}`]),Ue)};if(T)for(const de in T)Object.prototype.hasOwnProperty.call(T,de)&&!Object.prototype.hasOwnProperty.call(ve,de)&&function(Ue){const we=T[Ue];Opal.def(c,"$"+Ue,function(){return we.apply(this,arguments)})}(de);return c}const le=Opal.Asciidoctor.$$class;le.prototype.getCoreVersion=function(){return this.$$const.VERSION},le.prototype.getRuntime=function(){return{ioModule:Opal.const_get_qualified("::","JAVASCRIPT_IO_MODULE"),platform:Opal.const_get_qualified("::","JAVASCRIPT_PLATFORM"),engine:Opal.const_get_qualified("::","JAVASCRIPT_ENGINE"),framework:Opal.const_get_qualified("::","JAVASCRIPT_FRAMEWORK")}},le.prototype.convert=function(t,W){typeof t=="object"&&t.constructor.name==="Buffer"&&(t=t.toString("utf8"));const H=W&&W.to_file;typeof H=="object"&&H.constructor.name==="Writable"&&typeof H.write=="function"&&(H["$respond_to?"]=c=>c==="write",H.$object_id=()=>"",H.$write=function(c){this.write(c)});const T=D(W),O=this.$convert(t,T);return typeof H=="object"&&H.constructor.name==="Writable"&&typeof H.end=="function"&&H.end(),O===Opal.nil?"":O},le.prototype.convertFile=function(t,W){return this.$convert_file(t,D(W))},le.prototype.load=function(t,W){return typeof t=="object"&&t.constructor.name==="Buffer"&&(t=t.toString("utf8")),this.$load(t,D(W))},le.prototype.loadFile=function(t,W){return this.$load_file(t,D(W))};const ne=Opal.Asciidoctor.AbstractBlock;ne.prototype.getContentModel=function(){const t=this.content_model;return t===Opal.nil?void 0:t},ne.prototype.setContentModel=function(t){this.content_model=t},ne.prototype.append=function(t){return this.$append(t),this},ne.prototype.getTitle=function(){const t=this.$title();return t===Opal.nil?void 0:t},ne.prototype.setTitle=function(t){return t=typeof t>"u"?Opal.nil:t,this["$title="](t)},ne.prototype.assignCaption=function(t,W){t=typeof t>"u"?Opal.nil:t,W=typeof W>"u"?null:W,this.$assign_caption(t,W)},ne.prototype.getCaptionedTitle=function(){return this.$captioned_title()},ne.prototype.getStyle=function(){const t=this.style;return t===Opal.nil?void 0:t},ne.prototype.setStyle=function(t){this.style=t},ne.prototype.getSourceLocation=function(){const t=this.source_location;if(t!==Opal.nil)return t.getFile=function(){const W=this.file;return W===Opal.nil?void 0:W},t.getDirectory=function(){const W=this.dir;return W===Opal.nil?void 0:W},t.getPath=function(){const W=this.path;return W===Opal.nil?void 0:W},t.getLineNumber=function(){const W=this.lineno;return W===Opal.nil?void 0:W},t},ne.prototype.getCaption=function(){const t=this.$caption();return t===Opal.nil?void 0:t},ne.prototype.setCaption=function(t){this.caption=typeof t>"u"?Opal.nil:t},ne.prototype.getLevel=function(){const t=this.level;return t===Opal.nil?void 0:t},ne.prototype.getSubstitutions=function(){return this.subs},ne.prototype.hasSubstitution=function(t){return this["$sub?"](t)},ne.prototype.removeSubstitution=function(t){this.$remove_sub(t)},ne.prototype.hasBlocks=function(){return this.blocks.length>0},ne.prototype.getBlocks=function(){return this.blocks},ne.prototype.getContent=function(){const t=this.$content();return t===Opal.nil?void 0:t},ne.prototype.convert=function(){return this.$convert()},ne.prototype.findBy=function(t,W){return typeof W>"u"&&typeof t=="function"?Opal.send(this,"find_by",null,t):typeof W=="function"?Opal.send(this,"find_by",[o(t)],W):this.$find_by(o(t))},ne.prototype.getLineNumber=function(){const t=this.$lineno();return t===Opal.nil?void 0:t},ne.prototype.hasSections=function(){return this.next_section_index!==Opal.nil&&this.next_section_index>0},ne.prototype.getSections=function(){return this.$sections()},ne.prototype.getNumeral=function(){const t=this.$numeral();return t===Opal.nil?void 0:t},ne.prototype.setNumeral=function(t){this["$numeral="](t)},ne.prototype.hasTitle=function(){return this["$title?"]()},ne.prototype.getAlt=function(){return this.$alt()};const F=Opal.Asciidoctor.Section;F.create=function(t,W,H,T){return T&&T.attributes&&(T.attributes=o(T.attributes)),this.$new(t,W,H,o(T))},F.prototype.setLevel=function(t){this.level=t},F.prototype.getIndex=function(){return this.index},F.prototype.setIndex=function(t){this.index=t},F.prototype.getSectionName=function(){const t=this.sectname;return t===Opal.nil?void 0:t},F.prototype.setSectionName=function(t){this.sectname=t},F.prototype.getSectionNumeral=function(){return this.$sectnum()},F.prototype.getSectionNumber=F.prototype.getSectionNumeral,F.prototype.isSpecial=function(){return this.special},F.prototype.setSpecial=function(t){this.special=t},F.prototype.isNumbered=function(){return this.numbered},F.prototype.getCaption=function(){const t=this.caption;return t===Opal.nil?void 0:t},F.prototype.getName=function(){return this.getTitle()};const Se=Opal.Asciidoctor.Block;Se.create=function(t,W,H){return H&&H.attributes&&(H.attributes=o(H.attributes)),this.$new(t,W,o(H))},Se.prototype.getSource=function(){return this.$source()},Se.prototype.getSourceLines=function(){return this.lines};const ge=Opal.Asciidoctor.AbstractNode;ge.prototype.applySubstitutions=function(t,W){return this.$apply_subs(t,W)},ge.prototype.resolveSubstitutions=function(t,W,H,T){typeof W>"u"&&(W="block"),typeof H>"u"&&(H=Opal.nil),typeof T>"u"&&(T=Opal.nil);const O=this.$resolve_subs(t,W,H,T);return O===Opal.nil?void 0:O},ge.prototype.resolveBlockSubstitutions=function(t,W,H){return this.resolveSubstitutions(t,"block",W,H)},ge.prototype.resolvePassSubstitutions=function(t){return this.resolveSubstitutions(t,"inline",void 0,"passthrough macro")},ge.prototype.getNodeName=function(){return this.node_name},ge.prototype.getAttributes=function(){return p(this.attributes)},ge.prototype.getAttribute=function(t,W,H){const T=this.$attr(t,W,H);return T===Opal.nil?void 0:T},ge.prototype.hasAttribute=function(t){return t in this.attributes.$$smap},ge.prototype.isAttribute=function(t,W,H){return this["$attr?"](t,W,H)},ge.prototype.setAttribute=function(t,W,H){return typeof H>"u"&&(H=!0),this.$set_attr(t,W,H)},ge.prototype.removeAttribute=function(t){const W=this.$remove_attr(t);return W===Opal.nil?void 0:W},ge.prototype.getDocument=function(){return this.document},ge.prototype.getParent=function(){const t=this.parent;return t===Opal.nil?void 0:t},ge.prototype.isInline=function(){return this["$inline?"]()},ge.prototype.isBlock=function(){return this["$block?"]()},ge.prototype.isRole=function(t){return this["$role?"](t)},ge.prototype.getRole=function(){const t=this.$role();return t===Opal.nil?void 0:t},ge.prototype.setRole=function(t){return Array.isArray(t)||typeof t=="string"&&arguments.length===1?this["$role="](t):this["$role="](Array.from(arguments))},ge.prototype.hasRole=function(t){return this["$has_role?"](t)},ge.prototype.getRoles=function(){return this.$roles()},ge.prototype.addRole=function(t){return this.$add_role(t)},ge.prototype.removeRole=function(t){return this.$remove_role(t)},ge.prototype.isReftext=function(){return this["$reftext?"]()},ge.prototype.getReftext=function(){const t=this.$reftext();return t===Opal.nil?void 0:t},ge.prototype.getContext=function(){const t=this.context;return typeof t=="string"?t:t.toString()},ge.prototype.getId=function(){const t=this.id;return t===Opal.nil?void 0:t},ge.prototype.setId=function(t){this.id=t},ge.prototype.isOption=function(t){return this["$option?"](t)},ge.prototype.setOption=function(t){return this.$set_option(t)},ge.prototype.getIconUri=function(t){return this.$icon_uri(t)},ge.prototype.getMediaUri=function(t,W){return this.$media_uri(t,W)},ge.prototype.getImageUri=function(t,W){return this.$image_uri(t,W)},ge.prototype.getConverter=function(){return this.$converter()},ge.prototype.readContents=function(t,W){return this.$read_contents(t,o(W))},ge.prototype.readAsset=function(t,W){const H=this.$read_asset(t,o(W));return H===Opal.nil?void 0:H},ge.prototype.normalizeWebPath=function(t,W,H){return this.$normalize_web_path(t,W,H)},ge.prototype.normalizeSystemPath=function(t,W,H,T){return this.$normalize_system_path(t,W,H,o(T))},ge.prototype.normalizeAssetPath=function(t,W,H){return this.$normalize_asset_path(t,W,H)};const qe=Opal.Asciidoctor.Document;qe.prototype.append=function(t){return this["$<<"](t),this},qe.prototype.getSyntaxHighlighter=function(){const t=this.syntax_highlighter,W=t.__proto__;return W&&(typeof W["$highlight?"]=="function"&&(W.handlesHighlighting=function(){const H=W["$highlight?"]();return H===Opal.nil?!1:H}),typeof W["$docinfo?"]=="function"&&(W.hasDocinfo=W["$docinfo?"]),typeof W.$format=="function"&&(W.format=function(H,T,O){return this.$format(H,T,o(O))}),typeof W.$docinfo=="function"&&(W.docinfo=function(H,T,O){return this.$docinfo(H,T,o(O))})),t},qe.prototype.getRefs=function(){return p(this.catalog.$$smap.refs)},qe.prototype.getImages=function(){return this.catalog.$$smap.images},qe.prototype.getLinks=function(){return this.catalog.$$smap.links},qe.prototype.hasFootnotes=function(){return this["$footnotes?"]()},qe.prototype.getFootnotes=function(){return this.$footnotes()},qe.prototype.getHeader=function(){return this.header},qe.prototype.setAttribute=function(t,W){return this.$set_attribute(t,W)},qe.prototype.removeAttribute=function(t){this.attributes.$delete(t),this.attribute_overrides.$delete(t)},qe.prototype.convert=function(t){const W=this.$convert(o(t));return W===Opal.nil?"":W},qe.prototype.write=function(t,W){return this.$write(t,W)},qe.prototype.getAuthor=function(){return this.$author()},qe.prototype.getSource=function(){return this.$source()},qe.prototype.getSourceLines=function(){return this.$source_lines()},qe.prototype.isNested=function(){return this["$nested?"]()},qe.prototype.isEmbedded=function(){return this["$embedded?"]()},qe.prototype.hasExtensions=function(){return this["$extensions?"]()},qe.prototype.getDoctype=function(){return this.doctype},qe.prototype.getBackend=function(){return this.backend},qe.prototype.isBasebackend=function(t){return this["$basebackend?"](t)},qe.prototype.getTitle=function(){const t=this.$title();return t===Opal.nil?void 0:t},qe.prototype.setTitle=function(t){return this["$title="](t)},qe.prototype.getDocumentTitle=function(t){const W=this.$doctitle(o(t));return W===Opal.nil?void 0:W},qe.prototype.getDoctitle=qe.prototype.getDocumentTitle,qe.prototype.getCatalog=function(){return p(this.catalog)},qe.prototype.getReferences=qe.prototype.getCatalog,qe.prototype.getRevisionDate=function(){return this.getAttribute("revdate")},qe.prototype.getRevdate=function(){return this.getRevisionDate()},qe.prototype.getRevisionNumber=function(){return this.getAttribute("revnumber")},qe.prototype.getRevisionRemark=function(){return this.getAttribute("revremark")},qe.prototype.setHeaderAttribute=function(t,W,H){return typeof H>"u"&&(H=!0),typeof W>"u"&&(W=""),this.$set_header_attribute(t,W,H)},qe.prototype.getAuthors=function(){return this.$authors()};const Pe=qe.Footnote;Pe.prototype.getIndex=function(){const t=this.$$data.index;return t===Opal.nil?void 0:t},Pe.prototype.getId=function(){const t=this.$$data.id;return t===Opal.nil?void 0:t},Pe.prototype.getText=function(){const t=this.$$data.text;return t===Opal.nil?void 0:t};const je=qe.ImageReference;je.prototype.getTarget=function(){return this.$$data.target},je.prototype.getImagesDirectory=function(){const t=this.$$data.imagesdir;return t===Opal.nil?void 0:t};const ye=qe.Author;ye.prototype.getName=function(){const t=this.$$data.name;return t===Opal.nil?void 0:t},ye.prototype.getFirstName=function(){const t=this.$$data.firstname;return t===Opal.nil?void 0:t},ye.prototype.getMiddleName=function(){const t=this.$$data.middlename;return t===Opal.nil?void 0:t},ye.prototype.getLastName=function(){const t=this.$$data.lastname;return t===Opal.nil?void 0:t},ye.prototype.getInitials=function(){const t=this.$$data.initials;return t===Opal.nil?void 0:t},ye.prototype.getEmail=function(){const t=this.$$data.email;return t===Opal.nil?void 0:t},qe.RevisionInfo=function(t,W,H){this.date=t,this.number=W,this.remark=H};const Q=qe.RevisionInfo;Q.prototype.getDate=function(){return this.date},Q.prototype.getNumber=function(){return this.number},Q.prototype.getRemark=function(){return this.remark},Q.prototype.isEmpty=function(){return this.date===void 0&&this.number===void 0&&this.remark===void 0};const Ae=Opal.Asciidoctor.SafeMode;Ae.getValueForName=function(t){return this.$value_for_name(t)},Ae.getNameForValue=function(t){const W=this.$name_for_value(t);return W===Opal.nil?void 0:W},Ae.getNames=function(){return this.$names()};const We=Opal.Asciidoctor.Callouts;We.create=function(){return this.$new()},We.prototype.register=function(t){return this.$register(t)},We.prototype.readNextId=function(){return this.$read_next_id()},We.prototype.getCalloutIds=function(t){return this.$callout_ids(t)},We.prototype.getLists=function(){const t=this.lists;if(t&&t.length>0)for(let W=0;W<t.length;W++){const H=t[W];if(H&&H.length>0)for(let T=0;T<H.length;T++)typeof H[T]=="object"&&"$$smap"in H[T]&&(H[T]=p(H[T]))}return t},We.prototype.getListIndex=function(){return this.list_index},We.prototype.getCurrentList=function(){const t=this.$current_list();if(t&&t.length>0)for(let W=0;W<t.length;W++)typeof t[W]=="object"&&"$$smap"in t[W]&&(t[W]=p(t[W]));return t},We.prototype.nextList=function(){return this.$nextList()},We.prototype.rewind=function(){return this.$rewind()},qe.prototype.getRevisionInfo=function(){return new qe.RevisionInfo(this.getRevisionDate(),this.getRevisionNumber(),this.getRevisionRemark())},qe.prototype.hasRevisionInfo=function(){return!this.getRevisionInfo().isEmpty()},qe.prototype.getNotitle=function(){return this.$notitle()},qe.prototype.getNoheader=function(){return this.$noheader()},qe.prototype.getNofooter=function(){return this.$nofooter()},qe.prototype.hasHeader=function(){return this["$header?"]()},qe.prototype.playbackAttributes=function(t){if(t=o(t),t){const W=t["$[]"]("attribute_entries");if(W&&Array.isArray(W)){const H=[];for(let T=0;T<W.length;T++){const O=W[T];O&&typeof O=="object"&&O.constructor.name==="Object"&&(O.$name=function(){return this.name},O.$value=function(){return this.value},O.$negate=function(){return this.negate}),H.push(O)}t["$[]="]("attribute_entries",H)}}this.$playback_attributes(t)},qe.prototype.deleteAttribute=function(t){return this.$delete_attribute(t)},qe.prototype.isAttributeLocked=function(t){return this["$attribute_locked?"](t)},qe.prototype.restoreAttributes=function(){return this.$restore_attributes()},qe.prototype.parse=function(t){return this.$parse(t)},qe.prototype.getDocinfo=function(t,W){return this.$docinfo(t,W)},qe.prototype.hasDocinfoProcessors=function(t){return this["$docinfo_processors?"](t)},qe.prototype.incrementAndStoreCounter=function(t,W){return this.$increment_and_store_counter(t,W)},qe.prototype.counterIncrement=qe.prototype.incrementAndStoreCounter,qe.prototype.counter=function(t,W){return this.$counter(t,W)},qe.prototype.getSafe=function(){return this.safe},qe.prototype.getCompatMode=function(){return this.compat_mode},qe.prototype.getSourcemap=function(){const t=this.sourcemap;return t===Opal.nil?!1:t},qe.prototype.setSourcemap=function(t){this.sourcemap=t},qe.prototype.getCounters=function(){return p(this.counters)},qe.prototype.getCallouts=function(){return this.$callouts()},qe.prototype.getBaseDir=function(){return this.base_dir},qe.prototype.getOptions=function(){return p(this.options)},qe.prototype.getOutfilesuffix=function(){return this.outfilesuffix},qe.prototype.getParentDocument=function(){const t=this.parent_document;return t===Opal.nil?void 0:t},qe.prototype.getReader=function(){return this.reader},qe.prototype.getConverter=function(){return this.converter},qe.prototype.getExtensions=function(){const t=this.extensions;return t===Opal.nil?void 0:t};const Fe=qe.Title;Fe.prototype.getMain=function(){return this.main},Fe.prototype.getCombined=function(){return this.combined},Fe.prototype.getSubtitle=function(){const t=this.subtitle;return t===Opal.nil?void 0:t},Fe.prototype.isSanitized=function(){const t=this["$sanitized?"]();return t===Opal.nil?!1:t},Fe.prototype.hasSubtitle=function(){return this["$subtitle?"]()};const ze=Opal.Asciidoctor.Inline;ze.create=function(t,W,H,T){return this.$new(t,W,H,D(T))},ze.prototype.convert=function(){return this.$convert()},ze.prototype.getText=function(){const t=this.$text();return t===Opal.nil?void 0:t},ze.prototype.getType=function(){return this.$type()},ze.prototype.getTarget=function(){const t=this.$target();return t===Opal.nil?void 0:t},ze.prototype.getAlt=function(){return this.$alt()};const ce=Opal.Asciidoctor.List;ce.prototype.hasItems=function(){return this["$items?"]()},ce.prototype.getItems=function(){return this.blocks};const be=Opal.Asciidoctor.ListItem;be.prototype.getText=function(){return this.$text()},be.prototype.setText=function(t){return this["$text="](t)},be.prototype.hasText=function(){return this["$text?"]()},be.prototype.getMarker=function(){return this.marker},be.prototype.setMarker=function(t){this.marker=t},be.prototype.getList=function(){return this.$list()},be.prototype.getParent=be.prototype.getList;const ue=Opal.Asciidoctor.Reader;ue.prototype.pushInclude=function(t,W,H,T,O){return this.$push_include(t,W,H,T,o(O))},ue.prototype.getCursor=function(){return this.$cursor()},ue.prototype.getLines=function(){return this.$lines()},ue.prototype.getString=function(){return this.$string()},ue.prototype.hasMoreLines=function(){return this["$has_more_lines?"]()},ue.prototype.isEmpty=function(){return this["$empty?"]()},ue.prototype.peekLine=function(t){t=t||!1;const W=this.$peek_line(t);return W===Opal.nil?void 0:W},ue.prototype.readLine=function(){const t=this.$read_line();return t===Opal.nil?void 0:t},ue.prototype.readLines=function(){return this.$read_lines()},ue.prototype.read=function(){return this.$read()},ue.prototype.advance=function(){return this.$advance()};const Le=Opal.Asciidoctor.Reader.Cursor;Le.prototype.getFile=function(){const t=this.file;return t===Opal.nil?void 0:t},Le.prototype.getDirectory=function(){const t=this.dir;return t===Opal.nil?void 0:t},Le.prototype.getPath=function(){const t=this.path;return t===Opal.nil?void 0:t},Le.prototype.getLineNumber=function(){return this.lineno};function ae(t,W){const H=Opal.const_get_qualified(Opal.Logger,"Formatter");return se(H,t,W,{},{call:function(T){for(let O=0;O<T.length;O++)typeof T[O]=="object"&&"$$smap"in T[O]&&(T[O]=p(T[O]));return T}})}function xe(t,W){const H=Opal.const_get_qualified(Opal.Asciidoctor,"Logger");return se(H,t,W,{},{add:function(T){if(T.length>=2&&typeof T[2]=="object"&&"$$smap"in T[2]){const O=T[2],c=p(O);c.getText=function(){return this.text},c.getSourceLocation=function(){return this.source_location},c.$inspect=function(){const N=this.getSourceLocation();return N?N.getPath()+": line "+N.getLineNumber()+": "+this.getText():this.getText()},T[2]=c}return T.length>=1&&(T[1]=T[1]===Opal.nil?void 0:T[1]),T}})}const ee=Opal.const_get_qualified(Opal.Asciidoctor,"LoggerManager",!0);Opal.Asciidoctor.LoggerManager=ee,ee.getLogger=function(){return this.$logger()},ee.setLogger=function(t){this["$logger="](t)},ee.newLogger=function(t,W){return xe(t,W).$new()},ee.newFormatter=function(t,W){return ae(t,W).$new()};const m=Opal.const_get_qualified(Opal.Logger,"Severity",!0);Opal.Asciidoctor.LoggerSeverity=m,m.get=function(t){return m.$constants()[t]};const _e=Opal.const_get_qualified(Opal.Logger,"Formatter",!0);Opal.Asciidoctor.LoggerFormatter=_e,_e.prototype.call=function(t,W,H,T){return this.$call(m.get(t),W,H,T)};const z=Opal.const_get_qualified(Opal.Asciidoctor,"MemoryLogger",!0);Opal.Asciidoctor.MemoryLogger=z,z.create=function(){return this.$new()},z.prototype.getMessages=function(){const t=this.messages,W=[];for(let H=0;H<t.length;H++){const T=t[H],O=p(T);typeof O.message=="string"?O.getText=function(){return this.message}:(O.message=p(O.message),O.getText=function(){return this.message.text}),O.getSeverity=function(){return this.severity.toString()},O.getSourceLocation=function(){return this.message.source_location},W.push(O)}return W};const K=Opal.const_get_qualified(Opal.Asciidoctor,"Logging",!0);Opal.Asciidoctor.Logging=K,K.getLogger=function(){return ee.$logger()},K.createLogMessage=function(t,W){return K.prototype.$message_with_context(t,o(W))},ue.prototype.getLogger=K.getLogger,ue.prototype.createLogMessage=K.createLogMessage,ge.prototype.getLogger=K.getLogger,ge.prototype.createLogMessage=K.createLogMessage;const C=Opal.const_get_qualified(Opal.Asciidoctor,"Logger",!0);Opal.Asciidoctor.Logger=C,C.prototype.getMaxSeverity=function(){const t=this.max_severity;return t===Opal.nil?void 0:t},C.prototype.getFormatter=function(){return this.formatter},C.prototype.setFormatter=function(t){this.formatter=t},C.prototype.getLevel=function(){return this.level},C.prototype.setLevel=function(t){this.level=t},C.prototype.getProgramName=function(){return this.progname},C.prototype.setProgramName=function(t){this.progname=t};const Te=Opal.const_get_qualified("::","Logger"),ie=function(t,W,H){t["$"+W](H)};Te.prototype.add=function(t,W,H){const T=typeof t=="string"?m[t.toUpperCase()]:t;this.$add(T,W,H)},Te.prototype.log=Te.prototype.add,Te.prototype.debug=function(t){ie(this,"debug",t)},Te.prototype.info=function(t){ie(this,"info",t)},Te.prototype.warn=function(t){ie(this,"warn",t)},Te.prototype.error=function(t){ie(this,"error",t)},Te.prototype.fatal=function(t){ie(this,"fatal",t)},Te.prototype.isDebugEnabled=function(){return this["$debug?"]()},Te.prototype.isInfoEnabled=function(){return this["$info?"]()},Te.prototype.isWarnEnabled=function(){return this["$warn?"]()},Te.prototype.isErrorEnabled=function(){return this["$error?"]()},Te.prototype.isFatalEnabled=function(){return this["$fatal?"]()};const M=Opal.const_get_qualified(Opal.Asciidoctor,"NullLogger",!0);Opal.Asciidoctor.NullLogger=M,M.create=function(){return this.$new()},M.prototype.getMaxSeverity=function(){return this.max_severity},Opal.Asciidoctor.StopIteration=Opal.StopIteration;const d=Opal.const_get_qualified(Opal.Asciidoctor,"Timings",!0);Opal.Asciidoctor.Timings=d,d.create=function(){return this.$new()},d.prototype.printReport=function(t,W){let H;if(t)if(typeof t.$add=="function")H=function(T){t.$add(1,T)};else if(typeof t.log=="function")H=t.log;else if(typeof t.write=="function")H=function(T){t.write(T,"utf-8")};else throw new Error("The output should be a Stream (with a write function), an object with a log function or a Ruby Logger (with a add function)");else H=function(T){Opal.gvars.stdout.$write(T)};W&&H("Input file: "+W),H(" Time to read and parse source: "+this.$read_parse().toFixed(2)),H(" Time to convert document: "+this.$convert().toFixed(2)),H(" Total time (read, parse and convert): "+this.$read_parse_convert().toFixed(2))};const s=Opal.const_get_qualified(Opal.Asciidoctor,"SyntaxHighlighter",!0);Opal.Asciidoctor.SyntaxHighlighter=s,s.register=function(t,W){const H=typeof t=="string"?t:t[0];if(typeof W=="function"){const c=W.prototype,N=Object.getOwnPropertyNames(c);W={};for(const Ne in N){const L=N[Ne];W[L]=c[L]}}const T=se(n,H,W,{},{format:function(O){return O.length>=2&&typeof O[2]=="object"&&"$$smap"in O[2]&&(O[2]=p(O[2])),O.length>=1&&(O[1]=O[1]===Opal.nil?void 0:O[1]),O},highlight:function(O){if(O.length>=3&&typeof O[3]=="object"&&"$$smap"in O[3]){let c=O[3];c=p(c);for(const N in c){const Ne=c[N];if(N==="callouts"){const L=J(Ne);for(const ve in L){const v=L[ve];for(let Ve=0;Ve<v.length;Ve++){const de=v[Ve];for(let Ue=0;Ue<de.length;Ue++)de[Ue]=de[Ue]===Opal.nil?void 0:de[Ue]}}c[N]=L}else c[N]=Ne===Opal.nil?void 0:Ne}O[3]=c}return O.length>=2&&(O[2]=O[2]===Opal.nil?void 0:O[2]),O}});for(const O in W)Object.prototype.hasOwnProperty.call(W,O)&&function(c){const N=W[c];c==="handlesHighlighting"?Opal.def(T,"$highlight?",function(){return N.call()}):c==="hasDocinfo"&&Opal.def(T,"$docinfo?",function(Ne){return N.apply(this,[Ne])})}(O);return Opal.def(T,"$name",function(){return H}),s.$register(T,t),T},s.get=function(t){const W=s.$for(t);return W===Opal.nil?void 0:W},s.for=s.get;const n=Opal.const_get_qualified(s,"Base",!0);Opal.Asciidoctor.SyntaxHighlighterBase=n,n.prototype.registerFor=function(t){s.$register(this,t)};const i=Opal.Asciidoctor.Table;i.create=function(t,W){return this.$new(t,o(W))},i.prototype.getCaption=function(){return this.caption},i.prototype.getRows=function(){return this.rows},i.prototype.getColumns=function(){return this.columns},i.prototype.getHeadRows=function(){return this.rows.head},i.prototype.hasHeadRows=function(){return this.rows!==Opal.nil&&this.rows.head.length>0},i.prototype.getBodyRows=function(){return this.rows.body},i.prototype.hasBodyRows=function(){return this.rows!==Opal.nil&&this.rows.body.length>0},i.prototype.getFootRows=function(){return this.rows.foot},i.prototype.hasFootRows=function(){return this.rows!==Opal.nil&&this.rows.foot.length>0},i.prototype.hasHeaderOption=function(){return this.has_header_option},i.prototype.hasFooterOption=function(){return this.isOption("footer")},i.prototype.hasAutowidthOption=function(){return this.isOption("autowidth")},i.prototype.getRowCount=function(){return this.getAttribute("rowcount")},i.prototype.setRowCount=function(t){this.setAttribute("rowcount",t)},i.prototype.getColumnCount=function(){return this.getAttribute("colcount")},i.prototype.setColumnCount=function(t){this.setAttribute("colcount",t)};const $=Opal.Asciidoctor.Table.Rows;$.create=function(t,W,H){return this.$new(t,W,H)},$.prototype.getHead=function(){return this.head},$.prototype.getFoot=function(){return this.foot},$.prototype.getBody=function(){return this.body},$.prototype.bySection=function(){return[["head",this.head],["body",this.body],["foot",this.foot]]};const a=Opal.Asciidoctor.Table.Column;a.create=function(t,W,H){return this.$new(t,W,o(H))},a.prototype.getColumnNumber=function(){return this.getAttribute("colnumber")},a.prototype.getWidth=function(){return this.getAttribute("width")},a.prototype.getHorizontalAlign=function(){return this.getAttribute("halign")},a.prototype.getVerticalAlign=function(){return this.getAttribute("valign")},a.prototype.getStyle=function(){const t=this.style;return t===Opal.nil?void 0:t};const b=Opal.Asciidoctor.Table.Cell;b.create=function(t,W,H,T){return this.$new(t,W,o(H),o(T))},b.prototype.getColumnSpan=function(){const t=this.colspan;return t===Opal.nil?void 0:t},b.prototype.setColumnSpan=function(t){return this["$colspan="](t)},b.prototype.getRowSpan=function(){const t=this.rowspan;return t===Opal.nil?void 0:t},b.prototype.setRowSpan=function(t){return this["$rowspan="](t)},b.prototype.getContent=function(){return this.$content()},b.prototype.getText=function(){return this.$text()},b.prototype.getSource=function(){return this.$source()},b.prototype.getLines=function(){return this.$lines()},b.prototype.getLineNumber=function(){const t=this.$lineno();return t===Opal.nil?void 0:t},b.prototype.getFile=function(){const t=this.$file();return t===Opal.nil?void 0:t},b.prototype.getStyle=function(){const t=this.$style();return t===Opal.nil?void 0:t},b.prototype.getColumn=function(){const t=this.$column();return t===Opal.nil?void 0:t},b.prototype.getWidth=function(){return this.getAttribute("width")},b.prototype.getColumnPercentageWidth=function(){return this.getAttribute("colpcwidth")},b.prototype.getInnerDocument=function(){const t=this.inner_document;return t===Opal.nil?void 0:t};const w=Opal.Asciidoctor.Converter.TemplateConverter;if(w){Opal.Asciidoctor.TemplateConverter=w,w.create=function(W,H,T){T&&T.template_cache&&(T.template_cache=o(T.template_cache)),this.$new(W,H,o(T))},w.getCache=function(){const W=p(this.caches);if(W){if(W.scans){W.scans=p(W.scans);for(const H in W.scans)W.scans[H]=p(W.scans[H])}W.templates&&(W.templates=p(W.templates))}return W},w.clearCache=function(){this.$clear_caches()},w.prototype.convert=function(W,H,T){return this.$convert(W,H,o(T))},w.prototype.handles=function(W){return this["$handles?"](W)},w.prototype.getContentOnly=function(W){return this.$content_only(W)},w.prototype.skip=function(W){this.$skip(W)},w.prototype.getTemplates=function(){return p(this.$templates())},w.prototype.register=function(W,H){return this.$register(W,H)};const t={};t.registry={},Opal.Asciidoctor.TemplateEngine=t,t.register=function(W,H){if(typeof W=="string")this.registry[W]=H;else for(let T=0;T<W.length;T++){const O=W[T];this.registry[O]=H}}}const Y=Opal.Asciidoctor.Converter.CompositeConverter;Y&&(Opal.Asciidoctor.CompositeConverter=Y,Y.prototype.convert=function(t,W,H){return this.$convert(t,W,o(H))},Y.prototype.getContentOnly=function(t){return this.$content_only(t)},Y.prototype.skip=function(t){this.$skip(t)},Y.prototype.getConverters=function(){return this.converters},Y.prototype.getConverter=function(t){const W=this.$converter_for(t);return W===Opal.nil?void 0:W},Y.prototype.findConverter=function(t){return this.$find_converter(t)});const Ce=Opal.const_get_qualified(Opal.Asciidoctor,"Converter");Opal.Asciidoctor.Converter=Ce,Ce.prototype.convert=function(t,W,H){return this.$convert(t,W,o(H))},Ce.create=function(t,W){return this.$create(t,o(W))};const Oe=Opal.Asciidoctor.Converter.Factory,ot=Opal.Asciidoctor.Converter.Base;Opal.Asciidoctor.ConverterFactory=Oe;const lt=Opal.Asciidoctor.Converter.BackendTraits;Opal.Asciidoctor.ConverterBackendTraits=lt,Oe.register=function(t,W){const H=[he(t)].concat(W);return Ce.$register.apply(Ce,H)},Oe.getDefault=function(t){return this.$default(t)},Oe.prototype.create=function(t,W){return this.$create(t,o(W))},Oe.getRegistry=function(){return p(Ce.$registry())},Oe.for=function(t){const W=Ce.$for(t);return W===Opal.nil?void 0:W},Oe.unregisterAll=function(){const t=Ce.DefaultFactory.$$cvars["@@registry"];Ce.DefaultFactory.$$cvars["@@registry"]=o({html5:t["$[]"]("html5")})};const gt=Opal.Asciidoctor.Converter.Html5Converter;Opal.Asciidoctor.Html5Converter=gt,gt.create=function(){return this.$new()},gt.prototype.convert=function(t,W,H){return this.$convert(t,W,H)};const _t=function(t){return t.$$arity=t.length,t},mt=function(t,W,H,T){return typeof H=="object"||H.$$is_class?t["$"+W](H,T):Opal.send(t,W,T&&[T],_t(H))},dt=Opal.const_get_qualified(Opal.Asciidoctor,"Extensions");Opal.Asciidoctor.Extensions=dt,dt.create=function(t,W){return typeof t=="function"&&typeof W>"u"?Opal.send(this,"create",null,_t(t)):typeof W=="function"?Opal.send(this,"create",[t],_t(W)):this.$create()},dt.register=function(t,W){return typeof t=="function"&&typeof W>"u"?Opal.send(this,"register",null,_t(t)):Opal.send(this,"register",[t],_t(W))},dt.getGroups=function(){return p(this.$groups())},dt.unregisterAll=function(){this.$unregister_all()},dt.unregister=function(){const t=Array.prototype.concat.apply([],arguments),W=this.$groups(),H={};let T=0;const O=W.$$keys;for(;T<O.length;T++){const c=O[T];H[c.toString()]=c}for(let c=0;c<t.length;c++){const N=t[c];N in H&&Opal.hash_delete(W,H[N])}};const bt=dt.Registry;bt.prototype.getGroups=dt.getGroups,bt.prototype.unregisterAll=function(){this.groups=Opal.hash()},bt.prototype.unregister=dt.unregister,bt.prototype.prefer=function(t,W){return arguments.length===1&&(W=t,t=null),typeof W=="object"||W.$$is_class?this.$prefer(t,W):Opal.send(this,"prefer",t&&[t],_t(W))},bt.prototype.block=function(t,W){return arguments.length===1&&(W=t,t=null),mt(this,"block",W,t)},bt.prototype.inlineMacro=function(t,W){return arguments.length===1&&(W=t,t=null),mt(this,"inline_macro",W,t)},bt.prototype.includeProcessor=function(t,W){return arguments.length===1&&(W=t,t=null),mt(this,"include_processor",W,t)},bt.prototype.blockMacro=function(t,W){return arguments.length===1&&(W=t,t=null),mt(this,"block_macro",W,t)},bt.prototype.treeProcessor=function(t,W){return arguments.length===1&&(W=t,t=null),mt(this,"tree_processor",W,t)},bt.prototype.postprocessor=function(t,W){return arguments.length===1&&(W=t,t=null),mt(this,"postprocessor",W,t)},bt.prototype.preprocessor=function(t,W){return arguments.length===1&&(W=t,t=null),mt(this,"preprocessor",W,t)},bt.prototype.docinfoProcessor=function(t,W){return arguments.length===1&&(W=t,t=null),mt(this,"docinfo_processor",W,t)},bt.prototype.hasPreprocessors=function(){return this["$preprocessors?"]()},bt.prototype.hasTreeProcessors=function(){return this["$tree_processors?"]()},bt.prototype.hasIncludeProcessors=function(){return this["$include_processors?"]()},bt.prototype.hasPostprocessors=function(){return this["$postprocessors?"]()},bt.prototype.hasDocinfoProcessors=function(t){return this["$docinfo_processors?"](t)},bt.prototype.hasBlocks=function(){return this["$blocks?"]()},bt.prototype.hasBlockMacros=function(){return this["$block_macros?"]()},bt.prototype.hasInlineMacros=function(){return this["$inline_macros?"]()},bt.prototype.getPreprocessors=function(){return this.$preprocessors()},bt.prototype.getTreeProcessors=function(){return this.$tree_processors()},bt.prototype.getIncludeProcessors=function(){return this.$include_processors()},bt.prototype.getPostprocessors=function(){return this.$postprocessors()},bt.prototype.getDocinfoProcessors=function(t){return this.$docinfo_processors(t)},bt.prototype.getBlocks=function(){return this.block_extensions.$values()},bt.prototype.getBlockMacros=function(){return this.block_macro_extensions.$values()},bt.prototype.getInlineMacros=function(){return this.$inline_macros()},bt.prototype.getInlineMacroFor=function(t){const W=this["$registered_for_inline_macro?"](t);return W===!1?void 0:W},bt.prototype.getBlockFor=function(t,W){if(typeof W>"u"){const T=this.$find_block_extension(t);return T===Opal.nil?void 0:T}const H=this["$registered_for_block?"](t,W);return H===!1?void 0:H},bt.prototype.getBlockMacroFor=function(t){const W=this["$registered_for_block_macro?"](t);return W===!1?void 0:W};const vt=dt.Processor;vt.prototype.prepend=function(){this.$option("position",">>")},vt.prototype.process=function(t){const W={apply:function(T,O,c){for(let N=0;N<c.length;N++)typeof c[N]=="object"&&"$$smap"in c[N]&&(c[N]=p(c[N]));return T.apply(O,c)}},H=new Proxy(t,W);return Opal.send(this,"process",null,_t(H))},vt.prototype.named=function(t){return this.$named(t)},vt.prototype.createBlock=function(t,W,H,T,O){return this.$create_block(t,W,H,o(T),o(O))},vt.prototype.createList=function(t,W,H){return this.$create_list(t,W,o(H))},vt.prototype.createListItem=function(t,W){return this.$create_list_item(t,W)},vt.prototype.createImageBlock=function(t,W,H){return this.$create_image_block(t,o(W),o(H))},vt.prototype.createParagraph=function(t,W,H,T){return this.$create_paragraph(t,W,o(H),o(T))},vt.prototype.createOpenBlock=function(t,W,H,T){return this.$create_open_block(t,W,o(H),o(T))},vt.prototype.createExampleBlock=function(t,W,H,T){return this.$create_example_block(t,W,o(H),o(T))},vt.prototype.createPassBlock=function(t,W,H,T){return this.$create_pass_block(t,W,o(H),o(T))},vt.prototype.createListingBlock=function(t,W,H,T){return this.$create_listing_block(t,W,o(H),o(T))},vt.prototype.createLiteralBlock=function(t,W,H,T){return this.$create_literal_block(t,W,o(H),o(T))},vt.prototype.createAnchor=function(t,W,H){return H&&H.attributes&&(H.attributes=o(H.attributes)),this.$create_anchor(t,W,o(H))},vt.prototype.createInlinePass=function(t,W,H){return H&&H.attributes&&(H.attributes=o(H.attributes)),this.$create_inline_pass(t,W,o(H))},vt.prototype.createInline=function(t,W,H,T){return T&&T.attributes&&(T.attributes=o(T.attributes)),this.$create_inline(t,W,H,o(T))},vt.prototype.parseContent=function(t,W,H){return this.$parse_content(t,W,o(H))},vt.prototype.parseAttributes=function(t,W,H){return H&&H.attributes&&(H.attributes=o(H.attributes)),p(this.$parse_attributes(t,W,o(H)))},vt.prototype.positionalAttributes=function(t){return this.$positional_attrs(t)},vt.prototype.resolveAttributes=function(t){return typeof t=="object"&&!Array.isArray(t)?this.$resolves_attributes(o(t)):arguments.length>1?this.$resolves_attributes(Array.prototype.slice.call(arguments)):typeof t>"u"?this.$resolves_attributes(Opal.nil):this.$resolves_attributes(t)},vt.prototype.resolvesAttributes=vt.prototype.resolveAttributes,vt.prototype.getConfig=function(){return p(this.config)},vt.prototype.option=function(t,W){this.$option(t,W)};const Qe=dt.BlockProcessor;Qe.prototype.defaultAttributes=function(t){this.$default_attributes(o(t))},Qe.prototype.onContext=function(t){return this.$on_context(t)},Qe.prototype.onContexts=function(t){return this.$on_contexts(Array.prototype.slice.call(arguments))},Qe.prototype.getName=function(){const t=this.name;return t===Opal.nil?void 0:t},Qe.prototype.parseContentAs=function(t){this.$parse_content_as(t)};const pe=dt.BlockMacroProcessor;pe.prototype.defaultAttributes=function(t){this.$default_attributes(o(t))},pe.prototype.getName=function(){const t=this.name;return t===Opal.nil?void 0:t},pe.prototype.parseContentAs=function(t){this.$parse_content_as(t)};const Re=dt.InlineMacroProcessor;Re.prototype.defaultAttributes=function(t){this.$default_attributes(o(t))},Re.prototype.getName=function(){const t=this.name;return t===Opal.nil?void 0:t},Re.prototype.parseContentAs=function(t){this.$parse_content_as(t)},Re.prototype.matchFormat=function(t){this.$match_format(t)},Re.prototype.match=function(t){this.$match(t)};const He=dt.IncludeProcessor;He.prototype.handles=function(t){return Opal.send(this,"handles?",null,_t(t))},He.prototype.prefer=function(){this.$prefer()};const _=dt.TreeProcessor;_.prototype.prefer=function(){this.$prefer()};const k=dt.Postprocessor;k.prototype.prefer=function(){this.$prefer()};const re=dt.Preprocessor;re.prototype.prefer=function(){this.$prefer()};const ke=dt.DocinfoProcessor;ke.prototype.prefer=function(){this.$prefer()},ke.prototype.atLocation=function(t){this.$at_location(t)};function Ye(t,W,H){const T=Opal.const_get_qualified(dt,t);return se(T,W,H,{"handles?":function(){return!0}})}dt.createPostprocessor=function(t,W){return arguments.length===1&&(W=t,t=null),Ye("Postprocessor",t,W)},dt.newPostprocessor=function(t,W){return arguments.length===1&&(W=t,t=null),this.createPostprocessor(t,W).$new()},dt.createPreprocessor=function(t,W){return arguments.length===1&&(W=t,t=null),Ye("Preprocessor",t,W)},dt.newPreprocessor=function(t,W){return arguments.length===1&&(W=t,t=null),this.createPreprocessor(t,W).$new()},dt.createTreeProcessor=function(t,W){return arguments.length===1&&(W=t,t=null),Ye("TreeProcessor",t,W)},dt.newTreeProcessor=function(t,W){return arguments.length===1&&(W=t,t=null),this.createTreeProcessor(t,W).$new()},dt.createIncludeProcessor=function(t,W){return arguments.length===1&&(W=t,t=null),Ye("IncludeProcessor",t,W)},dt.newIncludeProcessor=function(t,W){return arguments.length===1&&(W=t,t=null),this.createIncludeProcessor(t,W).$new()},dt.createDocinfoProcessor=function(t,W){return arguments.length===1&&(W=t,t=null),Ye("DocinfoProcessor",t,W)},dt.newDocinfoProcessor=function(t,W){return arguments.length===1&&(W=t,t=null),this.createDocinfoProcessor(t,W).$new()},dt.createBlockProcessor=function(t,W){return arguments.length===1&&(W=t,t=null),Ye("BlockProcessor",t,W)},dt.newBlockProcessor=function(t,W){return arguments.length===1&&(W=t,t=null),this.createBlockProcessor(t,W).$new()},dt.createInlineMacroProcessor=function(t,W){return arguments.length===1&&(W=t,t=null),Ye("InlineMacroProcessor",t,W)},dt.newInlineMacroProcessor=function(t,W){return arguments.length===1&&(W=t,t=null),this.createInlineMacroProcessor(t,W).$new()},dt.createBlockMacroProcessor=function(t,W){return arguments.length===1&&(W=t,t=null),Ye("BlockMacroProcessor",t,W)},dt.newBlockMacroProcessor=function(t,W){return arguments.length===1&&(W=t,t=null),this.createBlockMacroProcessor(t,W).$new()};var nt="3.0.4";return Opal.Asciidoctor.prototype.getVersion=function(){return nt},Opal.Asciidoctor}const _i=Object.freeze(Object.defineProperty({__proto__:null,default:fi},Symbol.toStringTag,{value:"Module"})),di=ci(_i);var hi=di;const pi=ui(hi);function vn(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function Tn(e,...o){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(o.length>0&&!o.includes(e.length))throw new Error(`Expected Uint8Array of length ${o}, not of length=${e.length}`)}function gi(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");vn(e.outputLen),vn(e.blockLen)}function Cr(e,o=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(o&&e.finished)throw new Error("Hash#digest() has already been called")}function mi(e,o){Tn(e);const p=o.outputLen;if(e.length<p)throw new Error(`digestInto() expects output buffer of length at least ${p}`)}const Hr=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const zn=e=>e instanceof Uint8Array,jr=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Ot=(e,o)=>e<<32-o|e>>>o,vi=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!vi)throw new Error("Non little-endian hardware is not supported");function bi(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function an(e){if(typeof e=="string"&&(e=bi(e)),!zn(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function yi(...e){const o=new Uint8Array(e.reduce((J,D)=>J+D.length,0));let p=0;return e.forEach(J=>{if(!zn(J))throw new Error("Uint8Array expected");o.set(J,p),p+=J.length}),o}let Nn=class{clone(){return this._cloneInto()}};function wi(e){const o=J=>e().update(an(J)).digest(),p=e();return o.outputLen=p.outputLen,o.blockLen=p.blockLen,o.create=()=>e(),o}function Ln(e=32){if(Hr&&typeof Hr.getRandomValues=="function")return Hr.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function xi(e,o,p,J){if(typeof e.setBigUint64=="function")return e.setBigUint64(o,p,J);const D=BigInt(32),he=BigInt(4294967295),se=Number(p>>D&he),le=Number(p&he),ne=J?4:0,F=J?0:4;e.setUint32(o+ne,se,J),e.setUint32(o+F,le,J)}let ki=class extends Nn{constructor(o,p,J,D){super(),this.blockLen=o,this.outputLen=p,this.padOffset=J,this.isLE=D,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(o),this.view=jr(this.buffer)}update(o){Cr(this);const{view:p,buffer:J,blockLen:D}=this;o=an(o);const he=o.length;for(let se=0;se<he;){const le=Math.min(D-this.pos,he-se);if(le===D){const ne=jr(o);for(;D<=he-se;se+=D)this.process(ne,se);continue}J.set(o.subarray(se,se+le),this.pos),this.pos+=le,se+=le,this.pos===D&&(this.process(p,0),this.pos=0)}return this.length+=o.length,this.roundClean(),this}digestInto(o){Cr(this),mi(o,this),this.finished=!0;const{buffer:p,view:J,blockLen:D,isLE:he}=this;let{pos:se}=this;p[se++]=128,this.buffer.subarray(se).fill(0),this.padOffset>D-se&&(this.process(J,0),se=0);for(let ge=se;ge<D;ge++)p[ge]=0;xi(J,D-8,BigInt(this.length*8),he),this.process(J,0);const le=jr(o),ne=this.outputLen;if(ne%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const F=ne/4,Se=this.get();if(F>Se.length)throw new Error("_sha2: outputLen bigger than state");for(let ge=0;ge<F;ge++)le.setUint32(4*ge,Se[ge],he)}digest(){const{buffer:o,outputLen:p}=this;this.digestInto(o);const J=o.slice(0,p);return this.destroy(),J}_cloneInto(o){o||(o=new this.constructor),o.set(...this.get());const{blockLen:p,buffer:J,length:D,finished:he,destroyed:se,pos:le}=this;return o.length=D,o.pos=le,o.finished=he,o.destroyed=se,D%p&&o.buffer.set(J),o}};const Ei=(e,o,p)=>e&o^~e&p,Ai=(e,o,p)=>e&o^e&p^o&p,Si=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),sr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),$r=new Uint32Array(64);let qi=class extends ki{constructor(){super(64,32,8,!1),this.A=sr[0]|0,this.B=sr[1]|0,this.C=sr[2]|0,this.D=sr[3]|0,this.E=sr[4]|0,this.F=sr[5]|0,this.G=sr[6]|0,this.H=sr[7]|0}get(){const{A:o,B:p,C:J,D,E:he,F:se,G:le,H:ne}=this;return[o,p,J,D,he,se,le,ne]}set(o,p,J,D,he,se,le,ne){this.A=o|0,this.B=p|0,this.C=J|0,this.D=D|0,this.E=he|0,this.F=se|0,this.G=le|0,this.H=ne|0}process(o,p){for(let ge=0;ge<16;ge++,p+=4)$r[ge]=o.getUint32(p,!1);for(let ge=16;ge<64;ge++){const qe=$r[ge-15],Pe=$r[ge-2],je=Ot(qe,7)^Ot(qe,18)^qe>>>3,ye=Ot(Pe,17)^Ot(Pe,19)^Pe>>>10;$r[ge]=ye+$r[ge-7]+je+$r[ge-16]|0}let{A:J,B:D,C:he,D:se,E:le,F:ne,G:F,H:Se}=this;for(let ge=0;ge<64;ge++){const qe=Ot(le,6)^Ot(le,11)^Ot(le,25),Pe=Se+qe+Ei(le,ne,F)+Si[ge]+$r[ge]|0,ye=(Ot(J,2)^Ot(J,13)^Ot(J,22))+Ai(J,D,he)|0;Se=F,F=ne,ne=le,le=se+Pe|0,se=he,he=D,D=J,J=Pe+ye|0}J=J+this.A|0,D=D+this.B|0,he=he+this.C|0,se=se+this.D|0,le=le+this.E|0,ne=ne+this.F|0,F=F+this.G|0,Se=Se+this.H|0,this.set(J,D,he,se,le,ne,F,Se)}roundClean(){$r.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const Jr=wi(()=>new qi);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Fn=BigInt(0),Nr=BigInt(1),Ci=BigInt(2),Lr=e=>e instanceof Uint8Array,Ri=Array.from({length:256},(e,o)=>o.toString(16).padStart(2,"0"));function vr(e){if(!Lr(e))throw new Error("Uint8Array expected");let o="";for(let p=0;p<e.length;p++)o+=Ri[e[p]];return o}function Bn(e){const o=e.toString(16);return o.length&1?`0${o}`:o}function ln(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}function br(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const o=e.length;if(o%2)throw new Error("padded hex string expected, got unpadded hex of length "+o);const p=new Uint8Array(o/2);for(let J=0;J<p.length;J++){const D=J*2,he=e.slice(D,D+2),se=Number.parseInt(he,16);if(Number.isNaN(se)||se<0)throw new Error("Invalid byte sequence");p[J]=se}return p}function Gt(e){return ln(vr(e))}function un(e){if(!Lr(e))throw new Error("Uint8Array expected");return ln(vr(Uint8Array.from(e).reverse()))}function lr(e,o){return br(e.toString(16).padStart(o*2,"0"))}function cn(e,o){return lr(e,o).reverse()}function Ii(e){return br(Bn(e))}function jt(e,o,p){let J;if(typeof o=="string")try{J=br(o)}catch(he){throw new Error(`${e} must be valid hex string, got "${o}". Cause: ${he}`)}else if(Lr(o))J=Uint8Array.from(o);else throw new Error(`${e} must be hex string or Uint8Array`);const D=J.length;if(typeof p=="number"&&D!==p)throw new Error(`${e} expected ${p} bytes, got ${D}`);return J}function hr(...e){const o=new Uint8Array(e.reduce((J,D)=>J+D.length,0));let p=0;return e.forEach(J=>{if(!Lr(J))throw new Error("Uint8Array expected");o.set(J,p),p+=J.length}),o}function Ti(e,o){if(e.length!==o.length)return!1;for(let p=0;p<e.length;p++)if(e[p]!==o[p])return!1;return!0}function zi(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Ni(e){let o;for(o=0;e>Fn;e>>=Nr,o+=1);return o}function Li(e,o){return e>>BigInt(o)&Nr}const Fi=(e,o,p)=>e|(p?Nr:Fn)<<BigInt(o),fn=e=>(Ci<<BigInt(e-1))-Nr,Kr=e=>new Uint8Array(e),bn=e=>Uint8Array.from(e);function Dn(e,o,p){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof o!="number"||o<2)throw new Error("qByteLen must be a number");if(typeof p!="function")throw new Error("hmacFn must be a function");let J=Kr(e),D=Kr(e),he=0;const se=()=>{J.fill(1),D.fill(0),he=0},le=(...ge)=>p(D,J,...ge),ne=(ge=Kr())=>{D=le(bn([0]),ge),J=le(),ge.length!==0&&(D=le(bn([1]),ge),J=le())},F=()=>{if(he++>=1e3)throw new Error("drbg: tried 1000 values");let ge=0;const qe=[];for(;ge<o;){J=le();const Pe=J.slice();qe.push(Pe),ge+=J.length}return hr(...qe)};return(ge,qe)=>{se(),ne(ge);let Pe;for(;!(Pe=qe(F()));)ne();return se(),Pe}}const Bi={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,o)=>o.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Ar(e,o,p={}){const J=(D,he,se)=>{const le=Bi[he];if(typeof le!="function")throw new Error(`Invalid validator "${he}", expected function`);const ne=e[D];if(!(se&&ne===void 0)&&!le(ne,e))throw new Error(`Invalid param ${String(D)}=${ne} (${typeof ne}), expected ${he}`)};for(const[D,he]of Object.entries(o))J(D,he,!1);for(const[D,he]of Object.entries(p))J(D,he,!0);return e}const Di=Object.freeze(Object.defineProperty({__proto__:null,bitGet:Li,bitLen:Ni,bitMask:fn,bitSet:Fi,bytesToHex:vr,bytesToNumberBE:Gt,bytesToNumberLE:un,concatBytes:hr,createHmacDrbg:Dn,ensureBytes:jt,equalBytes:Ti,hexToBytes:br,hexToNumber:ln,numberToBytesBE:lr,numberToBytesLE:cn,numberToHexUnpadded:Bn,numberToVarBytesBE:Ii,utf8ToBytes:zi,validateObject:Ar},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Pt=BigInt(0),Ft=BigInt(1),_r=BigInt(2),Mi=BigInt(3),Qr=BigInt(4),yn=BigInt(5),wn=BigInt(8);BigInt(9);BigInt(16);function Ut(e,o){const p=e%o;return p>=Pt?p:o+p}function Pi(e,o,p){if(p<=Pt||o<Pt)throw new Error("Expected power/modulo > 0");if(p===Ft)return Pt;let J=Ft;for(;o>Pt;)o&Ft&&(J=J*e%p),e=e*e%p,o>>=Ft;return J}function Xt(e,o,p){let J=e;for(;o-- >Pt;)J*=J,J%=p;return J}function Or(e,o){if(e===Pt||o<=Pt)throw new Error(`invert: expected positive integers, got n=${e} mod=${o}`);let p=Ut(e,o),J=o,D=Pt,he=Ft;for(;p!==Pt;){const le=J/p,ne=J%p,F=D-he*le;J=p,p=ne,D=he,he=F}if(J!==Ft)throw new Error("invert: does not exist");return Ut(D,o)}function Ui(e){const o=(e-Ft)/_r;let p,J,D;for(p=e-Ft,J=0;p%_r===Pt;p/=_r,J++);for(D=_r;D<e&&Pi(D,o,e)!==e-Ft;D++);if(J===1){const se=(e+Ft)/Qr;return function(ne,F){const Se=ne.pow(F,se);if(!ne.eql(ne.sqr(Se),F))throw new Error("Cannot find square root");return Se}}const he=(p+Ft)/_r;return function(le,ne){if(le.pow(ne,o)===le.neg(le.ONE))throw new Error("Cannot find square root");let F=J,Se=le.pow(le.mul(le.ONE,D),p),ge=le.pow(ne,he),qe=le.pow(ne,p);for(;!le.eql(qe,le.ONE);){if(le.eql(qe,le.ZERO))return le.ZERO;let Pe=1;for(let ye=le.sqr(qe);Pe<F&&!le.eql(ye,le.ONE);Pe++)ye=le.sqr(ye);const je=le.pow(Se,Ft<<BigInt(F-Pe-1));Se=le.sqr(je),ge=le.mul(ge,je),qe=le.mul(qe,Se),F=Pe}return ge}}function Hi(e){if(e%Qr===Mi){const o=(e+Ft)/Qr;return function(J,D){const he=J.pow(D,o);if(!J.eql(J.sqr(he),D))throw new Error("Cannot find square root");return he}}if(e%wn===yn){const o=(e-yn)/wn;return function(J,D){const he=J.mul(D,_r),se=J.pow(he,o),le=J.mul(D,se),ne=J.mul(J.mul(le,_r),se),F=J.mul(le,J.sub(ne,J.ONE));if(!J.eql(J.sqr(F),D))throw new Error("Cannot find square root");return F}}return Ui(e)}const ji=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Ki(e){const o={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},p=ji.reduce((J,D)=>(J[D]="function",J),o);return Ar(e,p)}function Yi(e,o,p){if(p<Pt)throw new Error("Expected power > 0");if(p===Pt)return e.ONE;if(p===Ft)return o;let J=e.ONE,D=o;for(;p>Pt;)p&Ft&&(J=e.mul(J,D)),D=e.sqr(D),p>>=Ft;return J}function Wi(e,o){const p=new Array(o.length),J=o.reduce((he,se,le)=>e.is0(se)?he:(p[le]=he,e.mul(he,se)),e.ONE),D=e.inv(J);return o.reduceRight((he,se,le)=>e.is0(se)?he:(p[le]=e.mul(he,p[le]),e.mul(he,se)),D),p}function Mn(e,o){const p=o!==void 0?o:e.toString(2).length,J=Math.ceil(p/8);return{nBitLength:p,nByteLength:J}}function Gi(e,o,p=!1,J={}){if(e<=Pt)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:D,nByteLength:he}=Mn(e,o);if(he>2048)throw new Error("Field lengths over 2048 bytes are not supported");const se=Hi(e),le=Object.freeze({ORDER:e,BITS:D,BYTES:he,MASK:fn(D),ZERO:Pt,ONE:Ft,create:ne=>Ut(ne,e),isValid:ne=>{if(typeof ne!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof ne}`);return Pt<=ne&&ne<e},is0:ne=>ne===Pt,isOdd:ne=>(ne&Ft)===Ft,neg:ne=>Ut(-ne,e),eql:(ne,F)=>ne===F,sqr:ne=>Ut(ne*ne,e),add:(ne,F)=>Ut(ne+F,e),sub:(ne,F)=>Ut(ne-F,e),mul:(ne,F)=>Ut(ne*F,e),pow:(ne,F)=>Yi(le,ne,F),div:(ne,F)=>Ut(ne*Or(F,e),e),sqrN:ne=>ne*ne,addN:(ne,F)=>ne+F,subN:(ne,F)=>ne-F,mulN:(ne,F)=>ne*F,inv:ne=>Or(ne,e),sqrt:J.sqrt||(ne=>se(le,ne)),invertBatch:ne=>Wi(le,ne),cmov:(ne,F,Se)=>Se?F:ne,toBytes:ne=>p?cn(ne,he):lr(ne,he),fromBytes:ne=>{if(ne.length!==he)throw new Error(`Fp.fromBytes: expected ${he}, got ${ne.length}`);return p?un(ne):Gt(ne)}});return Object.freeze(le)}function Pn(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const o=e.toString(2).length;return Math.ceil(o/8)}function Un(e){const o=Pn(e);return o+Math.ceil(o/2)}function Vi(e,o,p=!1){const J=e.length,D=Pn(o),he=Un(o);if(J<16||J<he||J>1024)throw new Error(`expected ${he}-1024 bytes of input, got ${J}`);const se=p?Gt(e):un(e),le=Ut(se,o-Ft)+Ft;return p?cn(le,D):lr(le,D)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Xi=BigInt(0),Yr=BigInt(1);function Zi(e,o){const p=(D,he)=>{const se=he.negate();return D?se:he},J=D=>{const he=Math.ceil(o/D)+1,se=2**(D-1);return{windows:he,windowSize:se}};return{constTimeNegate:p,unsafeLadder(D,he){let se=e.ZERO,le=D;for(;he>Xi;)he&Yr&&(se=se.add(le)),le=le.double(),he>>=Yr;return se},precomputeWindow(D,he){const{windows:se,windowSize:le}=J(he),ne=[];let F=D,Se=F;for(let ge=0;ge<se;ge++){Se=F,ne.push(Se);for(let qe=1;qe<le;qe++)Se=Se.add(F),ne.push(Se);F=Se.double()}return ne},wNAF(D,he,se){const{windows:le,windowSize:ne}=J(D);let F=e.ZERO,Se=e.BASE;const ge=BigInt(2**D-1),qe=2**D,Pe=BigInt(D);for(let je=0;je<le;je++){const ye=je*ne;let Q=Number(se&ge);se>>=Pe,Q>ne&&(Q-=qe,se+=Yr);const Ae=ye,We=ye+Math.abs(Q)-1,Fe=je%2!==0,ze=Q<0;Q===0?Se=Se.add(p(Fe,he[Ae])):F=F.add(p(ze,he[We]))}return{p:F,f:Se}},wNAFCached(D,he,se,le){const ne=D._WINDOW_SIZE||1;let F=he.get(D);return F||(F=this.precomputeWindow(D,ne),ne!==1&&he.set(D,le(F))),this.wNAF(ne,F,se)}}}function Hn(e){return Ki(e.Fp),Ar(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Mn(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Ji(e){const o=Hn(e);Ar(o,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:p,Fp:J,a:D}=o;if(p){if(!J.eql(D,J.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof p!="object"||typeof p.beta!="bigint"||typeof p.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...o})}const{bytesToNumberBE:Qi,hexToBytes:Oi}=Di,dr={Err:class extends Error{constructor(o=""){super(o)}},_parseInt(e){const{Err:o}=dr;if(e.length<2||e[0]!==2)throw new o("Invalid signature integer tag");const p=e[1],J=e.subarray(2,p+2);if(!p||J.length!==p)throw new o("Invalid signature integer: wrong length");if(J[0]&128)throw new o("Invalid signature integer: negative");if(J[0]===0&&!(J[1]&128))throw new o("Invalid signature integer: unnecessary leading zero");return{d:Qi(J),l:e.subarray(p+2)}},toSig(e){const{Err:o}=dr,p=typeof e=="string"?Oi(e):e;if(!(p instanceof Uint8Array))throw new Error("ui8a expected");let J=p.length;if(J<2||p[0]!=48)throw new o("Invalid signature tag");if(p[1]!==J-2)throw new o("Invalid signature: incorrect length");const{d:D,l:he}=dr._parseInt(p.subarray(2)),{d:se,l:le}=dr._parseInt(he);if(le.length)throw new o("Invalid signature: left bytes after parsing");return{r:D,s:se}},hexFromSig(e){const o=F=>Number.parseInt(F[0],16)&8?"00"+F:F,p=F=>{const Se=F.toString(16);return Se.length&1?`0${Se}`:Se},J=o(p(e.s)),D=o(p(e.r)),he=J.length/2,se=D.length/2,le=p(he),ne=p(se);return`30${p(se+he+4)}02${ne}${D}02${le}${J}`}},tr=BigInt(0),Zt=BigInt(1);BigInt(2);const xn=BigInt(3);BigInt(4);function es(e){const o=Ji(e),{Fp:p}=o,J=o.toBytes||((je,ye,Q)=>{const Ae=ye.toAffine();return hr(Uint8Array.from([4]),p.toBytes(Ae.x),p.toBytes(Ae.y))}),D=o.fromBytes||(je=>{const ye=je.subarray(1),Q=p.fromBytes(ye.subarray(0,p.BYTES)),Ae=p.fromBytes(ye.subarray(p.BYTES,2*p.BYTES));return{x:Q,y:Ae}});function he(je){const{a:ye,b:Q}=o,Ae=p.sqr(je),We=p.mul(Ae,je);return p.add(p.add(We,p.mul(je,ye)),Q)}if(!p.eql(p.sqr(o.Gy),he(o.Gx)))throw new Error("bad generator point: equation left != right");function se(je){return typeof je=="bigint"&&tr<je&&je<o.n}function le(je){if(!se(je))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function ne(je){const{allowedPrivateKeyLengths:ye,nByteLength:Q,wrapPrivateKey:Ae,n:We}=o;if(ye&&typeof je!="bigint"){if(je instanceof Uint8Array&&(je=vr(je)),typeof je!="string"||!ye.includes(je.length))throw new Error("Invalid key");je=je.padStart(Q*2,"0")}let Fe;try{Fe=typeof je=="bigint"?je:Gt(jt("private key",je,Q))}catch{throw new Error(`private key must be ${Q} bytes, hex or bigint, not ${typeof je}`)}return Ae&&(Fe=Ut(Fe,We)),le(Fe),Fe}const F=new Map;function Se(je){if(!(je instanceof ge))throw new Error("ProjectivePoint expected")}class ge{constructor(ye,Q,Ae){if(this.px=ye,this.py=Q,this.pz=Ae,ye==null||!p.isValid(ye))throw new Error("x required");if(Q==null||!p.isValid(Q))throw new Error("y required");if(Ae==null||!p.isValid(Ae))throw new Error("z required")}static fromAffine(ye){const{x:Q,y:Ae}=ye||{};if(!ye||!p.isValid(Q)||!p.isValid(Ae))throw new Error("invalid affine point");if(ye instanceof ge)throw new Error("projective point not allowed");const We=Fe=>p.eql(Fe,p.ZERO);return We(Q)&&We(Ae)?ge.ZERO:new ge(Q,Ae,p.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(ye){const Q=p.invertBatch(ye.map(Ae=>Ae.pz));return ye.map((Ae,We)=>Ae.toAffine(Q[We])).map(ge.fromAffine)}static fromHex(ye){const Q=ge.fromAffine(D(jt("pointHex",ye)));return Q.assertValidity(),Q}static fromPrivateKey(ye){return ge.BASE.multiply(ne(ye))}_setWindowSize(ye){this._WINDOW_SIZE=ye,F.delete(this)}assertValidity(){if(this.is0()){if(o.allowInfinityPoint&&!p.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:ye,y:Q}=this.toAffine();if(!p.isValid(ye)||!p.isValid(Q))throw new Error("bad point: x or y not FE");const Ae=p.sqr(Q),We=he(ye);if(!p.eql(Ae,We))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:ye}=this.toAffine();if(p.isOdd)return!p.isOdd(ye);throw new Error("Field doesn't support isOdd")}equals(ye){Se(ye);const{px:Q,py:Ae,pz:We}=this,{px:Fe,py:ze,pz:ce}=ye,be=p.eql(p.mul(Q,ce),p.mul(Fe,We)),ue=p.eql(p.mul(Ae,ce),p.mul(ze,We));return be&&ue}negate(){return new ge(this.px,p.neg(this.py),this.pz)}double(){const{a:ye,b:Q}=o,Ae=p.mul(Q,xn),{px:We,py:Fe,pz:ze}=this;let ce=p.ZERO,be=p.ZERO,ue=p.ZERO,Le=p.mul(We,We),ae=p.mul(Fe,Fe),xe=p.mul(ze,ze),ee=p.mul(We,Fe);return ee=p.add(ee,ee),ue=p.mul(We,ze),ue=p.add(ue,ue),ce=p.mul(ye,ue),be=p.mul(Ae,xe),be=p.add(ce,be),ce=p.sub(ae,be),be=p.add(ae,be),be=p.mul(ce,be),ce=p.mul(ee,ce),ue=p.mul(Ae,ue),xe=p.mul(ye,xe),ee=p.sub(Le,xe),ee=p.mul(ye,ee),ee=p.add(ee,ue),ue=p.add(Le,Le),Le=p.add(ue,Le),Le=p.add(Le,xe),Le=p.mul(Le,ee),be=p.add(be,Le),xe=p.mul(Fe,ze),xe=p.add(xe,xe),Le=p.mul(xe,ee),ce=p.sub(ce,Le),ue=p.mul(xe,ae),ue=p.add(ue,ue),ue=p.add(ue,ue),new ge(ce,be,ue)}add(ye){Se(ye);const{px:Q,py:Ae,pz:We}=this,{px:Fe,py:ze,pz:ce}=ye;let be=p.ZERO,ue=p.ZERO,Le=p.ZERO;const ae=o.a,xe=p.mul(o.b,xn);let ee=p.mul(Q,Fe),m=p.mul(Ae,ze),_e=p.mul(We,ce),z=p.add(Q,Ae),K=p.add(Fe,ze);z=p.mul(z,K),K=p.add(ee,m),z=p.sub(z,K),K=p.add(Q,We);let C=p.add(Fe,ce);return K=p.mul(K,C),C=p.add(ee,_e),K=p.sub(K,C),C=p.add(Ae,We),be=p.add(ze,ce),C=p.mul(C,be),be=p.add(m,_e),C=p.sub(C,be),Le=p.mul(ae,K),be=p.mul(xe,_e),Le=p.add(be,Le),be=p.sub(m,Le),Le=p.add(m,Le),ue=p.mul(be,Le),m=p.add(ee,ee),m=p.add(m,ee),_e=p.mul(ae,_e),K=p.mul(xe,K),m=p.add(m,_e),_e=p.sub(ee,_e),_e=p.mul(ae,_e),K=p.add(K,_e),ee=p.mul(m,K),ue=p.add(ue,ee),ee=p.mul(C,K),be=p.mul(z,be),be=p.sub(be,ee),ee=p.mul(z,m),Le=p.mul(C,Le),Le=p.add(Le,ee),new ge(be,ue,Le)}subtract(ye){return this.add(ye.negate())}is0(){return this.equals(ge.ZERO)}wNAF(ye){return Pe.wNAFCached(this,F,ye,Q=>{const Ae=p.invertBatch(Q.map(We=>We.pz));return Q.map((We,Fe)=>We.toAffine(Ae[Fe])).map(ge.fromAffine)})}multiplyUnsafe(ye){const Q=ge.ZERO;if(ye===tr)return Q;if(le(ye),ye===Zt)return this;const{endo:Ae}=o;if(!Ae)return Pe.unsafeLadder(this,ye);let{k1neg:We,k1:Fe,k2neg:ze,k2:ce}=Ae.splitScalar(ye),be=Q,ue=Q,Le=this;for(;Fe>tr||ce>tr;)Fe&Zt&&(be=be.add(Le)),ce&Zt&&(ue=ue.add(Le)),Le=Le.double(),Fe>>=Zt,ce>>=Zt;return We&&(be=be.negate()),ze&&(ue=ue.negate()),ue=new ge(p.mul(ue.px,Ae.beta),ue.py,ue.pz),be.add(ue)}multiply(ye){le(ye);let Q=ye,Ae,We;const{endo:Fe}=o;if(Fe){const{k1neg:ze,k1:ce,k2neg:be,k2:ue}=Fe.splitScalar(Q);let{p:Le,f:ae}=this.wNAF(ce),{p:xe,f:ee}=this.wNAF(ue);Le=Pe.constTimeNegate(ze,Le),xe=Pe.constTimeNegate(be,xe),xe=new ge(p.mul(xe.px,Fe.beta),xe.py,xe.pz),Ae=Le.add(xe),We=ae.add(ee)}else{const{p:ze,f:ce}=this.wNAF(Q);Ae=ze,We=ce}return ge.normalizeZ([Ae,We])[0]}multiplyAndAddUnsafe(ye,Q,Ae){const We=ge.BASE,Fe=(ce,be)=>be===tr||be===Zt||!ce.equals(We)?ce.multiplyUnsafe(be):ce.multiply(be),ze=Fe(this,Q).add(Fe(ye,Ae));return ze.is0()?void 0:ze}toAffine(ye){const{px:Q,py:Ae,pz:We}=this,Fe=this.is0();ye==null&&(ye=Fe?p.ONE:p.inv(We));const ze=p.mul(Q,ye),ce=p.mul(Ae,ye),be=p.mul(We,ye);if(Fe)return{x:p.ZERO,y:p.ZERO};if(!p.eql(be,p.ONE))throw new Error("invZ was invalid");return{x:ze,y:ce}}isTorsionFree(){const{h:ye,isTorsionFree:Q}=o;if(ye===Zt)return!0;if(Q)return Q(ge,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:ye,clearCofactor:Q}=o;return ye===Zt?this:Q?Q(ge,this):this.multiplyUnsafe(o.h)}toRawBytes(ye=!0){return this.assertValidity(),J(ge,this,ye)}toHex(ye=!0){return vr(this.toRawBytes(ye))}}ge.BASE=new ge(o.Gx,o.Gy,p.ONE),ge.ZERO=new ge(p.ZERO,p.ONE,p.ZERO);const qe=o.nBitLength,Pe=Zi(ge,o.endo?Math.ceil(qe/2):qe);return{CURVE:o,ProjectivePoint:ge,normPrivateKeyToScalar:ne,weierstrassEquation:he,isWithinCurveOrder:se}}function ts(e){const o=Hn(e);return Ar(o,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...o})}function rs(e){const o=ts(e),{Fp:p,n:J}=o,D=p.BYTES+1,he=2*p.BYTES+1;function se(K){return tr<K&&K<p.ORDER}function le(K){return Ut(K,J)}function ne(K){return Or(K,J)}const{ProjectivePoint:F,normPrivateKeyToScalar:Se,weierstrassEquation:ge,isWithinCurveOrder:qe}=es({...o,toBytes(K,C,Te){const ie=C.toAffine(),M=p.toBytes(ie.x),d=hr;return Te?d(Uint8Array.from([C.hasEvenY()?2:3]),M):d(Uint8Array.from([4]),M,p.toBytes(ie.y))},fromBytes(K){const C=K.length,Te=K[0],ie=K.subarray(1);if(C===D&&(Te===2||Te===3)){const M=Gt(ie);if(!se(M))throw new Error("Point is not on curve");const d=ge(M);let s=p.sqrt(d);const n=(s&Zt)===Zt;return(Te&1)===1!==n&&(s=p.neg(s)),{x:M,y:s}}else if(C===he&&Te===4){const M=p.fromBytes(ie.subarray(0,p.BYTES)),d=p.fromBytes(ie.subarray(p.BYTES,2*p.BYTES));return{x:M,y:d}}else throw new Error(`Point of length ${C} was invalid. Expected ${D} compressed bytes or ${he} uncompressed bytes`)}}),Pe=K=>vr(lr(K,o.nByteLength));function je(K){const C=J>>Zt;return K>C}function ye(K){return je(K)?le(-K):K}const Q=(K,C,Te)=>Gt(K.slice(C,Te));class Ae{constructor(C,Te,ie){this.r=C,this.s=Te,this.recovery=ie,this.assertValidity()}static fromCompact(C){const Te=o.nByteLength;return C=jt("compactSignature",C,Te*2),new Ae(Q(C,0,Te),Q(C,Te,2*Te))}static fromDER(C){const{r:Te,s:ie}=dr.toSig(jt("DER",C));return new Ae(Te,ie)}assertValidity(){if(!qe(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!qe(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(C){return new Ae(this.r,this.s,C)}recoverPublicKey(C){const{r:Te,s:ie,recovery:M}=this,d=ue(jt("msgHash",C));if(M==null||![0,1,2,3].includes(M))throw new Error("recovery id invalid");const s=M===2||M===3?Te+o.n:Te;if(s>=p.ORDER)throw new Error("recovery id 2 or 3 invalid");const n=M&1?"03":"02",i=F.fromHex(n+Pe(s)),$=ne(s),a=le(-d*$),b=le(ie*$),w=F.BASE.multiplyAndAddUnsafe(i,a,b);if(!w)throw new Error("point at infinify");return w.assertValidity(),w}hasHighS(){return je(this.s)}normalizeS(){return this.hasHighS()?new Ae(this.r,le(-this.s),this.recovery):this}toDERRawBytes(){return br(this.toDERHex())}toDERHex(){return dr.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return br(this.toCompactHex())}toCompactHex(){return Pe(this.r)+Pe(this.s)}}const We={isValidPrivateKey(K){try{return Se(K),!0}catch{return!1}},normPrivateKeyToScalar:Se,randomPrivateKey:()=>{const K=Un(o.n);return Vi(o.randomBytes(K),o.n)},precompute(K=8,C=F.BASE){return C._setWindowSize(K),C.multiply(BigInt(3)),C}};function Fe(K,C=!0){return F.fromPrivateKey(K).toRawBytes(C)}function ze(K){const C=K instanceof Uint8Array,Te=typeof K=="string",ie=(C||Te)&&K.length;return C?ie===D||ie===he:Te?ie===2*D||ie===2*he:K instanceof F}function ce(K,C,Te=!0){if(ze(K))throw new Error("first arg must be private key");if(!ze(C))throw new Error("second arg must be public key");return F.fromHex(C).multiply(Se(K)).toRawBytes(Te)}const be=o.bits2int||function(K){const C=Gt(K),Te=K.length*8-o.nBitLength;return Te>0?C>>BigInt(Te):C},ue=o.bits2int_modN||function(K){return le(be(K))},Le=fn(o.nBitLength);function ae(K){if(typeof K!="bigint")throw new Error("bigint expected");if(!(tr<=K&&K<Le))throw new Error(`bigint expected < 2^${o.nBitLength}`);return lr(K,o.nByteLength)}function xe(K,C,Te=ee){if(["recovered","canonical"].some(Ce=>Ce in Te))throw new Error("sign() legacy options not supported");const{hash:ie,randomBytes:M}=o;let{lowS:d,prehash:s,extraEntropy:n}=Te;d==null&&(d=!0),K=jt("msgHash",K),s&&(K=jt("prehashed msgHash",ie(K)));const i=ue(K),$=Se(C),a=[ae($),ae(i)];if(n!=null){const Ce=n===!0?M(p.BYTES):n;a.push(jt("extraEntropy",Ce))}const b=hr(...a),w=i;function Y(Ce){const Oe=be(Ce);if(!qe(Oe))return;const ot=ne(Oe),lt=F.BASE.multiply(Oe).toAffine(),gt=le(lt.x);if(gt===tr)return;const _t=le(ot*le(w+gt*$));if(_t===tr)return;let mt=(lt.x===gt?0:2)|Number(lt.y&Zt),dt=_t;return d&&je(_t)&&(dt=ye(_t),mt^=1),new Ae(gt,dt,mt)}return{seed:b,k2sig:Y}}const ee={lowS:o.lowS,prehash:!1},m={lowS:o.lowS,prehash:!1};function _e(K,C,Te=ee){const{seed:ie,k2sig:M}=xe(K,C,Te),d=o;return Dn(d.hash.outputLen,d.nByteLength,d.hmac)(ie,M)}F.BASE._setWindowSize(8);function z(K,C,Te,ie=m){var lt;const M=K;if(C=jt("msgHash",C),Te=jt("publicKey",Te),"strict"in ie)throw new Error("options.strict was renamed to lowS");const{lowS:d,prehash:s}=ie;let n,i;try{if(typeof M=="string"||M instanceof Uint8Array)try{n=Ae.fromDER(M)}catch(gt){if(!(gt instanceof dr.Err))throw gt;n=Ae.fromCompact(M)}else if(typeof M=="object"&&typeof M.r=="bigint"&&typeof M.s=="bigint"){const{r:gt,s:_t}=M;n=new Ae(gt,_t)}else throw new Error("PARSE");i=F.fromHex(Te)}catch(gt){if(gt.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(d&&n.hasHighS())return!1;s&&(C=o.hash(C));const{r:$,s:a}=n,b=ue(C),w=ne(a),Y=le(b*w),Ce=le($*w),Oe=(lt=F.BASE.multiplyAndAddUnsafe(i,Y,Ce))==null?void 0:lt.toAffine();return Oe?le(Oe.x)===$:!1}return{CURVE:o,getPublicKey:Fe,getSharedSecret:ce,sign:_e,verify:z,ProjectivePoint:F,Signature:Ae,utils:We}}class jn extends Nn{constructor(o,p){super(),this.finished=!1,this.destroyed=!1,gi(o);const J=an(p);if(this.iHash=o.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const D=this.blockLen,he=new Uint8Array(D);he.set(J.length>D?o.create().update(J).digest():J);for(let se=0;se<he.length;se++)he[se]^=54;this.iHash.update(he),this.oHash=o.create();for(let se=0;se<he.length;se++)he[se]^=106;this.oHash.update(he),he.fill(0)}update(o){return Cr(this),this.iHash.update(o),this}digestInto(o){Cr(this),Tn(o,this.outputLen),this.finished=!0,this.iHash.digestInto(o),this.oHash.update(o),this.oHash.digestInto(o),this.destroy()}digest(){const o=new Uint8Array(this.oHash.outputLen);return this.digestInto(o),o}_cloneInto(o){o||(o=Object.create(Object.getPrototypeOf(this),{}));const{oHash:p,iHash:J,finished:D,destroyed:he,blockLen:se,outputLen:le}=this;return o=o,o.finished=D,o.destroyed=he,o.blockLen=se,o.outputLen=le,o.oHash=p._cloneInto(o.oHash),o.iHash=J._cloneInto(o.iHash),o}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Kn=(e,o,p)=>new jn(e,o).update(p).digest();Kn.create=(e,o)=>new jn(e,o);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ns(e){return{hash:e,hmac:(o,...p)=>Kn(e,o,yi(...p)),randomBytes:Ln}}function is(e,o){const p=J=>rs({...e,...ns(J)});return Object.freeze({...p(o),create:p})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Fr=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Rr=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Yn=BigInt(1),Ir=BigInt(2),kn=(e,o)=>(e+o/Ir)/o;function Wn(e){const o=Fr,p=BigInt(3),J=BigInt(6),D=BigInt(11),he=BigInt(22),se=BigInt(23),le=BigInt(44),ne=BigInt(88),F=e*e*e%o,Se=F*F*e%o,ge=Xt(Se,p,o)*Se%o,qe=Xt(ge,p,o)*Se%o,Pe=Xt(qe,Ir,o)*F%o,je=Xt(Pe,D,o)*Pe%o,ye=Xt(je,he,o)*je%o,Q=Xt(ye,le,o)*ye%o,Ae=Xt(Q,ne,o)*Q%o,We=Xt(Ae,le,o)*ye%o,Fe=Xt(We,p,o)*Se%o,ze=Xt(Fe,se,o)*je%o,ce=Xt(ze,J,o)*F%o,be=Xt(ce,Ir,o);if(!en.eql(en.sqr(be),e))throw new Error("Cannot find square root");return be}const en=Gi(Fr,void 0,void 0,{sqrt:Wn}),_n=is({a:BigInt(0),b:BigInt(7),Fp:en,n:Rr,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const o=Rr,p=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),J=-Yn*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),D=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),he=p,se=BigInt("0x100000000000000000000000000000000"),le=kn(he*e,o),ne=kn(-J*e,o);let F=Ut(e-le*p-ne*D,o),Se=Ut(-le*J-ne*he,o);const ge=F>se,qe=Se>se;if(ge&&(F=o-F),qe&&(Se=o-Se),F>se||Se>se)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:ge,k1:F,k2neg:qe,k2:Se}}}},Jr),Br=BigInt(0),Gn=e=>typeof e=="bigint"&&Br<e&&e<Fr,ss=e=>typeof e=="bigint"&&Br<e&&e<Rr,En={};function Tr(e,...o){let p=En[e];if(p===void 0){const J=Jr(Uint8Array.from(e,D=>D.charCodeAt(0)));p=hr(J,J),En[e]=p}return Jr(hr(p,...o))}const dn=e=>e.toRawBytes(!0).slice(1),tn=e=>lr(e,32),Wr=e=>Ut(e,Fr),Er=e=>Ut(e,Rr),hn=_n.ProjectivePoint,$s=(e,o,p)=>hn.BASE.multiplyAndAddUnsafe(e,o,p);function rn(e){let o=_n.utils.normPrivateKeyToScalar(e),p=hn.fromPrivateKey(o);return{scalar:p.hasEvenY()?o:Er(-o),bytes:dn(p)}}function Vn(e){if(!Gn(e))throw new Error("bad x: need 0 < x < p");const o=Wr(e*e),p=Wr(o*e+BigInt(7));let J=Wn(p);J%Ir!==Br&&(J=Wr(-J));const D=new hn(e,J,Yn);return D.assertValidity(),D}function Xn(...e){return Er(Gt(Tr("BIP0340/challenge",...e)))}function os(e){return rn(e).bytes}function as(e,o,p=Ln(32)){const J=jt("message",e),{bytes:D,scalar:he}=rn(o),se=jt("auxRand",p,32),le=tn(he^Gt(Tr("BIP0340/aux",se))),ne=Tr("BIP0340/nonce",le,D,J),F=Er(Gt(ne));if(F===Br)throw new Error("sign failed: k is zero");const{bytes:Se,scalar:ge}=rn(F),qe=Xn(Se,D,J),Pe=new Uint8Array(64);if(Pe.set(Se,0),Pe.set(tn(Er(ge+qe*he)),32),!Zn(Pe,J,D))throw new Error("sign: Invalid signature produced");return Pe}function Zn(e,o,p){const J=jt("signature",e,64),D=jt("message",o),he=jt("publicKey",p,32);try{const se=Vn(Gt(he)),le=Gt(J.subarray(0,32));if(!Gn(le))return!1;const ne=Gt(J.subarray(32,64));if(!ss(ne))return!1;const F=Xn(tn(le),dn(se),D),Se=$s(se,ne,Er(-F));return!(!Se||!Se.hasEvenY()||Se.toAffine().x!==le)}catch{return!1}}const wr={getPublicKey:os,sign:as,verify:Zn,utils:{randomPrivateKey:_n.utils.randomPrivateKey,lift_x:Vn,pointToBytes:dn,numberToBytesBE:lr,bytesToNumberBE:Gt,taggedHash:Tr,mod:Ut}};/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Jn=e=>e instanceof Uint8Array,Gr=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),er=(e,o)=>e<<32-o|e>>>o,ls=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!ls)throw new Error("Non little-endian hardware is not supported");const us=Array.from({length:256},(e,o)=>o.toString(16).padStart(2,"0"));function Qt(e){if(!Jn(e))throw new Error("Uint8Array expected");let o="";for(let p=0;p<e.length;p++)o+=us[e[p]];return o}function cs(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Qn(e){if(typeof e=="string"&&(e=cs(e)),!Jn(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}class fs{clone(){return this._cloneInto()}}function On(e){const o=J=>e().update(Qn(J)).digest(),p=e();return o.outputLen=p.outputLen,o.blockLen=p.blockLen,o.create=()=>e(),o}function nn(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function _s(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}function ei(e,...o){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(o.length>0&&!o.includes(e.length))throw new Error(`Expected Uint8Array of length ${o}, not of length=${e.length}`)}function ds(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");nn(e.outputLen),nn(e.blockLen)}function hs(e,o=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(o&&e.finished)throw new Error("Hash#digest() has already been called")}function ps(e,o){ei(e);const p=o.outputLen;if(e.length<p)throw new Error(`digestInto() expects output buffer of length at least ${p}`)}const Vr={number:nn,bool:_s,bytes:ei,hash:ds,exists:hs,output:ps};function gs(e,o,p,J){if(typeof e.setBigUint64=="function")return e.setBigUint64(o,p,J);const D=BigInt(32),he=BigInt(4294967295),se=Number(p>>D&he),le=Number(p&he),ne=J?4:0,F=J?0:4;e.setUint32(o+ne,se,J),e.setUint32(o+F,le,J)}class ms extends fs{constructor(o,p,J,D){super(),this.blockLen=o,this.outputLen=p,this.padOffset=J,this.isLE=D,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(o),this.view=Gr(this.buffer)}update(o){Vr.exists(this);const{view:p,buffer:J,blockLen:D}=this;o=Qn(o);const he=o.length;for(let se=0;se<he;){const le=Math.min(D-this.pos,he-se);if(le===D){const ne=Gr(o);for(;D<=he-se;se+=D)this.process(ne,se);continue}J.set(o.subarray(se,se+le),this.pos),this.pos+=le,se+=le,this.pos===D&&(this.process(p,0),this.pos=0)}return this.length+=o.length,this.roundClean(),this}digestInto(o){Vr.exists(this),Vr.output(o,this),this.finished=!0;const{buffer:p,view:J,blockLen:D,isLE:he}=this;let{pos:se}=this;p[se++]=128,this.buffer.subarray(se).fill(0),this.padOffset>D-se&&(this.process(J,0),se=0);for(let ge=se;ge<D;ge++)p[ge]=0;gs(J,D-8,BigInt(this.length*8),he),this.process(J,0);const le=Gr(o),ne=this.outputLen;if(ne%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const F=ne/4,Se=this.get();if(F>Se.length)throw new Error("_sha2: outputLen bigger than state");for(let ge=0;ge<F;ge++)le.setUint32(4*ge,Se[ge],he)}digest(){const{buffer:o,outputLen:p}=this;this.digestInto(o);const J=o.slice(0,p);return this.destroy(),J}_cloneInto(o){o||(o=new this.constructor),o.set(...this.get());const{blockLen:p,buffer:J,length:D,finished:he,destroyed:se,pos:le}=this;return o.length=D,o.pos=le,o.finished=he,o.destroyed=se,D%p&&o.buffer.set(J),o}}const vs=(e,o,p)=>e&o^~e&p,bs=(e,o,p)=>e&o^e&p^o&p,ys=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),or=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ar=new Uint32Array(64);class ti extends ms{constructor(){super(64,32,8,!1),this.A=or[0]|0,this.B=or[1]|0,this.C=or[2]|0,this.D=or[3]|0,this.E=or[4]|0,this.F=or[5]|0,this.G=or[6]|0,this.H=or[7]|0}get(){const{A:o,B:p,C:J,D,E:he,F:se,G:le,H:ne}=this;return[o,p,J,D,he,se,le,ne]}set(o,p,J,D,he,se,le,ne){this.A=o|0,this.B=p|0,this.C=J|0,this.D=D|0,this.E=he|0,this.F=se|0,this.G=le|0,this.H=ne|0}process(o,p){for(let ge=0;ge<16;ge++,p+=4)ar[ge]=o.getUint32(p,!1);for(let ge=16;ge<64;ge++){const qe=ar[ge-15],Pe=ar[ge-2],je=er(qe,7)^er(qe,18)^qe>>>3,ye=er(Pe,17)^er(Pe,19)^Pe>>>10;ar[ge]=ye+ar[ge-7]+je+ar[ge-16]|0}let{A:J,B:D,C:he,D:se,E:le,F:ne,G:F,H:Se}=this;for(let ge=0;ge<64;ge++){const qe=er(le,6)^er(le,11)^er(le,25),Pe=Se+qe+vs(le,ne,F)+ys[ge]+ar[ge]|0,ye=(er(J,2)^er(J,13)^er(J,22))+bs(J,D,he)|0;Se=F,F=ne,ne=le,le=se+Pe|0,se=he,he=D,D=J,J=Pe+ye|0}J=J+this.A|0,D=D+this.B|0,he=he+this.C|0,se=se+this.D|0,le=le+this.E|0,ne=ne+this.F|0,F=F+this.G|0,Se=Se+this.H|0,this.set(J,D,he,se,le,ne,F,Se)}roundClean(){ar.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class ws extends ti{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const xs=On(()=>new ti);On(()=>new ws);var fr=Symbol("verified"),ks=e=>e instanceof Object;function Es(e){if(!ks(e)||typeof e.kind!="number"||typeof e.content!="string"||typeof e.created_at!="number"||typeof e.pubkey!="string"||!e.pubkey.match(/^[a-f0-9]{64}$/)||!Array.isArray(e.tags))return!1;for(let o=0;o<e.tags.length;o++){let p=e.tags[o];if(!Array.isArray(p))return!1;for(let J=0;J<p.length;J++)if(typeof p[J]=="object")return!1}return!0}new TextDecoder("utf-8");var As=new TextEncoder;function kr(e){e.indexOf("://")===-1&&(e="wss://"+e);let o=new URL(e);return o.pathname=o.pathname.replace(/\/+/g,"/"),o.pathname.endsWith("/")&&(o.pathname=o.pathname.slice(0,-1)),(o.port==="80"&&o.protocol==="ws:"||o.port==="443"&&o.protocol==="wss:")&&(o.port=""),o.searchParams.sort(),o.hash="",o.toString()}var Ss=class{constructor(e){St(this,"value");St(this,"next",null);St(this,"prev",null);this.value=e}},qs=class{constructor(){St(this,"first");St(this,"last");this.first=null,this.last=null}enqueue(e){const o=new Ss(e);return this.last?this.last===this.first?(this.last=o,this.last.prev=this.first,this.first.next=o):(o.prev=this.last,this.last.next=o,this.last=o):(this.first=o,this.last=o),!0}dequeue(){if(!this.first)return null;if(this.first===this.last){const o=this.first;return this.first=null,this.last=null,o.value}const e=this.first;return this.first=e.next,e.value}},Cs=class{generateSecretKey(){return wr.utils.randomPrivateKey()}getPublicKey(e){return Qt(wr.getPublicKey(e))}finalizeEvent(e,o){const p=e;return p.pubkey=Qt(wr.getPublicKey(o)),p.id=Xr(p),p.sig=Qt(wr.sign(Xr(p),o)),p[fr]=!0,p}verifyEvent(e){if(typeof e[fr]=="boolean")return e[fr];const o=Xr(e);if(o!==e.id)return e[fr]=!1,!1;try{const p=wr.verify(e.sig,o,e.pubkey);return e[fr]=p,p}catch{return e[fr]=!1,!1}}};function Rs(e){if(!Es(e))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}function Xr(e){let o=xs(As.encode(Rs(e)));return Qt(o)}var Dr=new Cs;Dr.generateSecretKey;Dr.getPublicKey;Dr.finalizeEvent;var Is=Dr.verifyEvent,Ts=22242;function zs(e,o){if(e.ids&&e.ids.indexOf(o.id)===-1||e.kinds&&e.kinds.indexOf(o.kind)===-1||e.authors&&e.authors.indexOf(o.pubkey)===-1)return!1;for(let p in e)if(p[0]==="#"){let J=p.slice(1),D=e[`#${J}`];if(D&&!o.tags.find(([he,se])=>he===p.slice(1)&&D.indexOf(se)!==-1))return!1}return!(e.since&&o.created_at<e.since||e.until&&o.created_at>e.until)}function Ns(e,o){for(let p=0;p<e.length;p++)if(zs(e[p],o))return!0;return!1}function Ls(e,o){let p=o.length+3,J=e.indexOf(`"${o}":`)+p,D=e.slice(J).indexOf('"')+J+1;return e.slice(D,D+64)}function Fs(e){let o=e.slice(0,22).indexOf('"EVENT"');if(o===-1)return null;let p=e.slice(o+7+1).indexOf('"');if(p===-1)return null;let J=o+7+1+p,D=e.slice(J+1,80).indexOf('"');if(D===-1)return null;let he=J+1+D;return e.slice(J+1,he)}function Bs(e,o){return{kind:Ts,created_at:Math.floor(Date.now()/1e3),tags:[["relay",e],["challenge",o]],content:""}}async function Ds(){return new Promise(e=>{const o=new MessageChannel,p=()=>{o.port1.removeEventListener("message",p),e()};o.port1.addEventListener("message",p),o.port2.postMessage(0),o.port1.start()})}var Ms=e=>(e[fr]=!0,!0),ri=class{constructor(e,o){St(this,"url");St(this,"_connected",!1);St(this,"onclose",null);St(this,"onnotice",e=>console.debug(`NOTICE from ${this.url}: ${e}`));St(this,"_onauth",null);St(this,"baseEoseTimeout",4400);St(this,"connectionTimeout",4400);St(this,"publishTimeout",4400);St(this,"openSubs",new Map);St(this,"connectionTimeoutHandle");St(this,"connectionPromise");St(this,"openCountRequests",new Map);St(this,"openEventPublishes",new Map);St(this,"ws");St(this,"incomingMessageQueue",new qs);St(this,"queueRunning",!1);St(this,"challenge");St(this,"serial",0);St(this,"verifyEvent");St(this,"_WebSocket");this.url=kr(e),this.verifyEvent=o.verifyEvent,this._WebSocket=o.websocketImplementation||WebSocket}static async connect(e,o){const p=new ri(e,o);return await p.connect(),p}closeAllSubscriptions(e){for(let[o,p]of this.openSubs)p.close(e);this.openSubs.clear();for(let[o,p]of this.openEventPublishes)p.reject(new Error(e));this.openEventPublishes.clear();for(let[o,p]of this.openCountRequests)p.reject(new Error(e));this.openCountRequests.clear()}get connected(){return this._connected}async connect(){return this.connectionPromise?this.connectionPromise:(this.challenge=void 0,this.connectionPromise=new Promise((e,o)=>{this.connectionTimeoutHandle=setTimeout(()=>{var p;o("connection timed out"),this.connectionPromise=void 0,(p=this.onclose)==null||p.call(this),this.closeAllSubscriptions("relay connection timed out")},this.connectionTimeout);try{this.ws=new this._WebSocket(this.url)}catch(p){o(p);return}this.ws.onopen=()=>{clearTimeout(this.connectionTimeoutHandle),this._connected=!0,e()},this.ws.onerror=p=>{var J;o(p.message||"websocket error"),this._connected&&(this._connected=!1,this.connectionPromise=void 0,(J=this.onclose)==null||J.call(this),this.closeAllSubscriptions("relay connection errored"))},this.ws.onclose=async()=>{var p;this._connected&&(this._connected=!1,this.connectionPromise=void 0,(p=this.onclose)==null||p.call(this),this.closeAllSubscriptions("relay connection closed"))},this.ws.onmessage=this._onmessage.bind(this)}),this.connectionPromise)}async runQueue(){for(this.queueRunning=!0;this.handleNext()!==!1;)await Ds();this.queueRunning=!1}handleNext(){var p,J,D;const e=this.incomingMessageQueue.dequeue();if(!e)return!1;const o=Fs(e);if(o){const he=this.openSubs.get(o);if(!he)return;const se=Ls(e,"id"),le=(p=he.alreadyHaveEvent)==null?void 0:p.call(he,se);if((J=he.receivedEvent)==null||J.call(he,this,se),le)return}try{let he=JSON.parse(e);switch(he[0]){case"EVENT":{const se=this.openSubs.get(he[1]),le=he[2];this.verifyEvent(le)&&Ns(se.filters,le)&&se.onevent(le);return}case"COUNT":{const se=he[1],le=he[2],ne=this.openCountRequests.get(se);ne&&(ne.resolve(le.count),this.openCountRequests.delete(se));return}case"EOSE":{const se=this.openSubs.get(he[1]);if(!se)return;se.receivedEose();return}case"OK":{const se=he[1],le=he[2],ne=he[3],F=this.openEventPublishes.get(se);F&&(le?F.resolve(ne):F.reject(new Error(ne)),this.openEventPublishes.delete(se));return}case"CLOSED":{const se=he[1],le=this.openSubs.get(se);if(!le)return;le.closed=!0,le.close(he[2]);return}case"NOTICE":this.onnotice(he[1]);return;case"AUTH":{this.challenge=he[1],(D=this._onauth)==null||D.call(this,he[1]);return}}}catch{return}}async send(e){if(!this.connectionPromise)throw new Error("sending on closed connection");this.connectionPromise.then(()=>{var o;(o=this.ws)==null||o.send(e)})}async auth(e){if(!this.challenge)throw new Error("can't perform auth, no challenge was received");const o=await e(Bs(this.url,this.challenge)),p=new Promise((J,D)=>{this.openEventPublishes.set(o.id,{resolve:J,reject:D})});return this.send('["AUTH",'+JSON.stringify(o)+"]"),p}async publish(e){const o=new Promise((p,J)=>{this.openEventPublishes.set(e.id,{resolve:p,reject:J})});return this.send('["EVENT",'+JSON.stringify(e)+"]"),setTimeout(()=>{const p=this.openEventPublishes.get(e.id);p&&(p.reject(new Error("publish timed out")),this.openEventPublishes.delete(e.id))},this.publishTimeout),o}async count(e,o){this.serial++;const p=(o==null?void 0:o.id)||"count:"+this.serial,J=new Promise((D,he)=>{this.openCountRequests.set(p,{resolve:D,reject:he})});return this.send('["COUNT","'+p+'",'+JSON.stringify(e).substring(1)),J}subscribe(e,o){const p=this.prepareSubscription(e,o);return p.fire(),p}prepareSubscription(e,o){this.serial++;const p=o.id||"sub:"+this.serial,J=new Ps(this,p,e,o);return this.openSubs.set(p,J),J}close(){var e;this.closeAllSubscriptions("relay connection closed by us"),this._connected=!1,(e=this.ws)==null||e.close()}_onmessage(e){this.incomingMessageQueue.enqueue(e.data),this.queueRunning||this.runQueue()}},Ps=class{constructor(e,o,p,J){St(this,"relay");St(this,"id");St(this,"closed",!1);St(this,"eosed",!1);St(this,"filters");St(this,"alreadyHaveEvent");St(this,"receivedEvent");St(this,"onevent");St(this,"oneose");St(this,"onclose");St(this,"eoseTimeout");St(this,"eoseTimeoutHandle");this.relay=e,this.filters=p,this.id=o,this.alreadyHaveEvent=J.alreadyHaveEvent,this.receivedEvent=J.receivedEvent,this.eoseTimeout=J.eoseTimeout||e.baseEoseTimeout,this.oneose=J.oneose,this.onclose=J.onclose,this.onevent=J.onevent||(D=>{console.warn(`onevent() callback not defined for subscription '${this.id}' in relay ${this.relay.url}. event received:`,D)})}fire(){this.relay.send('["REQ","'+this.id+'",'+JSON.stringify(this.filters).substring(1)),this.eoseTimeoutHandle=setTimeout(this.receivedEose.bind(this),this.eoseTimeout)}receivedEose(){var e;this.eosed||(clearTimeout(this.eoseTimeoutHandle),this.eosed=!0,(e=this.oneose)==null||e.call(this))}close(e="closed by caller"){var o;!this.closed&&this.relay.connected&&(this.relay.send('["CLOSE",'+JSON.stringify(this.id)+"]"),this.closed=!0),this.relay.openSubs.delete(this.id),(o=this.onclose)==null||o.call(this,e)}},Us=class{constructor(e){St(this,"relays",new Map);St(this,"seenOn",new Map);St(this,"trackRelays",!1);St(this,"verifyEvent");St(this,"trustedRelayURLs",new Set);St(this,"_WebSocket");this.verifyEvent=e.verifyEvent,this._WebSocket=e.websocketImplementation}async ensureRelay(e,o){e=kr(e);let p=this.relays.get(e);return p||(p=new ri(e,{verifyEvent:this.trustedRelayURLs.has(e)?Ms:this.verifyEvent,websocketImplementation:this._WebSocket}),o!=null&&o.connectionTimeout&&(p.connectionTimeout=o.connectionTimeout),this.relays.set(e,p)),await p.connect(),p}close(e){e.map(kr).forEach(o=>{var p;(p=this.relays.get(o))==null||p.close()})}subscribeMany(e,o,p){return this.subscribeManyMap(Object.fromEntries(e.map(J=>[J,o])),p)}subscribeManyMap(e,o){this.trackRelays&&(o.receivedEvent=(ge,qe)=>{let Pe=this.seenOn.get(qe);Pe||(Pe=new Set,this.seenOn.set(qe,Pe)),Pe.add(ge)});const p=new Set,J=[],D=Object.keys(e).length,he=[];let se=ge=>{var qe;he[ge]=!0,he.filter(Pe=>Pe).length===D&&((qe=o.oneose)==null||qe.call(o),se=()=>{})};const le=[];let ne=(ge,qe)=>{var Pe;se(ge),le[ge]=qe,le.filter(je=>je).length===D&&((Pe=o.onclose)==null||Pe.call(o,le),ne=()=>{})};const F=ge=>{var Pe;if((Pe=o.alreadyHaveEvent)!=null&&Pe.call(o,ge))return!0;const qe=p.has(ge);return p.add(ge),qe},Se=Promise.all(Object.entries(e).map(async(ge,qe,Pe)=>{if(Pe.indexOf(ge)!==qe){ne(qe,"duplicate url");return}let[je,ye]=ge;je=kr(je);let Q;try{Q=await this.ensureRelay(je,{connectionTimeout:o.maxWait?Math.max(o.maxWait*.8,o.maxWait-1e3):void 0})}catch(We){ne(qe,(We==null?void 0:We.message)||String(We));return}let Ae=Q.subscribe(ye,{...o,oneose:()=>se(qe),onclose:We=>ne(qe,We),alreadyHaveEvent:F,eoseTimeout:o.maxWait});J.push(Ae)}));return{async close(){await Se,J.forEach(ge=>{ge.close()})}}}subscribeManyEose(e,o,p){const J=this.subscribeMany(e,o,{...p,oneose(){J.close()}});return J}async querySync(e,o,p){return new Promise(async J=>{const D=[];this.subscribeManyEose(e,[o],{...p,onevent(he){D.push(he)},onclose(he){J(D)}})})}async get(e,o,p){o.limit=1;const J=await this.querySync(e,o,p);return J.sort((D,he)=>he.created_at-D.created_at),J[0]||null}publish(e,o){return e.map(kr).map(async(p,J,D)=>{if(D.indexOf(p)!==J)return Promise.reject("duplicate url");let he=await this.ensureRelay(p);return he.publish(o).then(se=>{if(this.trackRelays){let le=this.seenOn.get(o.id);le||(le=new Set,this.seenOn.set(o.id,le)),le.add(he)}return se})})}listConnectionStatus(){const e=new Map;return this.relays.forEach((o,p)=>e.set(p,o.connected)),e}destroy(){this.relays.forEach(e=>e.close()),this.relays=new Map}},ni;try{ni=WebSocket}catch{}var Hs=class extends Us{constructor(){super({verifyEvent:Is,websocketImplementation:ni})}};/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function yr(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function rr(...e){const o=(D,he)=>se=>D(he(se)),p=Array.from(e).reverse().reduce((D,he)=>D?o(D,he.encode):he.encode,void 0),J=e.reduce((D,he)=>D?o(D,he.decode):he.decode,void 0);return{encode:p,decode:J}}function nr(e){return{encode:o=>{if(!Array.isArray(o)||o.length&&typeof o[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return o.map(p=>{if(yr(p),p<0||p>=e.length)throw new Error(`Digit index outside alphabet: ${p} (alphabet: ${e.length})`);return e[p]})},decode:o=>{if(!Array.isArray(o)||o.length&&typeof o[0]!="string")throw new Error("alphabet.decode input should be array of strings");return o.map(p=>{if(typeof p!="string")throw new Error(`alphabet.decode: not string element=${p}`);const J=e.indexOf(p);if(J===-1)throw new Error(`Unknown letter: "${p}". Allowed: ${e}`);return J})}}}function ir(e=""){if(typeof e!="string")throw new Error("join separator should be string");return{encode:o=>{if(!Array.isArray(o)||o.length&&typeof o[0]!="string")throw new Error("join.encode input should be array of strings");for(let p of o)if(typeof p!="string")throw new Error(`join.encode: non-string input=${p}`);return o.join(e)},decode:o=>{if(typeof o!="string")throw new Error("join.decode input should be string");return o.split(e)}}}function Mr(e,o="="){if(yr(e),typeof o!="string")throw new Error("padding chr should be string");return{encode(p){if(!Array.isArray(p)||p.length&&typeof p[0]!="string")throw new Error("padding.encode input should be array of strings");for(let J of p)if(typeof J!="string")throw new Error(`padding.encode: non-string input=${J}`);for(;p.length*e%8;)p.push(o);return p},decode(p){if(!Array.isArray(p)||p.length&&typeof p[0]!="string")throw new Error("padding.encode input should be array of strings");for(let D of p)if(typeof D!="string")throw new Error(`padding.decode: non-string input=${D}`);let J=p.length;if(J*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;J>0&&p[J-1]===o;J--)if(!((J-1)*e%8))throw new Error("Invalid padding: string has too much padding");return p.slice(0,J)}}}function ii(e){if(typeof e!="function")throw new Error("normalize fn should be function");return{encode:o=>o,decode:o=>e(o)}}function An(e,o,p){if(o<2)throw new Error(`convertRadix: wrong from=${o}, base cannot be less than 2`);if(p<2)throw new Error(`convertRadix: wrong to=${p}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let J=0;const D=[],he=Array.from(e);for(he.forEach(se=>{if(yr(se),se<0||se>=o)throw new Error(`Wrong integer: ${se}`)});;){let se=0,le=!0;for(let ne=J;ne<he.length;ne++){const F=he[ne],Se=o*se+F;if(!Number.isSafeInteger(Se)||o*se/o!==se||Se-F!==o*se)throw new Error("convertRadix: carry overflow");if(se=Se%p,he[ne]=Math.floor(Se/p),!Number.isSafeInteger(he[ne])||he[ne]*p+se!==Se)throw new Error("convertRadix: carry overflow");if(le)he[ne]?le=!1:J=ne;else continue}if(D.push(se),le)break}for(let se=0;se<e.length-1&&e[se]===0;se++)D.push(0);return D.reverse()}const si=(e,o)=>o?si(o,e%o):e,zr=(e,o)=>e+(o-si(e,o));function sn(e,o,p,J){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(o<=0||o>32)throw new Error(`convertRadix2: wrong from=${o}`);if(p<=0||p>32)throw new Error(`convertRadix2: wrong to=${p}`);if(zr(o,p)>32)throw new Error(`convertRadix2: carry overflow from=${o} to=${p} carryBits=${zr(o,p)}`);let D=0,he=0;const se=2**p-1,le=[];for(const ne of e){if(yr(ne),ne>=2**o)throw new Error(`convertRadix2: invalid data word=${ne} from=${o}`);if(D=D<<o|ne,he+o>32)throw new Error(`convertRadix2: carry overflow pos=${he} from=${o}`);for(he+=o;he>=p;he-=p)le.push((D>>he-p&se)>>>0);D&=2**he-1}if(D=D<<p-he&se,!J&&he>=o)throw new Error("Excess padding");if(!J&&D)throw new Error(`Non-zero padding: ${D}`);return J&&he>0&&le.push(D>>>0),le}function js(e){return yr(e),{encode:o=>{if(!(o instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return An(Array.from(o),2**8,e)},decode:o=>{if(!Array.isArray(o)||o.length&&typeof o[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(An(o,e,2**8))}}}function ur(e,o=!1){if(yr(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(zr(8,e)>32||zr(e,8)>32)throw new Error("radix2: carry overflow");return{encode:p=>{if(!(p instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return sn(Array.from(p),8,e,!o)},decode:p=>{if(!Array.isArray(p)||p.length&&typeof p[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(sn(p,e,8,o))}}}function Sn(e){if(typeof e!="function")throw new Error("unsafeWrapper fn should be function");return function(...o){try{return e.apply(null,o)}catch{}}}const Ks=rr(ur(4),nr("0123456789ABCDEF"),ir("")),Ys=rr(ur(5),nr("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),Mr(5),ir(""));rr(ur(5),nr("0123456789ABCDEFGHIJKLMNOPQRSTUV"),Mr(5),ir(""));rr(ur(5),nr("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),ir(""),ii(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));const Ws=rr(ur(6),nr("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),Mr(6),ir("")),Gs=rr(ur(6),nr("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),Mr(6),ir("")),pn=e=>rr(js(58),nr(e),ir("")),$n=pn("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");pn("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ");pn("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const qn=[0,2,3,5,6,7,9,10,11],Vs={encode(e){let o="";for(let p=0;p<e.length;p+=8){const J=e.subarray(p,p+8);o+=$n.encode(J).padStart(qn[J.length],"1")}return o},decode(e){let o=[];for(let p=0;p<e.length;p+=11){const J=e.slice(p,p+11),D=qn.indexOf(J.length),he=$n.decode(J);for(let se=0;se<he.length-D;se++)if(he[se]!==0)throw new Error("base58xmr: wrong padding");o=o.concat(Array.from(he.slice(he.length-D)))}return Uint8Array.from(o)}},on=rr(nr("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),ir("")),Cn=[996825010,642813549,513874426,1027748829,705979059];function xr(e){const o=e>>25;let p=(e&33554431)<<5;for(let J=0;J<Cn.length;J++)(o>>J&1)===1&&(p^=Cn[J]);return p}function Rn(e,o,p=1){const J=e.length;let D=1;for(let he=0;he<J;he++){const se=e.charCodeAt(he);if(se<33||se>126)throw new Error(`Invalid prefix (${e})`);D=xr(D)^se>>5}D=xr(D);for(let he=0;he<J;he++)D=xr(D)^e.charCodeAt(he)&31;for(let he of o)D=xr(D)^he;for(let he=0;he<6;he++)D=xr(D);return D^=p,on.encode(sn([D%2**30],30,5,!1))}function $i(e){const o=e==="bech32"?1:734539939,p=ur(5),J=p.decode,D=p.encode,he=Sn(J);function se(Se,ge,qe=90){if(typeof Se!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof Se}`);if(!Array.isArray(ge)||ge.length&&typeof ge[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof ge}`);const Pe=Se.length+7+ge.length;if(qe!==!1&&Pe>qe)throw new TypeError(`Length ${Pe} exceeds limit ${qe}`);return Se=Se.toLowerCase(),`${Se}1${on.encode(ge)}${Rn(Se,ge,o)}`}function le(Se,ge=90){if(typeof Se!="string")throw new Error(`bech32.decode input should be string, not ${typeof Se}`);if(Se.length<8||ge!==!1&&Se.length>ge)throw new TypeError(`Wrong string length: ${Se.length} (${Se}). Expected (8..${ge})`);const qe=Se.toLowerCase();if(Se!==qe&&Se!==Se.toUpperCase())throw new Error("String must be lowercase or uppercase");Se=qe;const Pe=Se.lastIndexOf("1");if(Pe===0||Pe===-1)throw new Error('Letter "1" must be present between prefix and data only');const je=Se.slice(0,Pe),ye=Se.slice(Pe+1);if(ye.length<6)throw new Error("Data must be at least 6 characters long");const Q=on.decode(ye).slice(0,-6),Ae=Rn(je,Q,o);if(!ye.endsWith(Ae))throw new Error(`Invalid checksum in ${Se}: expected "${Ae}"`);return{prefix:je,words:Q}}const ne=Sn(le);function F(Se){const{prefix:ge,words:qe}=le(Se,!1);return{prefix:ge,words:qe,bytes:J(qe)}}return{encode:se,decode:le,decodeToBytes:F,decodeUnsafe:ne,fromWords:J,fromWordsUnsafe:he,toWords:D}}const In=$i("bech32");$i("bech32m");const Xs={encode:e=>new TextDecoder().decode(e),decode:e=>new TextEncoder().encode(e)},Zs=rr(ur(4),nr("0123456789abcdef"),ir(""),ii(e=>{if(typeof e!="string"||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})),Js={utf8:Xs,hex:Zs,base16:Ks,base32:Ys,base64:Ws,base64url:Gs,base58:$n,base58xmr:Vs};`${Object.keys(Js).join(", ")}`;var qr=new TextDecoder("utf-8");new TextEncoder;var Qs=5e3;function Os(e){var D,he,se,le,ne,F,Se;let{prefix:o,words:p}=In.decode(e,Qs),J=new Uint8Array(In.fromWords(p));switch(o){case"nprofile":{let ge=Zr(J);if(!((D=ge[0])!=null&&D[0]))throw new Error("missing TLV 0 for nprofile");if(ge[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:Qt(ge[0][0]),relays:ge[1]?ge[1].map(qe=>qr.decode(qe)):[]}}}case"nevent":{let ge=Zr(J);if(!((he=ge[0])!=null&&he[0]))throw new Error("missing TLV 0 for nevent");if(ge[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");if(ge[2]&&ge[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(ge[3]&&ge[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:Qt(ge[0][0]),relays:ge[1]?ge[1].map(qe=>qr.decode(qe)):[],author:(se=ge[2])!=null&&se[0]?Qt(ge[2][0]):void 0,kind:(le=ge[3])!=null&&le[0]?parseInt(Qt(ge[3][0]),16):void 0}}}case"naddr":{let ge=Zr(J);if(!((ne=ge[0])!=null&&ne[0]))throw new Error("missing TLV 0 for naddr");if(!((F=ge[2])!=null&&F[0]))throw new Error("missing TLV 2 for naddr");if(ge[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(!((Se=ge[3])!=null&&Se[0]))throw new Error("missing TLV 3 for naddr");if(ge[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:qr.decode(ge[0][0]),pubkey:Qt(ge[2][0]),kind:parseInt(Qt(ge[3][0]),16),relays:ge[1]?ge[1].map(qe=>qr.decode(qe)):[]}}}case"nsec":return{type:o,data:J};case"npub":case"note":return{type:o,data:Qt(J)};default:throw new Error(`unknown prefix ${o}`)}}function Zr(e){let o={},p=e;for(;p.length>0;){let J=p[0],D=p[1],he=p.slice(2,2+D);if(p=p.slice(2+D),he.length<D)throw new Error(`not enough data to read on TLV ${J}`);o[J]=o[J]||[],o[J].push(he)}return o}const e$=["wss://relay.wikifreedia.xyz","wss://nostr.wine","wss://nostr21.com","wss://relay.nostr.band"],t$=({type:e,data:o})=>e==="nevent"?{ids:[o.id]}:{kinds:[o.kind],authors:[o.pubkey],"#d":[o.identifier]},r$=(e,o)=>e==null?void 0:e.tags.find(p=>p[0]==o),gn=(e,o)=>{var p;return((p=document.querySelector(`meta[name='${e}']`))==null?void 0:p.getAttribute("content"))||o},n$=e=>e.trim().toLowerCase().replace(/\W/g,"-"),oi=async()=>{var le;const e=new Hs,o=location.hash.substring(1),p=o.startsWith("nreq")?nreq.decode(o):t$(Os(o)),J=await e.get($$,p),D=pi(),he=s$(J.content),se=(le=r$(J,"title"))==null?void 0:le[1];se&&(document.title=`${se} / Wiki Article`),document.body.innerHTML=D.convert(he)},i$=()=>{document.body.style.marginLeft="auto",document.body.style.marginRight="auto",document.body.style.maxWidth="800px"},s$=e=>e.replace(/\[\[(.*?)\]\]/g,(o,p)=>{const[J,D]=p.split("|"),he=D||J,se=n$(J),le=nreq.encode({kinds:[30818],"#d":[se]});return`link:${a$}${le}[${he}]`}),$$=gn("relays",e$),o$=gn("usage")!=="false",a$=gn("wikilink-prefix","#");window.addEventListener("hashchange",oi);!location.hash&&o$?document.body.innerHTML=`<p>
     usage:
     <code
       >https://asaitoshiya.github.io/nostr-toybox/wiki-article/dist/#&lt;nip-19-code&gt;</code
     >
   </p>`:i$()||oi();</script>
  </head>
  <body>
    <div id="app"></div>
    <script src="../../nreq/dist/nreq.js"></script>
  </body>
</html>
